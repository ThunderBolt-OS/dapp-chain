import{a as J,g as q,b as w,z as at,_ as g,x as K,j as o,s as S,ae as et,K as N,r as B,u as D,p as W,e as T,c as M,h as H,a1 as Q,q as ot,S as U,T as z,L as st,P as nt,B as rt,W as it}from"./index-c1be743a.js";import{J as _}from"./index-fbe56cf4.js";import"./numeral-f1857c3e.js";import{F,L as A,a as lt}from"./label-f8954abf.js";import{u as ct}from"./use-interval-371bbf53.js";import{C as dt}from"./Container-c4415724.js";import{G as V}from"./Grid-5556d8af.js";function pt(t){return J("MuiPagination",t)}q("MuiPagination",["root","ul","outlined","text"]);const ut=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function gt(t={}){const{boundaryCount:a=1,componentName:e="usePagination",count:s=1,defaultPage:u=1,disabled:c=!1,hideNextButton:x=!1,hidePrevButton:l=!1,onChange:v,page:p,showFirstButton:d=!1,showLastButton:C=!1,siblingCount:f=1}=t,n=w(t,ut),[i,R]=at({controlled:p,default:u,name:e,state:"page"}),j=(r,P)=>{p||R(P),v&&v(r,P)},y=(r,P)=>{const Z=P-r+1;return Array.from({length:Z},(Ot,tt)=>r+tt)},I=y(1,Math.min(a,s)),m=y(Math.max(s-a+1,a+1),s),k=Math.max(Math.min(i-f,s-a-f*2-1),a+2),$=Math.min(Math.max(i+f,a+f*2+2),m.length>0?m[0]-2:s-1),O=[...d?["first"]:[],...l?[]:["previous"],...I,...k>a+2?["start-ellipsis"]:a+1<s-a?[a+1]:[],...y(k,$),...$<s-a-1?["end-ellipsis"]:s-a>a?[s-a]:[],...m,...x?[]:["next"],...C?["last"]:[]],L=r=>{switch(r){case"first":return 1;case"previous":return i-1;case"next":return i+1;case"last":return s;default:return null}},h=O.map(r=>typeof r=="number"?{onClick:P=>{j(P,r)},type:"page",page:r,selected:r===i,disabled:c,"aria-current":r===i?"true":void 0}:{onClick:P=>{j(P,L(r))},type:r,page:L(r),selected:!1,disabled:c||r.indexOf("ellipsis")===-1&&(r==="next"||r==="last"?i>=s:i<=1)});return g({items:h},n)}function xt(t){return J("MuiPaginationItem",t)}const vt=q("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),b=vt,E=K(o.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),G=K(o.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),bt=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],X=(t,a)=>{const{ownerState:e}=t;return[a.root,a[e.variant],a[`size${M(e.size)}`],e.variant==="text"&&a[`text${M(e.color)}`],e.variant==="outlined"&&a[`outlined${M(e.color)}`],e.shape==="rounded"&&a.rounded,e.type==="page"&&a.page,(e.type==="start-ellipsis"||e.type==="end-ellipsis")&&a.ellipsis,(e.type==="previous"||e.type==="next")&&a.previousNext,(e.type==="first"||e.type==="last")&&a.firstLast]},ft=t=>{const{classes:a,color:e,disabled:s,selected:u,size:c,shape:x,type:l,variant:v}=t,p={root:["root",`size${M(c)}`,v,x,e!=="standard"&&`${v}${M(e)}`,s&&"disabled",u&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return H(p,xt,a)},yt=S("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:X})(({theme:t,ownerState:a})=>g({},t.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${b.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},a.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)})),mt=S(et,{name:"MuiPaginationItem",slot:"Root",overridesResolver:X})(({theme:t,ownerState:a})=>g({},t.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${b.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${b.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selected} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:N(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${b.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selected} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:N(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},[`&.${b.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}}},a.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)},a.shape==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius}),({theme:t,ownerState:a})=>g({},a.variant==="text"&&{[`&.${b.selected}`]:g({},a.color!=="standard"&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}},[`&.${b.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a.color].dark}},{[`&.${b.disabled}`]:{color:(t.vars||t).palette.action.disabled}})},a.variant==="outlined"&&{border:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${b.selected}`]:g({},a.color!=="standard"&&{color:(t.vars||t).palette[a.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / 0.5)`:N(t.palette[a.color].main,.5)}`,backgroundColor:t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / ${t.vars.palette.action.activatedOpacity})`:N(t.palette[a.color].main,t.palette.action.activatedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:N(t.palette[a.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:N(t.palette[a.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity)}},{[`&.${b.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}})})),ht=S("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(t,a)=>a.icon})(({theme:t,ownerState:a})=>g({fontSize:t.typography.pxToRem(20),margin:"0 -8px"},a.size==="small"&&{fontSize:t.typography.pxToRem(18)},a.size==="large"&&{fontSize:t.typography.pxToRem(22)})),Pt=B.forwardRef(function(a,e){const s=D({props:a,name:"MuiPaginationItem"}),{className:u,color:c="standard",component:x,components:l={},disabled:v=!1,page:p,selected:d=!1,shape:C="circular",size:f="medium",slots:n={},type:i="page",variant:R="text"}=s,j=w(s,bt),y=g({},s,{color:c,disabled:v,selected:d,shape:C,size:f,type:i,variant:R}),I=W(),m=ft(y),$=(I.direction==="rtl"?{previous:n.next||l.next||G,next:n.previous||l.previous||E,last:n.first||l.first||F,first:n.last||l.last||A}:{previous:n.previous||l.previous||E,next:n.next||l.next||G,first:n.first||l.first||F,last:n.last||l.last||A})[i];return i==="start-ellipsis"||i==="end-ellipsis"?o.jsx(yt,{ref:e,ownerState:y,className:T(m.root,u),children:"â€¦"}):o.jsxs(mt,g({ref:e,ownerState:y,component:x,disabled:v,className:T(m.root,u)},j,{children:[i==="page"&&p,$?o.jsx(ht,{as:$,ownerState:y,className:m.icon}):null]}))}),Ct=Pt,$t=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],jt=t=>{const{classes:a,variant:e}=t;return H({root:["root",e],ul:["ul"]},pt,a)},It=S("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:e}=t;return[a.root,a[e.variant]]}})({}),Nt=S("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(t,a)=>a.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Bt(t,a,e){return t==="page"?`${e?"":"Go to "}page ${a}`:`Go to ${t} page`}const zt=B.forwardRef(function(a,e){const s=D({props:a,name:"MuiPagination"}),{boundaryCount:u=1,className:c,color:x="standard",count:l=1,defaultPage:v=1,disabled:p=!1,getItemAriaLabel:d=Bt,hideNextButton:C=!1,hidePrevButton:f=!1,renderItem:n=h=>o.jsx(Ct,g({},h)),shape:i="circular",showFirstButton:R=!1,showLastButton:j=!1,siblingCount:y=1,size:I="medium",variant:m="text"}=s,k=w(s,$t),{items:$}=gt(g({},s,{componentName:"Pagination"})),O=g({},s,{boundaryCount:u,color:x,count:l,defaultPage:v,disabled:p,getItemAriaLabel:d,hideNextButton:C,hidePrevButton:f,renderItem:n,shape:i,showFirstButton:R,showLastButton:j,siblingCount:y,size:I,variant:m}),L=jt(O);return o.jsx(It,g({"aria-label":"pagination navigation",className:T(L.root,c),ownerState:O,ref:e},k,{children:o.jsx(Nt,{className:L.ul,ownerState:O,children:$.map((h,r)=>o.jsx("li",{children:n(g({},h,{color:x,"aria-label":d(h.type,h.page,h.selected),shape:i,size:I,variant:m}))},r))})}))}),Rt=zt;function Y({blockData:t}){const a=W(),e=Q(),s=t.result.timestamp?(new Date-new Date(parseInt(t.result.timestamp,16)))/36e5<1&&o.jsx(lt,{variant:"filled",color:"error",sx:{zIndex:9,top:16,right:16,position:"absolute",textTransform:"uppercase"},children:"New"}):null,u=c=>{if(!c)return"";if(c.length>10){const x=c.substring(0,6),l=c.slice(-4);return`${x}...${l}`}return c};return o.jsx(ot,{elevation:3,sx:{backgroundColor:a.palette.primary.lighter,borderRadius:"8px",cursor:"pointer"},onClick:()=>{e.push(`/product-detail/${t.result.hash}`)},children:o.jsxs(U,{spacing:2,sx:{p:3},children:[s,o.jsxs(z,{variant:"h6",sx:{fontWeight:"bold",marginBottom:1},children:["Block #",t.id]}),o.jsxs(U,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[o.jsxs(z,{variant:"body1",children:["Miner: ",parseInt(t.result.miner,16)]}),o.jsxs(z,{variant:"body1",children:["Size: ",parseInt(t.result.size,16)," bytes"]})]}),o.jsx(st,{color:"primary",underline:"hover",variant:"subtitle1",noWrap:!0,onClick:()=>{e.push(`/product-detail/${t.result.hash}`)},sx:{cursor:"pointer"},children:u(t.result.hash)}),o.jsxs(z,{variant:"body2",sx:{fontStyle:"italic"},children:["Time: ",new Date(parseInt(t.result.timestamp,16)).toString()]})]})})}Y.propTypes={blockData:nt.object.isRequired};function kt(){Q(),W();const[t,a]=B.useState(null),[e,s]=B.useState(1),u=50,c=[],[x,l]=B.useState([]);ct(()=>{fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:1})}).then(d=>d.json()).then(d=>{a(parseInt(d.result,16))}).catch(d=>{console.log(d)})},1e3),B.useEffect(()=>{const p=_;if(t){const d=t-(e-1)*u,C=Math.max(d-u+1,1),f=[];for(let n=d;n>=C;n--)c.push(fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:[`0x${n.toString(16)}`,!0],id:n})}));Promise.all(c).then(n=>Promise.all(n.map(i=>i.json()))).then(n=>{f.push(...n.reverse()),l(f)}).catch(n=>{console.log(n)})}},[t,e]);const v=(p,d)=>{s(d)};return o.jsxs(dt,{children:[o.jsx(U,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:o.jsx(z,{variant:"h4",children:"My Products"})}),o.jsx(V,{container:!0,spacing:3,children:x.reverse().map(p=>o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(Y,{blockData:p})},p.id))}),o.jsxs(rt,{sx:{mt:3,display:"flex",justifyContent:"center",alignItems:"center"},children:[o.jsxs(z,{variant:"body2",children:["Page: ",e]}),o.jsx(Rt,{count:Math.ceil(t/u),page:e,onChange:v,color:"primary",showFirstButton:!0,showLastButton:!0})]})]})}function _t(){return o.jsxs(o.Fragment,{children:[o.jsx(it,{children:o.jsx("title",{children:" Products | Minimal UI "})}),o.jsx(kt,{})]})}export{_t as default};
