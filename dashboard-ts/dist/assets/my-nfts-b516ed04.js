import{p as w,r as i,a1 as T,j as e,S as m,T as a,W as C}from"./index-c1be743a.js";import{B as N,C as F,N as v,a as M,f as b}from"./NFTMarketplace-a3d69bb5.js";import{c as d,N as I}from"./no-nfts-31e9c2f5.js";import{M as S}from"./index-fbe56cf4.js";import{C as k}from"./Container-c4415724.js";import{G as p}from"./Grid-5556d8af.js";import{C as E}from"./Card-3aa4196d.js";import{C as R}from"./Chip-16ebfb26.js";const U=()=>{const x=w(),[n,h]=i.useState([]),[g,j]=i.useState("not-loaded");T(),i.useEffect(()=>{u()},[]);async function u(){const r=await new N(window.ethereum).getSigner(),o=new F(S,v.abi,r),c=await o.fetchMyNFTs();console.log("MY NFT",c);const f=await Promise.all(c.map(async s=>{const l=await o.tokenURI(s.tokenId),y=await M.get(d(l.replace("/metadata.json",""))+"/metadata.json");return{price:b(s.price.toString(),"ether"),tokenId:s.tokenId,seller:s.seller,owner:s.owner,image:d(y.data.image,!0),tokenURI:l}}));h(f),j("loaded")}return g==="loaded"&&!n.length?e.jsx(I,{title:"My NFTs",body:"No items in the marketplace"}):e.jsxs(k,{children:[e.jsx(m,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsx(a,{variant:"h4",children:"My NFTs"})}),e.jsx(p,{container:!0,spacing:4,children:n.map((t,r)=>e.jsx(p,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(E,{sx:{p:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[e.jsxs("div",{children:[e.jsx("img",{src:t.image,alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx(a,{variant:"h5",sx:{mt:2},children:t.name}),e.jsx(a,{variant:"body1",sx:{mt:2},children:t.description})]}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"}}),e.jsxs(m,{direction:"row",alignItems:"center",spacing:1,sx:{justifyContent:"flex-end"},children:[e.jsx(a,{variant:"subtitle1",children:t.price}),e.jsx(R,{icon:e.jsx("img",{src:"/assets/ethereum.svg",alt:"ETH",width:18,height:18}),label:"ETH",size:"small",sx:{marginRight:1,backgroundColor:x.palette.grey[300],display:"flex",alignItems:"center",justifyContent:"center"}})]})]})},r))})]})},A=U;function O(){return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx("title",{children:" My NFTs | Minimal UI "})}),e.jsx(A,{})]})}export{O as default};
