import{ai as _typeof$1,j as jsxRuntimeExports,p as useTheme,aj as useCreateNFT,r as reactExports,a3 as useSnackbar,B as Box,T as Typography,ak as CircularProgress,I as IconButton,a9 as getDefaultExportFromCjs,al as commonjsGlobal,am as getAugmentedNamespace,an as React,ao as hoistNonReactStatics,_ as _extends$1,ap as _inheritsLoose$1,aq as _assertThisInitialized$1,b as _objectWithoutPropertiesLoose,ar as reactDomExports,a1 as useRouter,v as useChainDetails,S as Stack$1,V as InputAdornment,Q as Avatar,m as Button,W}from"./index-c1be743a.js";import{r as requireCreateSvgIcon,i as interopRequireDefaultExports}from"./createSvgIcon-3b5f10c6.js";import{h as _baseGetTag,g as isObjectLike_1,i as isObject_1,q as _isIterateeCall,r as _Symbol,l as isArray_1,a as _root,s as _MapCache,b as _Uint8Array,e as eq_1,c as _overArg,d as _isPrototype,j as _arrayLikeKeys,f as isArrayLike_1,_ as _getNative,t as _Map,u as _toSource,p as _Stack,m as isBufferExports,o as isTypedArray_1}from"./_isIterateeCall-f9565446.js";import{B as BrowserProvider,p as parseUnits,C as Contract,N as NFTMarketplace,a as axios}from"./NFTMarketplace-a3d69bb5.js";import{M as MARKETPLACE_CONTRACT_ADDRESS,B as BACKEND_API_URL}from"./index-fbe56cf4.js";import{T as TextField}from"./TextField-cd8368fe.js";import{C as Chip}from"./Chip-16ebfb26.js";import{G as Grid}from"./Grid-5556d8af.js";import{C as Container}from"./Container-c4415724.js";import"./isMuiElement-3683e2a8.js";import"./Select-e8dfc0e9.js";function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}function _toPrimitive(t,e){if(_typeof$1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof$1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof$1(e)==="symbol"?e:String(e)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var AddCircleOutline={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(AddCircleOutline,"__esModule",{value:!0});var default_1$1=AddCircleOutline.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports,_default$1=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");default_1$1=AddCircleOutline.default=_default$1;var Delete={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(Delete,"__esModule",{value:!0});var default_1=Delete.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");default_1=Delete.default=_default;const ImageUpload=()=>{const t=useTheme(),{nftFormData:e,updateNftFormData:r}=useCreateNFT(),[n,o]=reactExports.useState(null),[s,a]=reactExports.useState(!1),[u,c]=reactExports.useState(!1),{enqueueSnackbar:h}=useSnackbar(),d=w=>{if(w.preventDefault(),c(!1),!n&&!s){const A=w.dataTransfer.files[0];B(A)}},m=w=>{if(!n&&!s){const A=w.target.files[0];B(A)}},v=()=>{o(null)},B=w=>{if(a(!0),w&&$(w)){const A=new FileReader;A.onloadend=()=>{o(A.result),r({...e,base64Image:A.result,imageFile:w}),a(!1)},A.readAsDataURL(w)}else a(!1),console.error("Invalid image format. Please select a .png, .jpg, or .jpeg file."),h("Invalid image format. Please select a .png, .jpg, or .jpeg file.",{variant:"error",autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})},$=w=>/(\.png|\.jpg|\.jpeg|\.avif)$/i.test(w.name),p=w=>{w.preventDefault(),c(!0)},b=()=>{c(!1)};return jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",padding:"20px",border:`2.5px dashed ${u?`${t.palette.primary.main}`:`${t.palette.grey[600]}`}`,backgroundColor:`${u?`${t.palette.primary.lighter}`:`${t.palette.grey[50]}`}`,borderRadius:"13px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},onDrop:d,onDragOver:p,onDragLeave:b,children:[jsxRuntimeExports.jsx(Typography,{variant:"h5",gutterBottom:!0,children:"Drag & Drop or Click to Upload Image"}),s?jsxRuntimeExports.jsx(CircularProgress,{color:"primary",size:50}):n?jsxRuntimeExports.jsxs("div",{style:{position:"relative",maxWidth:"100%",maxHeight:"100%"},children:[jsxRuntimeExports.jsx(IconButton,{style:{position:"absolute",top:"0",right:"0"},onClick:v,color:"error",children:jsxRuntimeExports.jsx(default_1,{fontSize:"small"})}),jsxRuntimeExports.jsx("img",{src:n,alt:"Preview",style:{maxWidth:"100%",maxHeight:"220px"}}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",style:{marginTop:"5px"},children:["Size: ",n&&`${n.length*.75/1024} KB`," "]})]}):jsxRuntimeExports.jsx("label",{htmlFor:"image-upload",children:jsxRuntimeExports.jsx(IconButton,{color:"primary",component:"span",children:jsxRuntimeExports.jsx(default_1$1,{fontSize:"large"})})}),n&&jsxRuntimeExports.jsx(Typography,{variant:"caption",children:n.name}),jsxRuntimeExports.jsx("input",{type:"file",accept:".png, .jpg, .jpeg",style:{display:"none"},id:"image-upload",onChange:m})]})};function getIterator(t){if(typeof t.next=="function")return t;if(typeof t[Symbol.iterator]=="function")return t[Symbol.iterator]();if(typeof t[Symbol.asyncIterator]=="function")return t[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){let t,e;return{promise:new Promise((n,o)=>{e=n,t=o}),reject:t,resolve:e}}function _transform(t,e,r){const n=getIterator(r),o=[],s=[];let a=!1,u=!1,c=0,h=null;function d(){for(;s.length>0&&o.length>0;){const{resolve:p}=s.shift(),b=o.shift();p({done:!1,value:b})}for(;s.length>0&&c===0&&a;){const{resolve:p,reject:b}=s.shift();h?(b(h),h=null):p({done:!0,value:void 0})}}async function m(){if(a){d();return}if(!u&&!(c+o.length>=t)){u=!0,c++;try{const{done:p,value:b}=await n.next();p?(a=!0,c--,d()):v(b)}catch(p){a=!0,c--,h=p,d()}u=!1,m()}}async function v(p){try{const b=await e(p);o.push(b)}catch(b){a=!0,h=b}c--,d(),m()}async function B(){if(o.length===0){const b=defer();return s.push(b),m(),b.promise}const p=o.shift();return m(),{done:!1,value:p}}const $={next:B,[Symbol.asyncIterator]:()=>$};return $}function transform$1(t,e,r){return e===void 0?(n,o)=>o?transform$1(t,n,o):transform$1(t,n):r===void 0?n=>transform$1(t,e,n):_transform(t,e,r)}var pRetry$2={exports:{}},retry$2={};function RetryOperation(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};RetryOperation.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],s=o.message,a=(t[s]||0)+1;t[s]=a,a>=r&&(e=o,r=a)}return e};(function(t){var e=retry_operation;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in r)n[o]=r[o];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<n.retries;a++)s.push(this.createTimeout(a,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(a,n)),s.sort(function(u,c){return u-c}),s},t.createTimeout=function(r,n){var o=n.randomize?Math.random()+1:1,s=Math.round(o*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,o){if(n instanceof Array&&(o=n,n=null),!o){o=[];for(var s in r)typeof r[s]=="function"&&o.push(s)}for(var a=0;a<o.length;a++){var u=o[a],c=r[u];r[u]=(function(d){var m=t.operation(n),v=Array.prototype.slice.call(arguments,1),B=v.pop();v.push(function($){m.retry($)||($&&(arguments[0]=m.mainError()),B.apply(this,arguments))}),m.attempt(function(){d.apply(r,v)})}).bind(r,c),r[u].options=n}}})(retry$2);var retry$1=retry$2;const retry=retry$1,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class AbortError extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const decorateErrorWithCounts=(t,e,r)=>{const n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t},isNetworkError=t=>networkErrorMsgs.includes(t),pRetry=(t,e)=>new Promise((r,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};const o=retry.operation(e);o.attempt(async s=>{try{r(await t(s))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof AbortError)o.stop(),n(a.originalError);else if(a instanceof TypeError&&!isNetworkError(a.message))o.stop(),n(a);else{decorateErrorWithCounts(a,s,e);try{await e.onFailedAttempt(a)}catch(u){n(u);return}o.retry(a)||n(o.mainError())}}})});pRetry$2.exports=pRetry;pRetry$2.exports.default=pRetry;var AbortError_1=pRetry$2.exports.AbortError=AbortError,pRetryExports=pRetry$2.exports;const pRetry$1=getDefaultExportFromCjs(pRetryExports);var encode_1$6=encode$s,MSB$8=128,REST$8=127,MSBALL$6=~REST$8,INT$6=Math.pow(2,31);function encode$s(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw encode$s.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=INT$6;)e[r++]=t&255|MSB$8,t/=128;for(;t&MSBALL$6;)e[r++]=t&255|MSB$8,t>>>=7;return e[r]=t|0,encode$s.bytes=r-n+1,e}var decode$B=read$6,MSB$7=128,REST$7=127;function read$6(t,n){var r=0,n=n||0,o=0,s=n,a,u=t.length;do{if(s>=u||o>49)throw read$6.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=o<28?(a&REST$7)<<o:(a&REST$7)*Math.pow(2,o),o+=7}while(a>=MSB$7);return read$6.bytes=s-n,r}var N1$6=Math.pow(2,7),N2$6=Math.pow(2,14),N3$6=Math.pow(2,21),N4$6=Math.pow(2,28),N5$6=Math.pow(2,35),N6$6=Math.pow(2,42),N7$6=Math.pow(2,49),N8$6=Math.pow(2,56),N9$6=Math.pow(2,63),length$6=function(t){return t<N1$6?1:t<N2$6?2:t<N3$6?3:t<N4$6?4:t<N5$6?5:t<N6$6?6:t<N7$6?7:t<N8$6?8:t<N9$6?9:10},varint$6={encode:encode_1$6,decode:decode$B,encodingLength:length$6};const varint$7=getDefaultExportFromCjs(varint$6);var encode_1$5=encode$r,MSB$6=128,REST$6=127,MSBALL$5=~REST$6,INT$5=Math.pow(2,31);function encode$r(t,e,r){e=e||[],r=r||0;for(var n=r;t>=INT$5;)e[r++]=t&255|MSB$6,t/=128;for(;t&MSBALL$5;)e[r++]=t&255|MSB$6,t>>>=7;return e[r]=t|0,encode$r.bytes=r-n+1,e}var decode$A=read$5,MSB$1$5=128,REST$1$5=127;function read$5(t,n){var r=0,n=n||0,o=0,s=n,a,u=t.length;do{if(s>=u)throw read$5.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=o<28?(a&REST$1$5)<<o:(a&REST$1$5)*Math.pow(2,o),o+=7}while(a>=MSB$1$5);return read$5.bytes=s-n,r}var N1$5=Math.pow(2,7),N2$5=Math.pow(2,14),N3$5=Math.pow(2,21),N4$5=Math.pow(2,28),N5$5=Math.pow(2,35),N6$5=Math.pow(2,42),N7$5=Math.pow(2,49),N8$5=Math.pow(2,56),N9$5=Math.pow(2,63),length$5=function(t){return t<N1$5?1:t<N2$5?2:t<N3$5?3:t<N4$5?4:t<N5$5?5:t<N6$5?6:t<N7$5?7:t<N8$5?8:t<N9$5?9:10},varint$5={encode:encode_1$5,decode:decode$A,encodingLength:length$5},_brrp_varint$5=varint$5;const decode$z=(t,e=0)=>[_brrp_varint$5.decode(t,e),_brrp_varint$5.decode.bytes],encodeTo$5=(t,e,r=0)=>(_brrp_varint$5.encode(t,e,r),e),encodingLength$5=t=>_brrp_varint$5.encodingLength(t),equals$9=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},coerce$7=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},create$c=(t,e)=>{const r=e.byteLength,n=encodingLength$5(t),o=n+encodingLength$5(r),s=new Uint8Array(o+r);return encodeTo$5(t,s,0),encodeTo$5(r,s,n),s.set(e,o),new Digest$5(t,r,e,s)},decode$y=t=>{const e=coerce$7(t),[r,n]=decode$z(e),[o,s]=decode$z(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==o)throw new Error("Incorrect length");return new Digest$5(r,o,a,e)},equals$8=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&equals$9(t.bytes,e.bytes);let Digest$5=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};function base$7(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src$9=base$7,_brrp__multiformats_scope_baseX$7=src$9;let Encoder$7=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$7=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$7(this,e)}},ComposedDecoder$7=class{constructor(e){this.decoders=e}or(e){return or$7(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$7=(t,e)=>new ComposedDecoder$7({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Codec$7=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder$7(e,r,n),this.decoder=new Decoder$7(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$b=({name:t,prefix:e,encode:r,decode:n})=>new Codec$7(t,e,r,n),baseX$7=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX$7(r,e);return from$b({prefix:t,name:e,encode:n,decode:s=>coerce$7(o(s))})},decode$x=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$q=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648$7=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$b({prefix:e,name:t,encode(o){return encode$q(o,n,r)},decode(o){return decode$x(o,n,r,t)}}),base58btc$5=baseX$7({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$7({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$8=rfc4648$7({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$7({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$7({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$7({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$7({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$7({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$7({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$7({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$7({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let CID$4=class V{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden$4,byteLength:hidden$4,code:readonly$6,version:readonly$6,multihash:readonly$6,bytes:readonly$6,_baseCache:hidden$4,asCID:hidden$4})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==DAG_PB_CODE$4)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE$4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return V.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=create$c(e,r);return V.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&equals$8(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0$4(r,o,e||base58btc$5.encoder);default:return toStringV1$4(r,o,e||base32$8.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return deprecate$4(/^0\.0/,IS_CID_DEPRECATION$4),!!(e&&(e[cidSymbol$4]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof V)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:o,bytes:s}=e;return new V(r,n,o,s||encodeCID$4(r,n,o.bytes))}else if(e!=null&&e[cidSymbol$4]===!0){const{version:r,multihash:n,code:o}=e,s=decode$y(n);return V.create(r,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==DAG_PB_CODE$4)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$4}) block encoding`);return new V(e,r,n,n.bytes)}case 1:{const o=encodeCID$4(e,r,n.bytes);return new V(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return V.create(0,DAG_PB_CODE$4,e)}static createV1(e,r){return V.create(1,e,r)}static decode(e){const[r,n]=V.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=V.inspectBytes(e),n=r.size-r.multihashSize,o=coerce$7(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),a=new Digest$5(r.multihashCode,r.digestSize,s,o);return[r.version===0?V.createV0(a):V.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[m,v]=decode$z(e.subarray(r));return r+=v,m};let o=n(),s=DAG_PB_CODE$4;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=r,u=n(),c=n(),h=r+c,d=h-a;return{version:o,codec:s,multihashCode:u,digestSize:c,multihashSize:d,size:h}}static parse(e,r){const[n,o]=parseCIDtoBytes$4(e,r),s=V.decode(o);return s._baseCache.set(n,e),s}};const parseCIDtoBytes$4=(t,e)=>{switch(t[0]){case"Q":{const r=e||base58btc$5;return[base58btc$5.prefix,r.decode(`${base58btc$5.prefix}${t}`)]}case base58btc$5.prefix:{const r=e||base58btc$5;return[base58btc$5.prefix,r.decode(t)]}case base32$8.prefix:{const r=e||base32$8;return[base32$8.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},toStringV0$4=(t,e,r)=>{const{prefix:n}=r;if(n!==base58btc$5.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const s=r.encode(t).slice(1);return e.set(n,s),s}else return o},toStringV1$4=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const s=r.encode(t);return e.set(n,s),s}else return o},DAG_PB_CODE$4=112,SHA_256_CODE$4=18,encodeCID$4=(t,e,r)=>{const n=encodingLength$5(t),o=n+encodingLength$5(e),s=new Uint8Array(o+r.byteLength);return encodeTo$5(t,s,0),encodeTo$5(e,s,n),s.set(r,o),s},cidSymbol$4=Symbol.for("@ipld/js-cid/CID"),readonly$6={writable:!1,configurable:!1,enumerable:!0},hidden$4={writable:!1,enumerable:!1,configurable:!1},version$4="0.0.0-dev",deprecate$4=(t,e)=>{if(t.test(version$4))console.warn(e);else throw new Error(e)},IS_CID_DEPRECATION$4=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,typeofs$2=["string","number","bigint","symbol"],objectTypeNames$2=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$2(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";const e=typeof t;if(typeofs$2.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(isBuffer$6(t))return"Buffer";const r=getObjectType$2(t);return r||"Object"}function isBuffer$6(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function getObjectType$2(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(objectTypeNames$2.includes(e))return e}let Type$2=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Type$2.uint=new Type$2(0,"uint",!0);Type$2.negint=new Type$2(1,"negint",!0);Type$2.bytes=new Type$2(2,"bytes",!0);Type$2.string=new Type$2(3,"string",!0);Type$2.array=new Type$2(4,"array",!1);Type$2.map=new Type$2(5,"map",!1);Type$2.tag=new Type$2(6,"tag",!1);Type$2.float=new Type$2(7,"float",!0);Type$2.false=new Type$2(7,"false",!0);Type$2.true=new Type$2(7,"true",!0);Type$2.null=new Type$2(7,"null",!0);Type$2.undefined=new Type$2(7,"undefined",!0);Type$2.break=new Type$2(7,"break",!0);let Token$3=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};const useBuffer$2=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$4=new TextDecoder,textEncoder$6=new TextEncoder;function isBuffer$5(t){return useBuffer$2&&globalThis.Buffer.isBuffer(t)}function asU8A$2(t){return t instanceof Uint8Array?isBuffer$5(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const toString$7=useBuffer$2?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):utf8Slice$2(t,e,r):(t,e,r)=>r-e>64?textDecoder$4.decode(t.subarray(e,r)):utf8Slice$2(t,e,r),fromString$9=useBuffer$2?t=>t.length>64?globalThis.Buffer.from(t):utf8ToBytes$2(t):t=>t.length>64?textEncoder$6.encode(t):utf8ToBytes$2(t),fromArray$2=t=>Uint8Array.from(t),slice$2=useBuffer$2?(t,e,r)=>isBuffer$5(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),concat$4=useBuffer$2?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A$2(globalThis.Buffer.concat(t,e))):(t,e)=>{const r=new Uint8Array(e);let n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc$2=useBuffer$2?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function compare$2(t,e){if(isBuffer$5(t)&&isBuffer$5(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function utf8ToBytes$2(t,e=1/0){let r;const n=t.length;let o=null;const s=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function utf8Slice$2(t,e,r){const n=[];for(;e<r;){const o=t[e];let s=null,a=o>239?4:o>223?3:o>191?2:1;if(e+a<=r){let u,c,h,d;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[e+1],(u&192)===128&&(d=(o&31)<<6|u&63,d>127&&(s=d));break;case 3:u=t[e+1],c=t[e+2],(u&192)===128&&(c&192)===128&&(d=(o&15)<<12|(u&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:u=t[e+1],c=t[e+2],h=t[e+3],(u&192)===128&&(c&192)===128&&(h&192)===128&&(d=(o&15)<<18|(u&63)<<12|(c&63)<<6|h&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),e+=a}return decodeCodePointsArray$2(n)}const MAX_ARGUMENTS_LENGTH$2=4096;function decodeCodePointsArray$2(t){const e=t.length;if(e<=MAX_ARGUMENTS_LENGTH$2)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH$2));return r}const defaultChunkSize$2=256;let Bl$2=class{constructor(e=defaultChunkSize$2){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=alloc$2(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice$2(n,0,this.cursor)}else r=concat$4(this.chunks,this.cursor);return e&&this.reset(),r}};const decodeErrPrefix$2="CBOR decode error:",encodeErrPrefix$2="CBOR encode error:";function assertEnoughData$2(t,e,r){if(t.length-e<r)throw new Error(`${decodeErrPrefix$2} not enough data for type`)}const uintBoundaries$2=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8$2(t,e,r){assertEnoughData$2(t,e,1);const n=t[e];if(r.strict===!0&&n<uintBoundaries$2[0])throw new Error(`${decodeErrPrefix$2} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16$2(t,e,r){assertEnoughData$2(t,e,2);const n=t[e]<<8|t[e+1];if(r.strict===!0&&n<uintBoundaries$2[1])throw new Error(`${decodeErrPrefix$2} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32$2(t,e,r){assertEnoughData$2(t,e,4);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<uintBoundaries$2[2])throw new Error(`${decodeErrPrefix$2} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64$2(t,e,r){assertEnoughData$2(t,e,8);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<uintBoundaries$2[3])throw new Error(`${decodeErrPrefix$2} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${decodeErrPrefix$2} integers outside of the safe integer range are not supported`)}function decodeUint8$2(t,e,r,n){return new Token$3(Type$2.uint,readUint8$2(t,e+1,n),2)}function decodeUint16$2(t,e,r,n){return new Token$3(Type$2.uint,readUint16$2(t,e+1,n),3)}function decodeUint32$2(t,e,r,n){return new Token$3(Type$2.uint,readUint32$2(t,e+1,n),5)}function decodeUint64$2(t,e,r,n){return new Token$3(Type$2.uint,readUint64$2(t,e+1,n),9)}function encodeUint$2(t,e){return encodeUintValue$2(t,0,e.value)}function encodeUintValue$2(t,e,r){if(r<uintBoundaries$2[0]){const n=Number(r);t.push([e|n])}else if(r<uintBoundaries$2[1]){const n=Number(r);t.push([e|24,n])}else if(r<uintBoundaries$2[2]){const n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<uintBoundaries$2[3]){const n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries$2[4]){const o=[e|27,0,0,0,0,0,0,0];let s=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,t.push(o)}else throw new Error(`${decodeErrPrefix$2} encountered BigInt larger than allowable range`)}}encodeUint$2.encodedSize=function(e){return encodeUintValue$2.encodedSize(e.value)};encodeUintValue$2.encodedSize=function(e){return e<uintBoundaries$2[0]?1:e<uintBoundaries$2[1]?2:e<uintBoundaries$2[2]?3:e<uintBoundaries$2[3]?5:9};encodeUint$2.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function decodeNegint8$2(t,e,r,n){return new Token$3(Type$2.negint,-1-readUint8$2(t,e+1,n),2)}function decodeNegint16$2(t,e,r,n){return new Token$3(Type$2.negint,-1-readUint16$2(t,e+1,n),3)}function decodeNegint32$2(t,e,r,n){return new Token$3(Type$2.negint,-1-readUint32$2(t,e+1,n),5)}const neg1b$2=BigInt(-1),pos1b$2=BigInt(1);function decodeNegint64$2(t,e,r,n){const o=readUint64$2(t,e+1,n);if(typeof o!="bigint"){const s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new Token$3(Type$2.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix$2} integers outside of the safe integer range are not supported`);return new Token$3(Type$2.negint,neg1b$2-BigInt(o),9)}function encodeNegint$2(t,e){const r=e.value,n=typeof r=="bigint"?r*neg1b$2-pos1b$2:r*-1-1;encodeUintValue$2(t,e.type.majorEncoded,n)}encodeNegint$2.encodedSize=function(e){const r=e.value,n=typeof r=="bigint"?r*neg1b$2-pos1b$2:r*-1-1;return n<uintBoundaries$2[0]?1:n<uintBoundaries$2[1]?2:n<uintBoundaries$2[2]?3:n<uintBoundaries$2[3]?5:9};encodeNegint$2.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function toToken$b(t,e,r,n){assertEnoughData$2(t,e,r+n);const o=slice$2(t,e+r,e+r+n);return new Token$3(Type$2.bytes,o,r+n)}function decodeBytesCompact$2(t,e,r,n){return toToken$b(t,e,1,r)}function decodeBytes8$2(t,e,r,n){return toToken$b(t,e,2,readUint8$2(t,e+1,n))}function decodeBytes16$2(t,e,r,n){return toToken$b(t,e,3,readUint16$2(t,e+1,n))}function decodeBytes32$2(t,e,r,n){return toToken$b(t,e,5,readUint32$2(t,e+1,n))}function decodeBytes64$2(t,e,r,n){const o=readUint64$2(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$2} 64-bit integer bytes lengths not supported`);return toToken$b(t,e,9,o)}function tokenBytes$2(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Type$2.string?fromString$9(t.value):t.value),t.encodedBytes}function encodeBytes$2(t,e){const r=tokenBytes$2(e);encodeUintValue$2(t,e.type.majorEncoded,r.length),t.push(r)}encodeBytes$2.encodedSize=function(e){const r=tokenBytes$2(e);return encodeUintValue$2.encodedSize(r.length)+r.length};encodeBytes$2.compareTokens=function(e,r){return compareBytes$2(tokenBytes$2(e),tokenBytes$2(r))};function compareBytes$2(t,e){return t.length<e.length?-1:t.length>e.length?1:compare$2(t,e)}function toToken$a(t,e,r,n,o){const s=r+n;assertEnoughData$2(t,e,s);const a=new Token$3(Type$2.string,toString$7(t,e+r,e+s),s);return o.retainStringBytes===!0&&(a.byteValue=slice$2(t,e+r,e+s)),a}function decodeStringCompact$2(t,e,r,n){return toToken$a(t,e,1,r,n)}function decodeString8$2(t,e,r,n){return toToken$a(t,e,2,readUint8$2(t,e+1,n),n)}function decodeString16$2(t,e,r,n){return toToken$a(t,e,3,readUint16$2(t,e+1,n),n)}function decodeString32$2(t,e,r,n){return toToken$a(t,e,5,readUint32$2(t,e+1,n),n)}function decodeString64$2(t,e,r,n){const o=readUint64$2(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$2} 64-bit integer string lengths not supported`);return toToken$a(t,e,9,o,n)}const encodeString$2=encodeBytes$2;function toToken$9(t,e,r,n){return new Token$3(Type$2.array,n,r)}function decodeArrayCompact$2(t,e,r,n){return toToken$9(t,e,1,r)}function decodeArray8$2(t,e,r,n){return toToken$9(t,e,2,readUint8$2(t,e+1,n))}function decodeArray16$2(t,e,r,n){return toToken$9(t,e,3,readUint16$2(t,e+1,n))}function decodeArray32$2(t,e,r,n){return toToken$9(t,e,5,readUint32$2(t,e+1,n))}function decodeArray64$2(t,e,r,n){const o=readUint64$2(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$2} 64-bit integer array lengths not supported`);return toToken$9(t,e,9,o)}function decodeArrayIndefinite$2(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$2} indefinite length items not allowed`);return toToken$9(t,e,1,1/0)}function encodeArray$2(t,e){encodeUintValue$2(t,Type$2.array.majorEncoded,e.value)}encodeArray$2.compareTokens=encodeUint$2.compareTokens;encodeArray$2.encodedSize=function(e){return encodeUintValue$2.encodedSize(e.value)};function toToken$8(t,e,r,n){return new Token$3(Type$2.map,n,r)}function decodeMapCompact$2(t,e,r,n){return toToken$8(t,e,1,r)}function decodeMap8$2(t,e,r,n){return toToken$8(t,e,2,readUint8$2(t,e+1,n))}function decodeMap16$2(t,e,r,n){return toToken$8(t,e,3,readUint16$2(t,e+1,n))}function decodeMap32$2(t,e,r,n){return toToken$8(t,e,5,readUint32$2(t,e+1,n))}function decodeMap64$2(t,e,r,n){const o=readUint64$2(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$2} 64-bit integer map lengths not supported`);return toToken$8(t,e,9,o)}function decodeMapIndefinite$2(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$2} indefinite length items not allowed`);return toToken$8(t,e,1,1/0)}function encodeMap$2(t,e){encodeUintValue$2(t,Type$2.map.majorEncoded,e.value)}encodeMap$2.compareTokens=encodeUint$2.compareTokens;encodeMap$2.encodedSize=function(e){return encodeUintValue$2.encodedSize(e.value)};function decodeTagCompact$2(t,e,r,n){return new Token$3(Type$2.tag,r,1)}function decodeTag8$2(t,e,r,n){return new Token$3(Type$2.tag,readUint8$2(t,e+1,n),2)}function decodeTag16$2(t,e,r,n){return new Token$3(Type$2.tag,readUint16$2(t,e+1,n),3)}function decodeTag32$2(t,e,r,n){return new Token$3(Type$2.tag,readUint32$2(t,e+1,n),5)}function decodeTag64$2(t,e,r,n){return new Token$3(Type$2.tag,readUint64$2(t,e+1,n),9)}function encodeTag$2(t,e){encodeUintValue$2(t,Type$2.tag.majorEncoded,e.value)}encodeTag$2.compareTokens=encodeUint$2.compareTokens;encodeTag$2.encodedSize=function(e){return encodeUintValue$2.encodedSize(e.value)};const MINOR_FALSE$2=20,MINOR_TRUE$2=21,MINOR_NULL$2=22,MINOR_UNDEFINED$2=23;function decodeUndefined$2(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix$2} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token$3(Type$2.null,null,1):new Token$3(Type$2.undefined,void 0,1)}function decodeBreak$2(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$2} indefinite length items not allowed`);return new Token$3(Type$2.break,void 0,1)}function createToken$2(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${decodeErrPrefix$2} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${decodeErrPrefix$2} Infinity values are not supported`)}return new Token$3(Type$2.float,t,e)}function decodeFloat16$2(t,e,r,n){return createToken$2(readFloat16$2(t,e+1),3,n)}function decodeFloat32$2(t,e,r,n){return createToken$2(readFloat32$2(t,e+1),5,n)}function decodeFloat64$2(t,e,r,n){return createToken$2(readFloat64$2(t,e+1),9,n)}function encodeFloat$2(t,e,r){const n=e.value;if(n===!1)t.push([Type$2.float.majorEncoded|MINOR_FALSE$2]);else if(n===!0)t.push([Type$2.float.majorEncoded|MINOR_TRUE$2]);else if(n===null)t.push([Type$2.float.majorEncoded|MINOR_NULL$2]);else if(n===void 0)t.push([Type$2.float.majorEncoded|MINOR_UNDEFINED$2]);else{let o,s=!1;(!r||r.float64!==!0)&&(encodeFloat16$2(n),o=readFloat16$2(ui8a$2,1),n===o||Number.isNaN(n)?(ui8a$2[0]=249,t.push(ui8a$2.slice(0,3)),s=!0):(encodeFloat32$2(n),o=readFloat32$2(ui8a$2,1),n===o&&(ui8a$2[0]=250,t.push(ui8a$2.slice(0,5)),s=!0))),s||(encodeFloat64$2(n),o=readFloat64$2(ui8a$2,1),ui8a$2[0]=251,t.push(ui8a$2.slice(0,9)))}}encodeFloat$2.encodedSize=function(e,r){const n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16$2(n);let o=readFloat16$2(ui8a$2,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32$2(n),o=readFloat32$2(ui8a$2,1),n===o)return 5}return 9};const buffer$3=new ArrayBuffer(9),dataView$2=new DataView(buffer$3,1),ui8a$2=new Uint8Array(buffer$3,0);function encodeFloat16$2(t){if(t===1/0)dataView$2.setUint16(0,31744,!1);else if(t===-1/0)dataView$2.setUint16(0,64512,!1);else if(Number.isNaN(t))dataView$2.setUint16(0,32256,!1);else{dataView$2.setFloat32(0,t);const e=dataView$2.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)dataView$2.setUint16(0,31744,!1);else if(r===0)dataView$2.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView$2.setUint16(0,0):o<-14?dataView$2.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):dataView$2.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16$2(t,e){if(t.length-e<2)throw new Error(`${decodeErrPrefix$2} not enough data for float16`);const r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function encodeFloat32$2(t){dataView$2.setFloat32(0,t,!1)}function readFloat32$2(t,e){if(t.length-e<4)throw new Error(`${decodeErrPrefix$2} not enough data for float32`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function encodeFloat64$2(t){dataView$2.setFloat64(0,t,!1)}function readFloat64$2(t,e){if(t.length-e<8)throw new Error(`${decodeErrPrefix$2} not enough data for float64`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}encodeFloat$2.compareTokens=encodeUint$2.compareTokens;function invalidMinor$2(t,e,r){throw new Error(`${decodeErrPrefix$2} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function errorer$2(t){return()=>{throw new Error(`${decodeErrPrefix$2} ${t}`)}}const jump$2=[];for(let t=0;t<=23;t++)jump$2[t]=invalidMinor$2;jump$2[24]=decodeUint8$2;jump$2[25]=decodeUint16$2;jump$2[26]=decodeUint32$2;jump$2[27]=decodeUint64$2;jump$2[28]=invalidMinor$2;jump$2[29]=invalidMinor$2;jump$2[30]=invalidMinor$2;jump$2[31]=invalidMinor$2;for(let t=32;t<=55;t++)jump$2[t]=invalidMinor$2;jump$2[56]=decodeNegint8$2;jump$2[57]=decodeNegint16$2;jump$2[58]=decodeNegint32$2;jump$2[59]=decodeNegint64$2;jump$2[60]=invalidMinor$2;jump$2[61]=invalidMinor$2;jump$2[62]=invalidMinor$2;jump$2[63]=invalidMinor$2;for(let t=64;t<=87;t++)jump$2[t]=decodeBytesCompact$2;jump$2[88]=decodeBytes8$2;jump$2[89]=decodeBytes16$2;jump$2[90]=decodeBytes32$2;jump$2[91]=decodeBytes64$2;jump$2[92]=invalidMinor$2;jump$2[93]=invalidMinor$2;jump$2[94]=invalidMinor$2;jump$2[95]=errorer$2("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)jump$2[t]=decodeStringCompact$2;jump$2[120]=decodeString8$2;jump$2[121]=decodeString16$2;jump$2[122]=decodeString32$2;jump$2[123]=decodeString64$2;jump$2[124]=invalidMinor$2;jump$2[125]=invalidMinor$2;jump$2[126]=invalidMinor$2;jump$2[127]=errorer$2("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)jump$2[t]=decodeArrayCompact$2;jump$2[152]=decodeArray8$2;jump$2[153]=decodeArray16$2;jump$2[154]=decodeArray32$2;jump$2[155]=decodeArray64$2;jump$2[156]=invalidMinor$2;jump$2[157]=invalidMinor$2;jump$2[158]=invalidMinor$2;jump$2[159]=decodeArrayIndefinite$2;for(let t=160;t<=183;t++)jump$2[t]=decodeMapCompact$2;jump$2[184]=decodeMap8$2;jump$2[185]=decodeMap16$2;jump$2[186]=decodeMap32$2;jump$2[187]=decodeMap64$2;jump$2[188]=invalidMinor$2;jump$2[189]=invalidMinor$2;jump$2[190]=invalidMinor$2;jump$2[191]=decodeMapIndefinite$2;for(let t=192;t<=215;t++)jump$2[t]=decodeTagCompact$2;jump$2[216]=decodeTag8$2;jump$2[217]=decodeTag16$2;jump$2[218]=decodeTag32$2;jump$2[219]=decodeTag64$2;jump$2[220]=invalidMinor$2;jump$2[221]=invalidMinor$2;jump$2[222]=invalidMinor$2;jump$2[223]=invalidMinor$2;for(let t=224;t<=243;t++)jump$2[t]=errorer$2("simple values are not supported");jump$2[244]=invalidMinor$2;jump$2[245]=invalidMinor$2;jump$2[246]=invalidMinor$2;jump$2[247]=decodeUndefined$2;jump$2[248]=errorer$2("simple values are not supported");jump$2[249]=decodeFloat16$2;jump$2[250]=decodeFloat32$2;jump$2[251]=decodeFloat64$2;jump$2[252]=invalidMinor$2;jump$2[253]=invalidMinor$2;jump$2[254]=invalidMinor$2;jump$2[255]=decodeBreak$2;const quick$2=[];for(let t=0;t<24;t++)quick$2[t]=new Token$3(Type$2.uint,t,1);for(let t=-1;t>=-24;t--)quick$2[31-t]=new Token$3(Type$2.negint,t,1);quick$2[64]=new Token$3(Type$2.bytes,new Uint8Array(0),1);quick$2[96]=new Token$3(Type$2.string,"",1);quick$2[128]=new Token$3(Type$2.array,0,1);quick$2[160]=new Token$3(Type$2.map,0,1);quick$2[244]=new Token$3(Type$2.false,!1,1);quick$2[245]=new Token$3(Type$2.true,!0,1);quick$2[246]=new Token$3(Type$2.null,null,1);function quickEncodeToken$2(t){switch(t.type){case Type$2.false:return fromArray$2([244]);case Type$2.true:return fromArray$2([245]);case Type$2.null:return fromArray$2([246]);case Type$2.bytes:return t.value.length?void 0:fromArray$2([64]);case Type$2.string:return t.value===""?fromArray$2([96]):void 0;case Type$2.array:return t.value===0?fromArray$2([128]):void 0;case Type$2.map:return t.value===0?fromArray$2([160]):void 0;case Type$2.uint:return t.value<24?fromArray$2([Number(t.value)]):void 0;case Type$2.negint:if(t.value>=-24)return fromArray$2([31-Number(t.value)])}}const defaultEncodeOptions$2={float64:!1,mapSorter:mapSorter$2,quickEncodeToken:quickEncodeToken$2};function makeCborEncoders$2(){const t=[];return t[Type$2.uint.major]=encodeUint$2,t[Type$2.negint.major]=encodeNegint$2,t[Type$2.bytes.major]=encodeBytes$2,t[Type$2.string.major]=encodeString$2,t[Type$2.array.major]=encodeArray$2,t[Type$2.map.major]=encodeMap$2,t[Type$2.tag.major]=encodeTag$2,t[Type$2.float.major]=encodeFloat$2,t}const cborEncoders$2=makeCborEncoders$2(),buf$2=new Bl$2;let Ref$2=class $e{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${encodeErrPrefix$2} object contains circular references`);return new $e(r,e)}};const simpleTokens$2={null:new Token$3(Type$2.null,null),undefined:new Token$3(Type$2.undefined,void 0),true:new Token$3(Type$2.true,!0),false:new Token$3(Type$2.false,!1),emptyArray:new Token$3(Type$2.array,0),emptyMap:new Token$3(Type$2.map,0)},typeEncoders$2={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Token$3(Type$2.float,t):t>=0?new Token$3(Type$2.uint,t):new Token$3(Type$2.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new Token$3(Type$2.uint,t):new Token$3(Type$2.negint,t)},Uint8Array(t,e,r,n){return new Token$3(Type$2.bytes,t)},string(t,e,r,n){return new Token$3(Type$2.string,t)},boolean(t,e,r,n){return t?simpleTokens$2.true:simpleTokens$2.false},null(t,e,r,n){return simpleTokens$2.null},undefined(t,e,r,n){return simpleTokens$2.undefined},ArrayBuffer(t,e,r,n){return new Token$3(Type$2.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new Token$3(Type$2.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[simpleTokens$2.emptyArray,new Token$3(Type$2.break)]:simpleTokens$2.emptyArray;n=Ref$2.createCheck(n,t);const o=[];let s=0;for(const a of t)o[s++]=objectToTokens$2(a,r,n);return r.addBreakTokens?[new Token$3(Type$2.array,t.length),o,new Token$3(Type$2.break)]:[new Token$3(Type$2.array,t.length),o]},Object(t,e,r,n){const o=e!=="Object",s=o?t.keys():Object.keys(t),a=o?t.size:s.length;if(!a)return r.addBreakTokens===!0?[simpleTokens$2.emptyMap,new Token$3(Type$2.break)]:simpleTokens$2.emptyMap;n=Ref$2.createCheck(n,t);const u=[];let c=0;for(const h of s)u[c++]=[objectToTokens$2(h,r,n),objectToTokens$2(o?t.get(h):t[h],r,n)];return sortMapEntries$2(u,r),r.addBreakTokens?[new Token$3(Type$2.map,a),u,new Token$3(Type$2.break)]:[new Token$3(Type$2.map,a),u]}};typeEncoders$2.Map=typeEncoders$2.Object;typeEncoders$2.Buffer=typeEncoders$2.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders$2[`${t}Array`]=typeEncoders$2.DataView;function objectToTokens$2(t,e={},r){const n=is$2(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||typeEncoders$2[n];if(typeof o=="function"){const a=o(t,n,e,r);if(a!=null)return a}const s=typeEncoders$2[n];if(!s)throw new Error(`${encodeErrPrefix$2} unsupported type: ${n}`);return s(t,n,e,r)}function sortMapEntries$2(t,e){e.mapSorter&&t.sort(e.mapSorter)}function mapSorter$2(t,e){const r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,s=cborEncoders$2[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function tokensToEncoded$2(t,e,r,n){if(Array.isArray(e))for(const o of e)tokensToEncoded$2(t,o,r,n);else r[e.type.major](t,e,n)}function encodeCustom$2(t,e,r){const n=objectToTokens$2(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const s=e[n.type.major];if(s.encodedSize){const a=s.encodedSize(n,r),u=new Bl$2(a);if(s(u,n,r),u.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A$2(u.chunks[0])}}return buf$2.reset(),tokensToEncoded$2(buf$2,n,e,r),buf$2.toBytes(!0)}function encode$p(t,e){return e=Object.assign({},defaultEncodeOptions$2,e),encodeCustom$2(t,cborEncoders$2,e)}const defaultDecodeOptions$2={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};let Tokeniser$2=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let r=quick$2[e];if(r===void 0){const n=jump$2[e];if(!n)throw new Error(`${decodeErrPrefix$2} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=e&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}};const DONE$2=Symbol.for("DONE"),BREAK$2=Symbol.for("BREAK");function tokenToArray$2(t,e,r){const n=[];for(let o=0;o<t.value;o++){const s=tokensToObject$2(e,r);if(s===BREAK$2){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix$2} got unexpected break to lengthed array`)}if(s===DONE$2)throw new Error(`${decodeErrPrefix$2} found array but not enough entries (got ${o}, expected ${t.value})`);n[o]=s}return n}function tokenToMap$2(t,e,r){const n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let a=0;a<t.value;a++){const u=tokensToObject$2(e,r);if(u===BREAK$2){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix$2} got unexpected break to lengthed map`)}if(u===DONE$2)throw new Error(`${decodeErrPrefix$2} found map but not enough entries (got ${a} [no key], expected ${t.value})`);if(n!==!0&&typeof u!="string")throw new Error(`${decodeErrPrefix$2} non-string keys not supported (got ${typeof u})`);if(r.rejectDuplicateMapKeys===!0&&(n&&s.has(u)||!n&&u in o))throw new Error(`${decodeErrPrefix$2} found repeat map key "${u}"`);const c=tokensToObject$2(e,r);if(c===DONE$2)throw new Error(`${decodeErrPrefix$2} found map but not enough entries (got ${a} [no value], expected ${t.value})`);n?s.set(u,c):o[u]=c}return n?s:o}function tokensToObject$2(t,e){if(t.done())return DONE$2;const r=t.next();if(r.type===Type$2.break)return BREAK$2;if(r.type.terminal)return r.value;if(r.type===Type$2.array)return tokenToArray$2(r,t,e);if(r.type===Type$2.map)return tokenToMap$2(r,t,e);if(r.type===Type$2.tag){if(e.tags&&typeof e.tags[r.value]=="function"){const n=tokensToObject$2(t,e);return e.tags[r.value](n)}throw new Error(`${decodeErrPrefix$2} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$w(t,e){if(!(t instanceof Uint8Array))throw new Error(`${decodeErrPrefix$2} data to decode must be a Uint8Array`);e=Object.assign({},defaultDecodeOptions$2,e);const r=e.tokenizer||new Tokeniser$2(t,e),n=tokensToObject$2(r,e);if(n===DONE$2)throw new Error(`${decodeErrPrefix$2} did not find any content to decode`);if(n===BREAK$2)throw new Error(`${decodeErrPrefix$2} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix$2} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG$2=42;function cidEncoder$2(t){if(t.asCID!==t)return null;const e=CID$4.asCID(t);if(!e)return null;const r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Token$3(Type$2.tag,CID_CBOR_TAG$2),new Token$3(Type$2.bytes,r)]}function undefinedEncoder$2(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$2(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$2={float64:!0,typeEncoders:{Object:cidEncoder$2,undefined:undefinedEncoder$2,number:numberEncoder$2}};function cidDecoder$2(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$4.decode(t.subarray(1))}const decodeOptions$2={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$2.tags[CID_CBOR_TAG$2]=cidDecoder$2;const encode$o=t=>encode$p(t,encodeOptions$2),decode$v=t=>decode$w(t,decodeOptions$2),CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint(t){const e=await t.upTo(8),r=varint$7.decode(e);return t.seek(varint$7.decode.bytes),r}async function readHeader(t){const e=await readVarint(t);if(e===0)throw new Error("Invalid CAR header (zero length)");const r=await t.exactly(e);t.seek(e);const n=decode$v(r);if(n==null||Array.isArray(n)||typeof n!="object")throw new Error("Invalid CAR header format");if(n.version!==1)throw typeof n.version=="string"?new Error(`Invalid CAR version: "${n.version}"`):new Error(`Invalid CAR version: ${n.version}`);if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter(o=>o!=="roots"&&o!=="version").length)throw new Error("Invalid CAR header format");return n}async function readMultihash(t){const e=await t.upTo(8);varint$7.decode(e);const r=varint$7.decode.bytes,n=varint$7.decode(e.subarray(varint$7.decode.bytes)),o=varint$7.decode.bytes,s=r+o+n,a=await t.exactly(s);return t.seek(s),a}async function readCid(t){const e=await t.exactly(2);if(e[0]===CIDV0_BYTES.SHA2_256&&e[1]===CIDV0_BYTES.LENGTH){const a=await t.exactly(34);t.seek(34);const u=decode$y(a);return CID$4.create(0,CIDV0_BYTES.DAG_PB,u)}const r=await readVarint(t);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint(t),o=await readMultihash(t),s=decode$y(o);return CID$4.create(r,n,s)}async function readBlockHead(t){const e=t.pos;let r=await readVarint(t);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=t.pos-e;const n=await readCid(t),o=r-(t.pos-e);return{cid:n,length:r,blockLength:o}}async function readBlock(t){const{cid:e,blockLength:r}=await readBlockHead(t),n=await t.exactly(r);return t.seek(r),{bytes:n,cid:e}}async function readBlockIndex(t){const e=t.pos,{cid:r,length:n,blockLength:o}=await readBlockHead(t),s={cid:r,length:n,blockLength:o,offset:e,blockOffset:t.pos};return t.seek(s.blockLength),s}function createDecoder(t){const e=readHeader(t);return{header:()=>e,async*blocks(){for(await e;(await t.upTo(8)).length>0;)yield await readBlock(t)},async*blocksIndex(){for(await e;(await t.upTo(8)).length>0;)yield await readBlockIndex(t)}}}function bytesReader(t){let e=0;return{async upTo(r){return t.subarray(e,e+Math.min(r,t.length-e))},async exactly(r){if(r>t.length-e)throw new Error("Unexpected end of data");return t.subarray(e,e+r)},seek(r){e+=r},get pos(){return e}}}function chunkReader(t){let e=0,r=0,n=0,o=new Uint8Array(0);const s=async a=>{r=o.length-n;const u=[o.subarray(n)];for(;r<a;){const h=await t();if(h==null)break;r<0?h.length>r&&u.push(h.subarray(-r)):u.push(h),r+=h.length}o=new Uint8Array(u.reduce((h,d)=>h+d.length,0));let c=0;for(const h of u)o.set(h,c),c+=h.length;n=0};return{async upTo(a){return o.length-n<a&&await s(a),o.subarray(n,n+Math.min(o.length-n,a))},async exactly(a){if(o.length-n<a&&await s(a),o.length-n<a)throw new Error("Unexpected end of data");return o.subarray(n,n+a)},seek(a){e+=a,n+=a},get pos(){return e}}}function asyncIterableReader(t){const e=t[Symbol.asyncIterator]();async function r(){const n=await e.next();return n.done?null:n.value}return chunkReader(r)}class CarReader{constructor(e,r,n){this._version=e,this._roots=r,this._blocks=n,this._keys=n.map(o=>o.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){const r=this._keys.indexOf(e.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const e of this._blocks)yield e}async*cids(){for(const e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(e))}static async fromIterable(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(e))}}async function decodeReaderComplete(t){const e=createDecoder(t),{version:r,roots:n}=await e.header(),o=[];for await(const s of e.blocks())o.push(s);return new CarReader(r,n,o)}function createHeader(t){const e=encode$o({version:1,roots:t}),r=varint$7.encode(e.length),n=new Uint8Array(r.length+e.length);return n.set(r,0),n.set(e,r.length),n}function createEncoder(t){return{async setRoots(e){const r=createHeader(e);await t.write(r)},async writeBlock(e){const{cid:r,bytes:n}=e;await t.write(new Uint8Array(varint$7.encode(r.bytes.length+n.length))),await t.write(r.bytes),n.length&&await t.write(n)},async close(){return t.end()}}}function noop$2(){}function create$b(){const t=[];let e=null,r=noop$2,n=!1,o=null,s=noop$2;const a=()=>(e||(e=new Promise(h=>{r=()=>{e=null,r=noop$2,h()}})),e),u={write(h){t.push(h);const d=a();return s(),d},async end(){n=!0;const h=a();return s(),h}},c={async next(){const h=t.shift();return h?(t.length===0&&r(),{done:!1,value:h}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(d=>{s=()=>(o=null,s=noop$2,d(c.next()))})),o)}};return{writer:u,iterator:c}}class CarWriter{constructor(e,r){this._encoder=r,this._mutex=r.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const r=CID$4.asCID(e.cid);if(!r)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:r,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=toRoots(e);const{encoder:r,iterator:n}=encodeWriter(),o=new CarWriter(e,r),s=new CarWriterOut(n);return{writer:o,out:s}}static createAppender(){const{encoder:e,iterator:r}=encodeWriter();e.setRoots=()=>Promise.resolve();const n=new CarWriter([],e),o=new CarWriterOut(r);return{writer:n,out:o}}static async updateRootsInBytes(e,r){const n=bytesReader(e);await readHeader(n);const o=createHeader(r);if(n.pos!==o.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${o.length} bytes)`);return e.set(o,0),e}}class CarWriterOut{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const t=create$b(),{writer:e,iterator:r}=t;return{encoder:createEncoder(e),iterator:r}}function toRoots(t){if(t===void 0)return[];if(!Array.isArray(t)){const r=CID$4.asCID(t);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}const e=[];for(const r of t){const n=CID$4.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");e.push(n)}return e}var encode_1$4=encode$n,MSB$5=128,REST$5=127,MSBALL$4=~REST$5,INT$4=Math.pow(2,31);function encode$n(t,e,r){e=e||[],r=r||0;for(var n=r;t>=INT$4;)e[r++]=t&255|MSB$5,t/=128;for(;t&MSBALL$4;)e[r++]=t&255|MSB$5,t>>>=7;return e[r]=t|0,encode$n.bytes=r-n+1,e}var decode$u=read$4,MSB$1$4=128,REST$1$4=127;function read$4(t,n){var r=0,n=n||0,o=0,s=n,a,u=t.length;do{if(s>=u)throw read$4.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=o<28?(a&REST$1$4)<<o:(a&REST$1$4)*Math.pow(2,o),o+=7}while(a>=MSB$1$4);return read$4.bytes=s-n,r}var N1$4=Math.pow(2,7),N2$4=Math.pow(2,14),N3$4=Math.pow(2,21),N4$4=Math.pow(2,28),N5$4=Math.pow(2,35),N6$4=Math.pow(2,42),N7$4=Math.pow(2,49),N8$4=Math.pow(2,56),N9$4=Math.pow(2,63),length$4=function(t){return t<N1$4?1:t<N2$4?2:t<N3$4?3:t<N4$4?4:t<N5$4?5:t<N6$4?6:t<N7$4?7:t<N8$4?8:t<N9$4?9:10},varint$4={encode:encode_1$4,decode:decode$u,encodingLength:length$4},_brrp_varint$4=varint$4;const decode$t=(t,e=0)=>[_brrp_varint$4.decode(t,e),_brrp_varint$4.decode.bytes],encodeTo$4=(t,e,r=0)=>(_brrp_varint$4.encode(t,e,r),e),encodingLength$4=t=>_brrp_varint$4.encodingLength(t),equals$7=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},coerce$6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},create$a=(t,e)=>{const r=e.byteLength,n=encodingLength$4(t),o=n+encodingLength$4(r),s=new Uint8Array(o+r);return encodeTo$4(t,s,0),encodeTo$4(r,s,n),s.set(e,o),new Digest$4(t,r,e,s)},decode$s=t=>{const e=coerce$6(t),[r,n]=decode$t(e),[o,s]=decode$t(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==o)throw new Error("Incorrect length");return new Digest$4(r,o,a,e)},equals$6=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&equals$7(t.bytes,e.bytes);let Digest$4=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};function base$6(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src$8=base$6,_brrp__multiformats_scope_baseX$6=src$8;let Encoder$6=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$6=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$6(this,e)}},ComposedDecoder$6=class{constructor(e){this.decoders=e}or(e){return or$6(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$6=(t,e)=>new ComposedDecoder$6({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Codec$6=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder$6(e,r,n),this.decoder=new Decoder$6(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$a=({name:t,prefix:e,encode:r,decode:n})=>new Codec$6(t,e,r,n),baseX$6=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX$6(r,e);return from$a({prefix:t,name:e,encode:n,decode:s=>coerce$6(o(s))})},decode$r=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$m=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648$6=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$a({prefix:e,name:t,encode(o){return encode$m(o,n,r)},decode(o){return decode$r(o,n,r,t)}}),base58btc$4=baseX$6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$7=rfc4648$6({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$6({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$6({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$6({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$6({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$6({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$6({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$6({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$6({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let CID$3=class G{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden$3,byteLength:hidden$3,code:readonly$5,version:readonly$5,multihash:readonly$5,bytes:readonly$5,_baseCache:hidden$3,asCID:hidden$3})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==DAG_PB_CODE$3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE$3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return G.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=create$a(e,r);return G.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&equals$6(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0$3(r,o,e||base58btc$4.encoder);default:return toStringV1$3(r,o,e||base32$7.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return deprecate$3(/^0\.0/,IS_CID_DEPRECATION$3),!!(e&&(e[cidSymbol$3]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof G)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:o,bytes:s}=e;return new G(r,n,o,s||encodeCID$3(r,n,o.bytes))}else if(e!=null&&e[cidSymbol$3]===!0){const{version:r,multihash:n,code:o}=e,s=decode$s(n);return G.create(r,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==DAG_PB_CODE$3)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$3}) block encoding`);return new G(e,r,n,n.bytes)}case 1:{const o=encodeCID$3(e,r,n.bytes);return new G(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return G.create(0,DAG_PB_CODE$3,e)}static createV1(e,r){return G.create(1,e,r)}static decode(e){const[r,n]=G.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=G.inspectBytes(e),n=r.size-r.multihashSize,o=coerce$6(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),a=new Digest$4(r.multihashCode,r.digestSize,s,o);return[r.version===0?G.createV0(a):G.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[m,v]=decode$t(e.subarray(r));return r+=v,m};let o=n(),s=DAG_PB_CODE$3;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=r,u=n(),c=n(),h=r+c,d=h-a;return{version:o,codec:s,multihashCode:u,digestSize:c,multihashSize:d,size:h}}static parse(e,r){const[n,o]=parseCIDtoBytes$3(e,r),s=G.decode(o);return s._baseCache.set(n,e),s}};const parseCIDtoBytes$3=(t,e)=>{switch(t[0]){case"Q":{const r=e||base58btc$4;return[base58btc$4.prefix,r.decode(`${base58btc$4.prefix}${t}`)]}case base58btc$4.prefix:{const r=e||base58btc$4;return[base58btc$4.prefix,r.decode(t)]}case base32$7.prefix:{const r=e||base32$7;return[base32$7.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},toStringV0$3=(t,e,r)=>{const{prefix:n}=r;if(n!==base58btc$4.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const s=r.encode(t).slice(1);return e.set(n,s),s}else return o},toStringV1$3=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const s=r.encode(t);return e.set(n,s),s}else return o},DAG_PB_CODE$3=112,SHA_256_CODE$3=18,encodeCID$3=(t,e,r)=>{const n=encodingLength$4(t),o=n+encodingLength$4(e),s=new Uint8Array(o+r.byteLength);return encodeTo$4(t,s,0),encodeTo$4(e,s,n),s.set(r,o),s},cidSymbol$3=Symbol.for("@ipld/js-cid/CID"),readonly$5={writable:!1,configurable:!1,enumerable:!0},hidden$3={writable:!1,enumerable:!1,configurable:!1},version$3="0.0.0-dev",deprecate$3=(t,e)=>{if(t.test(version$3))console.warn(e);else throw new Error(e)},IS_CID_DEPRECATION$3=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,readonly$4=({enumerable:t=!0,configurable:e=!1}={})=>({enumerable:t,configurable:e,writable:!1}),links$1=function*(t,e){if(t!=null&&!(t instanceof Uint8Array))for(const[r,n]of Object.entries(t)){const o=[...e,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[s,a]of n.entries()){const u=[...o,s],c=CID$3.asCID(a);c?yield[u.join("/"),c]:typeof a=="object"&&(yield*links$1(a,u))}else{const s=CID$3.asCID(n);s?yield[o.join("/"),s]:yield*links$1(n,o)}}},tree$1=function*(t,e){if(t!=null)for(const[r,n]of Object.entries(t)){const o=[...e,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID$3.asCID(n))if(Array.isArray(n))for(const[s,a]of n.entries()){const u=[...o,s];yield u.join("/"),typeof a=="object"&&!CID$3.asCID(a)&&(yield*tree$1(a,u))}else yield*tree$1(n,o)}},get$1=(t,e)=>{let r=t;for(const[n,o]of e.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);const s=CID$3.asCID(r);if(s)return{value:s,remaining:e.slice(n+1).join("/")}}return{value:r}};let Block$1=class{constructor({cid:e,bytes:r,value:n}){if(!e||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly$4(),bytes:readonly$4(),value:readonly$4(),asBlock:readonly$4()})}links(){return links$1(this.value,[])}tree(){return tree$1(this.value,[])}get(e="/"){return get$1(this.value,e.split("/").filter(Boolean))}};const name$5="raw",code$6=85,encode$l=t=>coerce$6(t),decode$q=t=>coerce$6(t),raw$1=Object.freeze(Object.defineProperty({__proto__:null,code:code$6,decode:decode$q,encode:encode$l,name:name$5},Symbol.toStringTag,{value:"Module"})),typeofs$1=["string","number","bigint","symbol"],objectTypeNames$1=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$1(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";const e=typeof t;if(typeofs$1.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(isBuffer$4(t))return"Buffer";const r=getObjectType$1(t);return r||"Object"}function isBuffer$4(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function getObjectType$1(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(objectTypeNames$1.includes(e))return e}let Type$1=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Type$1.uint=new Type$1(0,"uint",!0);Type$1.negint=new Type$1(1,"negint",!0);Type$1.bytes=new Type$1(2,"bytes",!0);Type$1.string=new Type$1(3,"string",!0);Type$1.array=new Type$1(4,"array",!1);Type$1.map=new Type$1(5,"map",!1);Type$1.tag=new Type$1(6,"tag",!1);Type$1.float=new Type$1(7,"float",!0);Type$1.false=new Type$1(7,"false",!0);Type$1.true=new Type$1(7,"true",!0);Type$1.null=new Type$1(7,"null",!0);Type$1.undefined=new Type$1(7,"undefined",!0);Type$1.break=new Type$1(7,"break",!0);let Token$2=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};const useBuffer$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$3=new TextDecoder,textEncoder$5=new TextEncoder;function isBuffer$3(t){return useBuffer$1&&globalThis.Buffer.isBuffer(t)}function asU8A$1(t){return t instanceof Uint8Array?isBuffer$3(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const toString$6=useBuffer$1?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):utf8Slice$1(t,e,r):(t,e,r)=>r-e>64?textDecoder$3.decode(t.subarray(e,r)):utf8Slice$1(t,e,r),fromString$8=useBuffer$1?t=>t.length>64?globalThis.Buffer.from(t):utf8ToBytes$1(t):t=>t.length>64?textEncoder$5.encode(t):utf8ToBytes$1(t),fromArray$1=t=>Uint8Array.from(t),slice$1=useBuffer$1?(t,e,r)=>isBuffer$3(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),concat$3=useBuffer$1?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A$1(globalThis.Buffer.concat(t,e))):(t,e)=>{const r=new Uint8Array(e);let n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc$1=useBuffer$1?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function compare$1(t,e){if(isBuffer$3(t)&&isBuffer$3(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function utf8ToBytes$1(t,e=1/0){let r;const n=t.length;let o=null;const s=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function utf8Slice$1(t,e,r){const n=[];for(;e<r;){const o=t[e];let s=null,a=o>239?4:o>223?3:o>191?2:1;if(e+a<=r){let u,c,h,d;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[e+1],(u&192)===128&&(d=(o&31)<<6|u&63,d>127&&(s=d));break;case 3:u=t[e+1],c=t[e+2],(u&192)===128&&(c&192)===128&&(d=(o&15)<<12|(u&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:u=t[e+1],c=t[e+2],h=t[e+3],(u&192)===128&&(c&192)===128&&(h&192)===128&&(d=(o&15)<<18|(u&63)<<12|(c&63)<<6|h&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),e+=a}return decodeCodePointsArray$1(n)}const MAX_ARGUMENTS_LENGTH$1=4096;function decodeCodePointsArray$1(t){const e=t.length;if(e<=MAX_ARGUMENTS_LENGTH$1)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH$1));return r}const defaultChunkSize$1=256;let Bl$1=class{constructor(e=defaultChunkSize$1){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=alloc$1(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice$1(n,0,this.cursor)}else r=concat$3(this.chunks,this.cursor);return e&&this.reset(),r}};const decodeErrPrefix$1="CBOR decode error:",encodeErrPrefix$1="CBOR encode error:";function assertEnoughData$1(t,e,r){if(t.length-e<r)throw new Error(`${decodeErrPrefix$1} not enough data for type`)}const uintBoundaries$1=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8$1(t,e,r){assertEnoughData$1(t,e,1);const n=t[e];if(r.strict===!0&&n<uintBoundaries$1[0])throw new Error(`${decodeErrPrefix$1} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16$1(t,e,r){assertEnoughData$1(t,e,2);const n=t[e]<<8|t[e+1];if(r.strict===!0&&n<uintBoundaries$1[1])throw new Error(`${decodeErrPrefix$1} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32$1(t,e,r){assertEnoughData$1(t,e,4);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<uintBoundaries$1[2])throw new Error(`${decodeErrPrefix$1} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64$1(t,e,r){assertEnoughData$1(t,e,8);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<uintBoundaries$1[3])throw new Error(`${decodeErrPrefix$1} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${decodeErrPrefix$1} integers outside of the safe integer range are not supported`)}function decodeUint8$1(t,e,r,n){return new Token$2(Type$1.uint,readUint8$1(t,e+1,n),2)}function decodeUint16$1(t,e,r,n){return new Token$2(Type$1.uint,readUint16$1(t,e+1,n),3)}function decodeUint32$1(t,e,r,n){return new Token$2(Type$1.uint,readUint32$1(t,e+1,n),5)}function decodeUint64$1(t,e,r,n){return new Token$2(Type$1.uint,readUint64$1(t,e+1,n),9)}function encodeUint$1(t,e){return encodeUintValue$1(t,0,e.value)}function encodeUintValue$1(t,e,r){if(r<uintBoundaries$1[0]){const n=Number(r);t.push([e|n])}else if(r<uintBoundaries$1[1]){const n=Number(r);t.push([e|24,n])}else if(r<uintBoundaries$1[2]){const n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<uintBoundaries$1[3]){const n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries$1[4]){const o=[e|27,0,0,0,0,0,0,0];let s=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,t.push(o)}else throw new Error(`${decodeErrPrefix$1} encountered BigInt larger than allowable range`)}}encodeUint$1.encodedSize=function(e){return encodeUintValue$1.encodedSize(e.value)};encodeUintValue$1.encodedSize=function(e){return e<uintBoundaries$1[0]?1:e<uintBoundaries$1[1]?2:e<uintBoundaries$1[2]?3:e<uintBoundaries$1[3]?5:9};encodeUint$1.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function decodeNegint8$1(t,e,r,n){return new Token$2(Type$1.negint,-1-readUint8$1(t,e+1,n),2)}function decodeNegint16$1(t,e,r,n){return new Token$2(Type$1.negint,-1-readUint16$1(t,e+1,n),3)}function decodeNegint32$1(t,e,r,n){return new Token$2(Type$1.negint,-1-readUint32$1(t,e+1,n),5)}const neg1b$1=BigInt(-1),pos1b$1=BigInt(1);function decodeNegint64$1(t,e,r,n){const o=readUint64$1(t,e+1,n);if(typeof o!="bigint"){const s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new Token$2(Type$1.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix$1} integers outside of the safe integer range are not supported`);return new Token$2(Type$1.negint,neg1b$1-BigInt(o),9)}function encodeNegint$1(t,e){const r=e.value,n=typeof r=="bigint"?r*neg1b$1-pos1b$1:r*-1-1;encodeUintValue$1(t,e.type.majorEncoded,n)}encodeNegint$1.encodedSize=function(e){const r=e.value,n=typeof r=="bigint"?r*neg1b$1-pos1b$1:r*-1-1;return n<uintBoundaries$1[0]?1:n<uintBoundaries$1[1]?2:n<uintBoundaries$1[2]?3:n<uintBoundaries$1[3]?5:9};encodeNegint$1.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function toToken$7(t,e,r,n){assertEnoughData$1(t,e,r+n);const o=slice$1(t,e+r,e+r+n);return new Token$2(Type$1.bytes,o,r+n)}function decodeBytesCompact$1(t,e,r,n){return toToken$7(t,e,1,r)}function decodeBytes8$1(t,e,r,n){return toToken$7(t,e,2,readUint8$1(t,e+1,n))}function decodeBytes16$1(t,e,r,n){return toToken$7(t,e,3,readUint16$1(t,e+1,n))}function decodeBytes32$1(t,e,r,n){return toToken$7(t,e,5,readUint32$1(t,e+1,n))}function decodeBytes64$1(t,e,r,n){const o=readUint64$1(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$1} 64-bit integer bytes lengths not supported`);return toToken$7(t,e,9,o)}function tokenBytes$1(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Type$1.string?fromString$8(t.value):t.value),t.encodedBytes}function encodeBytes$1(t,e){const r=tokenBytes$1(e);encodeUintValue$1(t,e.type.majorEncoded,r.length),t.push(r)}encodeBytes$1.encodedSize=function(e){const r=tokenBytes$1(e);return encodeUintValue$1.encodedSize(r.length)+r.length};encodeBytes$1.compareTokens=function(e,r){return compareBytes$1(tokenBytes$1(e),tokenBytes$1(r))};function compareBytes$1(t,e){return t.length<e.length?-1:t.length>e.length?1:compare$1(t,e)}function toToken$6(t,e,r,n,o){const s=r+n;assertEnoughData$1(t,e,s);const a=new Token$2(Type$1.string,toString$6(t,e+r,e+s),s);return o.retainStringBytes===!0&&(a.byteValue=slice$1(t,e+r,e+s)),a}function decodeStringCompact$1(t,e,r,n){return toToken$6(t,e,1,r,n)}function decodeString8$1(t,e,r,n){return toToken$6(t,e,2,readUint8$1(t,e+1,n),n)}function decodeString16$1(t,e,r,n){return toToken$6(t,e,3,readUint16$1(t,e+1,n),n)}function decodeString32$1(t,e,r,n){return toToken$6(t,e,5,readUint32$1(t,e+1,n),n)}function decodeString64$1(t,e,r,n){const o=readUint64$1(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$1} 64-bit integer string lengths not supported`);return toToken$6(t,e,9,o,n)}const encodeString$1=encodeBytes$1;function toToken$5(t,e,r,n){return new Token$2(Type$1.array,n,r)}function decodeArrayCompact$1(t,e,r,n){return toToken$5(t,e,1,r)}function decodeArray8$1(t,e,r,n){return toToken$5(t,e,2,readUint8$1(t,e+1,n))}function decodeArray16$1(t,e,r,n){return toToken$5(t,e,3,readUint16$1(t,e+1,n))}function decodeArray32$1(t,e,r,n){return toToken$5(t,e,5,readUint32$1(t,e+1,n))}function decodeArray64$1(t,e,r,n){const o=readUint64$1(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$1} 64-bit integer array lengths not supported`);return toToken$5(t,e,9,o)}function decodeArrayIndefinite$1(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$1} indefinite length items not allowed`);return toToken$5(t,e,1,1/0)}function encodeArray$1(t,e){encodeUintValue$1(t,Type$1.array.majorEncoded,e.value)}encodeArray$1.compareTokens=encodeUint$1.compareTokens;encodeArray$1.encodedSize=function(e){return encodeUintValue$1.encodedSize(e.value)};function toToken$4(t,e,r,n){return new Token$2(Type$1.map,n,r)}function decodeMapCompact$1(t,e,r,n){return toToken$4(t,e,1,r)}function decodeMap8$1(t,e,r,n){return toToken$4(t,e,2,readUint8$1(t,e+1,n))}function decodeMap16$1(t,e,r,n){return toToken$4(t,e,3,readUint16$1(t,e+1,n))}function decodeMap32$1(t,e,r,n){return toToken$4(t,e,5,readUint32$1(t,e+1,n))}function decodeMap64$1(t,e,r,n){const o=readUint64$1(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix$1} 64-bit integer map lengths not supported`);return toToken$4(t,e,9,o)}function decodeMapIndefinite$1(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$1} indefinite length items not allowed`);return toToken$4(t,e,1,1/0)}function encodeMap$1(t,e){encodeUintValue$1(t,Type$1.map.majorEncoded,e.value)}encodeMap$1.compareTokens=encodeUint$1.compareTokens;encodeMap$1.encodedSize=function(e){return encodeUintValue$1.encodedSize(e.value)};function decodeTagCompact$1(t,e,r,n){return new Token$2(Type$1.tag,r,1)}function decodeTag8$1(t,e,r,n){return new Token$2(Type$1.tag,readUint8$1(t,e+1,n),2)}function decodeTag16$1(t,e,r,n){return new Token$2(Type$1.tag,readUint16$1(t,e+1,n),3)}function decodeTag32$1(t,e,r,n){return new Token$2(Type$1.tag,readUint32$1(t,e+1,n),5)}function decodeTag64$1(t,e,r,n){return new Token$2(Type$1.tag,readUint64$1(t,e+1,n),9)}function encodeTag$1(t,e){encodeUintValue$1(t,Type$1.tag.majorEncoded,e.value)}encodeTag$1.compareTokens=encodeUint$1.compareTokens;encodeTag$1.encodedSize=function(e){return encodeUintValue$1.encodedSize(e.value)};const MINOR_FALSE$1=20,MINOR_TRUE$1=21,MINOR_NULL$1=22,MINOR_UNDEFINED$1=23;function decodeUndefined$1(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix$1} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token$2(Type$1.null,null,1):new Token$2(Type$1.undefined,void 0,1)}function decodeBreak$1(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix$1} indefinite length items not allowed`);return new Token$2(Type$1.break,void 0,1)}function createToken$1(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${decodeErrPrefix$1} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${decodeErrPrefix$1} Infinity values are not supported`)}return new Token$2(Type$1.float,t,e)}function decodeFloat16$1(t,e,r,n){return createToken$1(readFloat16$1(t,e+1),3,n)}function decodeFloat32$1(t,e,r,n){return createToken$1(readFloat32$1(t,e+1),5,n)}function decodeFloat64$1(t,e,r,n){return createToken$1(readFloat64$1(t,e+1),9,n)}function encodeFloat$1(t,e,r){const n=e.value;if(n===!1)t.push([Type$1.float.majorEncoded|MINOR_FALSE$1]);else if(n===!0)t.push([Type$1.float.majorEncoded|MINOR_TRUE$1]);else if(n===null)t.push([Type$1.float.majorEncoded|MINOR_NULL$1]);else if(n===void 0)t.push([Type$1.float.majorEncoded|MINOR_UNDEFINED$1]);else{let o,s=!1;(!r||r.float64!==!0)&&(encodeFloat16$1(n),o=readFloat16$1(ui8a$1,1),n===o||Number.isNaN(n)?(ui8a$1[0]=249,t.push(ui8a$1.slice(0,3)),s=!0):(encodeFloat32$1(n),o=readFloat32$1(ui8a$1,1),n===o&&(ui8a$1[0]=250,t.push(ui8a$1.slice(0,5)),s=!0))),s||(encodeFloat64$1(n),o=readFloat64$1(ui8a$1,1),ui8a$1[0]=251,t.push(ui8a$1.slice(0,9)))}}encodeFloat$1.encodedSize=function(e,r){const n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16$1(n);let o=readFloat16$1(ui8a$1,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32$1(n),o=readFloat32$1(ui8a$1,1),n===o)return 5}return 9};const buffer$2=new ArrayBuffer(9),dataView$1=new DataView(buffer$2,1),ui8a$1=new Uint8Array(buffer$2,0);function encodeFloat16$1(t){if(t===1/0)dataView$1.setUint16(0,31744,!1);else if(t===-1/0)dataView$1.setUint16(0,64512,!1);else if(Number.isNaN(t))dataView$1.setUint16(0,32256,!1);else{dataView$1.setFloat32(0,t);const e=dataView$1.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)dataView$1.setUint16(0,31744,!1);else if(r===0)dataView$1.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView$1.setUint16(0,0):o<-14?dataView$1.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):dataView$1.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16$1(t,e){if(t.length-e<2)throw new Error(`${decodeErrPrefix$1} not enough data for float16`);const r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function encodeFloat32$1(t){dataView$1.setFloat32(0,t,!1)}function readFloat32$1(t,e){if(t.length-e<4)throw new Error(`${decodeErrPrefix$1} not enough data for float32`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function encodeFloat64$1(t){dataView$1.setFloat64(0,t,!1)}function readFloat64$1(t,e){if(t.length-e<8)throw new Error(`${decodeErrPrefix$1} not enough data for float64`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}encodeFloat$1.compareTokens=encodeUint$1.compareTokens;function invalidMinor$1(t,e,r){throw new Error(`${decodeErrPrefix$1} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function errorer$1(t){return()=>{throw new Error(`${decodeErrPrefix$1} ${t}`)}}const jump$1=[];for(let t=0;t<=23;t++)jump$1[t]=invalidMinor$1;jump$1[24]=decodeUint8$1;jump$1[25]=decodeUint16$1;jump$1[26]=decodeUint32$1;jump$1[27]=decodeUint64$1;jump$1[28]=invalidMinor$1;jump$1[29]=invalidMinor$1;jump$1[30]=invalidMinor$1;jump$1[31]=invalidMinor$1;for(let t=32;t<=55;t++)jump$1[t]=invalidMinor$1;jump$1[56]=decodeNegint8$1;jump$1[57]=decodeNegint16$1;jump$1[58]=decodeNegint32$1;jump$1[59]=decodeNegint64$1;jump$1[60]=invalidMinor$1;jump$1[61]=invalidMinor$1;jump$1[62]=invalidMinor$1;jump$1[63]=invalidMinor$1;for(let t=64;t<=87;t++)jump$1[t]=decodeBytesCompact$1;jump$1[88]=decodeBytes8$1;jump$1[89]=decodeBytes16$1;jump$1[90]=decodeBytes32$1;jump$1[91]=decodeBytes64$1;jump$1[92]=invalidMinor$1;jump$1[93]=invalidMinor$1;jump$1[94]=invalidMinor$1;jump$1[95]=errorer$1("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)jump$1[t]=decodeStringCompact$1;jump$1[120]=decodeString8$1;jump$1[121]=decodeString16$1;jump$1[122]=decodeString32$1;jump$1[123]=decodeString64$1;jump$1[124]=invalidMinor$1;jump$1[125]=invalidMinor$1;jump$1[126]=invalidMinor$1;jump$1[127]=errorer$1("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)jump$1[t]=decodeArrayCompact$1;jump$1[152]=decodeArray8$1;jump$1[153]=decodeArray16$1;jump$1[154]=decodeArray32$1;jump$1[155]=decodeArray64$1;jump$1[156]=invalidMinor$1;jump$1[157]=invalidMinor$1;jump$1[158]=invalidMinor$1;jump$1[159]=decodeArrayIndefinite$1;for(let t=160;t<=183;t++)jump$1[t]=decodeMapCompact$1;jump$1[184]=decodeMap8$1;jump$1[185]=decodeMap16$1;jump$1[186]=decodeMap32$1;jump$1[187]=decodeMap64$1;jump$1[188]=invalidMinor$1;jump$1[189]=invalidMinor$1;jump$1[190]=invalidMinor$1;jump$1[191]=decodeMapIndefinite$1;for(let t=192;t<=215;t++)jump$1[t]=decodeTagCompact$1;jump$1[216]=decodeTag8$1;jump$1[217]=decodeTag16$1;jump$1[218]=decodeTag32$1;jump$1[219]=decodeTag64$1;jump$1[220]=invalidMinor$1;jump$1[221]=invalidMinor$1;jump$1[222]=invalidMinor$1;jump$1[223]=invalidMinor$1;for(let t=224;t<=243;t++)jump$1[t]=errorer$1("simple values are not supported");jump$1[244]=invalidMinor$1;jump$1[245]=invalidMinor$1;jump$1[246]=invalidMinor$1;jump$1[247]=decodeUndefined$1;jump$1[248]=errorer$1("simple values are not supported");jump$1[249]=decodeFloat16$1;jump$1[250]=decodeFloat32$1;jump$1[251]=decodeFloat64$1;jump$1[252]=invalidMinor$1;jump$1[253]=invalidMinor$1;jump$1[254]=invalidMinor$1;jump$1[255]=decodeBreak$1;const quick$1=[];for(let t=0;t<24;t++)quick$1[t]=new Token$2(Type$1.uint,t,1);for(let t=-1;t>=-24;t--)quick$1[31-t]=new Token$2(Type$1.negint,t,1);quick$1[64]=new Token$2(Type$1.bytes,new Uint8Array(0),1);quick$1[96]=new Token$2(Type$1.string,"",1);quick$1[128]=new Token$2(Type$1.array,0,1);quick$1[160]=new Token$2(Type$1.map,0,1);quick$1[244]=new Token$2(Type$1.false,!1,1);quick$1[245]=new Token$2(Type$1.true,!0,1);quick$1[246]=new Token$2(Type$1.null,null,1);function quickEncodeToken$1(t){switch(t.type){case Type$1.false:return fromArray$1([244]);case Type$1.true:return fromArray$1([245]);case Type$1.null:return fromArray$1([246]);case Type$1.bytes:return t.value.length?void 0:fromArray$1([64]);case Type$1.string:return t.value===""?fromArray$1([96]):void 0;case Type$1.array:return t.value===0?fromArray$1([128]):void 0;case Type$1.map:return t.value===0?fromArray$1([160]):void 0;case Type$1.uint:return t.value<24?fromArray$1([Number(t.value)]):void 0;case Type$1.negint:if(t.value>=-24)return fromArray$1([31-Number(t.value)])}}const defaultEncodeOptions$1={float64:!1,mapSorter:mapSorter$1,quickEncodeToken:quickEncodeToken$1};function makeCborEncoders$1(){const t=[];return t[Type$1.uint.major]=encodeUint$1,t[Type$1.negint.major]=encodeNegint$1,t[Type$1.bytes.major]=encodeBytes$1,t[Type$1.string.major]=encodeString$1,t[Type$1.array.major]=encodeArray$1,t[Type$1.map.major]=encodeMap$1,t[Type$1.tag.major]=encodeTag$1,t[Type$1.float.major]=encodeFloat$1,t}const cborEncoders$1=makeCborEncoders$1(),buf$1=new Bl$1;let Ref$1=class ge{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${encodeErrPrefix$1} object contains circular references`);return new ge(r,e)}};const simpleTokens$1={null:new Token$2(Type$1.null,null),undefined:new Token$2(Type$1.undefined,void 0),true:new Token$2(Type$1.true,!0),false:new Token$2(Type$1.false,!1),emptyArray:new Token$2(Type$1.array,0),emptyMap:new Token$2(Type$1.map,0)},typeEncoders$1={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Token$2(Type$1.float,t):t>=0?new Token$2(Type$1.uint,t):new Token$2(Type$1.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new Token$2(Type$1.uint,t):new Token$2(Type$1.negint,t)},Uint8Array(t,e,r,n){return new Token$2(Type$1.bytes,t)},string(t,e,r,n){return new Token$2(Type$1.string,t)},boolean(t,e,r,n){return t?simpleTokens$1.true:simpleTokens$1.false},null(t,e,r,n){return simpleTokens$1.null},undefined(t,e,r,n){return simpleTokens$1.undefined},ArrayBuffer(t,e,r,n){return new Token$2(Type$1.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new Token$2(Type$1.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[simpleTokens$1.emptyArray,new Token$2(Type$1.break)]:simpleTokens$1.emptyArray;n=Ref$1.createCheck(n,t);const o=[];let s=0;for(const a of t)o[s++]=objectToTokens$1(a,r,n);return r.addBreakTokens?[new Token$2(Type$1.array,t.length),o,new Token$2(Type$1.break)]:[new Token$2(Type$1.array,t.length),o]},Object(t,e,r,n){const o=e!=="Object",s=o?t.keys():Object.keys(t),a=o?t.size:s.length;if(!a)return r.addBreakTokens===!0?[simpleTokens$1.emptyMap,new Token$2(Type$1.break)]:simpleTokens$1.emptyMap;n=Ref$1.createCheck(n,t);const u=[];let c=0;for(const h of s)u[c++]=[objectToTokens$1(h,r,n),objectToTokens$1(o?t.get(h):t[h],r,n)];return sortMapEntries$1(u,r),r.addBreakTokens?[new Token$2(Type$1.map,a),u,new Token$2(Type$1.break)]:[new Token$2(Type$1.map,a),u]}};typeEncoders$1.Map=typeEncoders$1.Object;typeEncoders$1.Buffer=typeEncoders$1.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders$1[`${t}Array`]=typeEncoders$1.DataView;function objectToTokens$1(t,e={},r){const n=is$1(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||typeEncoders$1[n];if(typeof o=="function"){const a=o(t,n,e,r);if(a!=null)return a}const s=typeEncoders$1[n];if(!s)throw new Error(`${encodeErrPrefix$1} unsupported type: ${n}`);return s(t,n,e,r)}function sortMapEntries$1(t,e){e.mapSorter&&t.sort(e.mapSorter)}function mapSorter$1(t,e){const r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,s=cborEncoders$1[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function tokensToEncoded$1(t,e,r,n){if(Array.isArray(e))for(const o of e)tokensToEncoded$1(t,o,r,n);else r[e.type.major](t,e,n)}function encodeCustom$1(t,e,r){const n=objectToTokens$1(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const s=e[n.type.major];if(s.encodedSize){const a=s.encodedSize(n,r),u=new Bl$1(a);if(s(u,n,r),u.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A$1(u.chunks[0])}}return buf$1.reset(),tokensToEncoded$1(buf$1,n,e,r),buf$1.toBytes(!0)}function encode$k(t,e){return e=Object.assign({},defaultEncodeOptions$1,e),encodeCustom$1(t,cborEncoders$1,e)}const defaultDecodeOptions$1={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};let Tokeniser$1=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let r=quick$1[e];if(r===void 0){const n=jump$1[e];if(!n)throw new Error(`${decodeErrPrefix$1} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=e&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}};const DONE$1=Symbol.for("DONE"),BREAK$1=Symbol.for("BREAK");function tokenToArray$1(t,e,r){const n=[];for(let o=0;o<t.value;o++){const s=tokensToObject$1(e,r);if(s===BREAK$1){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix$1} got unexpected break to lengthed array`)}if(s===DONE$1)throw new Error(`${decodeErrPrefix$1} found array but not enough entries (got ${o}, expected ${t.value})`);n[o]=s}return n}function tokenToMap$1(t,e,r){const n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let a=0;a<t.value;a++){const u=tokensToObject$1(e,r);if(u===BREAK$1){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix$1} got unexpected break to lengthed map`)}if(u===DONE$1)throw new Error(`${decodeErrPrefix$1} found map but not enough entries (got ${a} [no key], expected ${t.value})`);if(n!==!0&&typeof u!="string")throw new Error(`${decodeErrPrefix$1} non-string keys not supported (got ${typeof u})`);if(r.rejectDuplicateMapKeys===!0&&(n&&s.has(u)||!n&&u in o))throw new Error(`${decodeErrPrefix$1} found repeat map key "${u}"`);const c=tokensToObject$1(e,r);if(c===DONE$1)throw new Error(`${decodeErrPrefix$1} found map but not enough entries (got ${a} [no value], expected ${t.value})`);n?s.set(u,c):o[u]=c}return n?s:o}function tokensToObject$1(t,e){if(t.done())return DONE$1;const r=t.next();if(r.type===Type$1.break)return BREAK$1;if(r.type.terminal)return r.value;if(r.type===Type$1.array)return tokenToArray$1(r,t,e);if(r.type===Type$1.map)return tokenToMap$1(r,t,e);if(r.type===Type$1.tag){if(e.tags&&typeof e.tags[r.value]=="function"){const n=tokensToObject$1(t,e);return e.tags[r.value](n)}throw new Error(`${decodeErrPrefix$1} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$p(t,e){if(!(t instanceof Uint8Array))throw new Error(`${decodeErrPrefix$1} data to decode must be a Uint8Array`);e=Object.assign({},defaultDecodeOptions$1,e);const r=e.tokenizer||new Tokeniser$1(t,e),n=tokensToObject$1(r,e);if(n===DONE$1)throw new Error(`${decodeErrPrefix$1} did not find any content to decode`);if(n===BREAK$1)throw new Error(`${decodeErrPrefix$1} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix$1} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG$1=42;function cidEncoder$1(t){if(t.asCID!==t)return null;const e=CID$3.asCID(t);if(!e)return null;const r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Token$2(Type$1.tag,CID_CBOR_TAG$1),new Token$2(Type$1.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$1(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$3.decode(t.subarray(1))}const decodeOptions$1={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;const name$4="dag-cbor",code$5=113,encode$j=t=>encode$k(t,encodeOptions$1),decode$o=t=>decode$p(t,decodeOptions$1),cbor=Object.freeze(Object.defineProperty({__proto__:null,code:code$5,decode:decode$o,encode:encode$j,name:name$4},Symbol.toStringTag,{value:"Module"})),textDecoder$2=new TextDecoder;function decodeVarint$1(t,e){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");const o=t[e++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,e]}function decodeBytes$1(t,e){let r;[r,e]=decodeVarint$1(t,e);const n=e+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,n),n]}function decodeKey$1(t,e){let r;return[r,e]=decodeVarint$1(t,e),[r&7,r>>3,e]}function decodeLink$1(t){const e={},r=t.length;let n=0;for(;n<r;){let o,s;if([o,s,n]=decodeKey$1(t,n),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,n]=decodeBytes$1(t,n)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,n]=decodeBytes$1(t,n),e.Name=textDecoder$2.decode(a)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[e.Tsize,n]=decodeVarint$1(t,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function decodeNode$1(t){const e=t.length;let r=0,n,o=!1,s;for(;r<e;){let u,c;if([u,c,r]=decodeKey$1(t,r),u!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${u}`);if(c===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=decodeBytes$1(t,r),n&&(o=!0)}else if(c===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let h;[h,r]=decodeBytes$1(t,r),n.push(decodeLink$1(h))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");const a={};return s&&(a.Data=s),a.Links=n||[],a}const textEncoder$4=new TextEncoder,maxInt32$1=2**32,maxUInt32$1=2**31;function encodeLink$1(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=encodeVarint$1(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){const n=textEncoder$4.encode(t.Name);r-=n.length,e.set(n,r),r=encodeVarint$1(e,r,n.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=encodeVarint$1(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function encodeNode$1(t){const e=sizeNode$1(t),r=new Uint8Array(e);let n=e;if(t.Data&&(n-=t.Data.length,r.set(t.Data,n),n=encodeVarint$1(r,n,t.Data.length)-1,r[n]=10),t.Links)for(let o=t.Links.length-1;o>=0;o--){const s=encodeLink$1(t.Links[o],r.subarray(0,n));n-=s,n=encodeVarint$1(r,n,s)-1,r[n]=18}return r}function sizeLink$1(t){let e=0;if(t.Hash){const r=t.Hash.length;e+=1+r+sov$1(r)}if(typeof t.Name=="string"){const r=textEncoder$4.encode(t.Name).length;e+=1+r+sov$1(r)}return typeof t.Tsize=="number"&&(e+=1+sov$1(t.Tsize)),e}function sizeNode$1(t){let e=0;if(t.Data){const r=t.Data.length;e+=1+r+sov$1(r)}if(t.Links)for(const r of t.Links){const n=sizeLink$1(r);e+=1+n+sov$1(n)}return e}function encodeVarint$1(t,e,r){e-=sov$1(r);const n=e;for(;r>=maxUInt32$1;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,n}function sov$1(t){return t%2===0&&t++,Math.floor((len64$1(t)+6)/7)}function len64$1(t){let e=0;return t>=maxInt32$1&&(t=Math.floor(t/maxInt32$1),e=32),t>=65536&&(t>>>=16,e+=16),t>=256&&(t>>>=8,e+=8),e+len8tab$1[t]}const len8tab$1=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties$1=["Data","Links"],pbLinkProperties$1=["Hash","Name","Tsize"],textEncoder$3=new TextEncoder;function linkComparator$1(t,e){if(t===e)return 0;const r=t.Name?textEncoder$3.encode(t.Name):[],n=e.Name?textEncoder$3.encode(e.Name):[];let o=r.length,s=n.length;for(let a=0,u=Math.min(o,s);a<u;++a)if(r[a]!==n[a]){o=r[a],s=n[a];break}return o<s?-1:s<o?1:0}function hasOnlyProperties$1(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function asLink$1(t){if(typeof t.asCID=="object"){const r=CID$3.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Hash){let r=CID$3.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=CID$3.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=CID$3.decode(t.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function prepare$1(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=textEncoder$3.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(asLink$1),e.Links.sort(linkComparator$1);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function validate$1(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties$1(t,pbNodeProperties$1))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let e=0;e<t.Links.length;e++){const r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties$1(r,pbLinkProperties$1))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e>0&&linkComparator$1(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode$1(t,e=[]){return prepare$1({Data:t,Links:e})}function createLink$1(t,e,r){return asLink$1({Hash:r,Name:t,Tsize:e})}const name$3="dag-pb",code$4=112;function encode$i(t){validate$1(t);const e={};return t.Links&&(e.Links=t.Links.map(r=>{const n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),t.Data&&(e.Data=t.Data),encodeNode$1(e)}function decode$n(t){const e=decodeNode$1(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(n=>{const o={};try{o.Hash=CID$3.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}const pb=Object.freeze(Object.defineProperty({__proto__:null,code:code$4,createLink:createLink$1,createNode:createNode$1,decode:decode$n,encode:encode$i,name:name$3,prepare:prepare$1,validate:validate$1},Symbol.toStringTag,{value:"Module"}));class TreewalkCarSplitter{constructor(e,r,n={}){if(typeof r!="number"||r<=0)throw new Error("invalid target chunk size");this._reader=e,this._targetSize=r,this._decoders=[pb,raw$1,cbor,...n.decoders||[]]}async*cars(){const e=await this._reader.getRoots();if(e.length!==1)throw new Error(`unexpected number of roots: ${e.length}`);let r;for await(const n of this._cars(e[0]))r=n.channel,n.out&&(yield n.out);if(!r)throw new Error("missing CAR writer channel");r.writer.close(),yield r.out}async _get(e){const r=await this._reader.get(e);if(!r)throw new Error(`missing block for ${e}`);const{bytes:n}=r,o=this._decoders.find(s=>s.code===e.code);if(!o)throw new Error(`missing decoder for ${e.code}`);return new Block$1({cid:e,bytes:n,value:o.decode(n)})}async*_cars(e,r=[],n=void 0){const o=await this._get(e);if(n=n||Object.assign(CarWriter.create(e),{size:0}),n.size>0&&n.size+o.bytes.byteLength>=this._targetSize){n.writer.close();const{out:s}=n;n=newCar(r),yield{channel:n,out:s}}r=r.concat(o),n.size+=o.bytes.byteLength,n.writer.put(o);for(const[,s]of o.links())for await(const a of this._cars(s,r,n))n=a.channel,yield a;if(!n)throw new Error("missing CAR writer channel");yield{channel:n}}static async fromIterable(e,r,n){const o=await CarReader.fromIterable(e);return new TreewalkCarSplitter(o,r,n)}static async fromBlob(e,r,n){const o=await e.arrayBuffer(),s=await CarReader.fromBytes(new Uint8Array(o));return new TreewalkCarSplitter(s,r,n)}}function newCar(t){const e=Object.assign(CarWriter.create(t[0].cid),{size:t.reduce((r,n)=>r+n.bytes.byteLength,0)});for(const r of t)e.writer.put(r);return e}const last=async t=>{let e;for await(const r of t)e=r;return e};var itLast=last;const last$1=getDefaultExportFromCjs(itLast);var itPipe={exports:{}};const rawPipe=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},isIterable$1=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),isDuplex=t=>t&&typeof t.sink=="function"&&isIterable$1(t.source),duplexPipelineFn=t=>e=>(t.sink(e),t.source),pipe=(...t)=>{if(isDuplex(t[0])){const e=t[0];t[0]=()=>e.source}else if(isIterable$1(t[0])){const e=t[0];t[0]=()=>e}if(t.length>1&&isDuplex(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)isDuplex(t[e])&&(t[e]=duplexPipelineFn(t[e]));return rawPipe(...t)};itPipe.exports=pipe;itPipe.exports.pipe=pipe;itPipe.exports.rawPipe=rawPipe;itPipe.exports.isIterable=isIterable$1;itPipe.exports.isDuplex=isDuplex;var itPipeExports=itPipe.exports;const pipe$1=getDefaultExportFromCjs(itPipeExports);async function*batch$1(t,e=1){let r=[];e<1&&(e=1);for await(const n of t)for(r.push(n);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length;)yield r.slice(0,e),r=r.slice(e)}var itBatch=batch$1;const batch$2=getDefaultExportFromCjs(itBatch),batch=itBatch;async function*parallelBatch(t,e=1){for await(const r of batch(t,e)){const n=r.map(o=>o().then(s=>({ok:!0,value:s}),s=>({ok:!1,err:s})));for(let o=0;o<n.length;o++){const s=await n[o];if(s.ok)yield s.value;else throw s.err}}}var itParallelBatch=parallelBatch;const parallelBatch$1=getDefaultExportFromCjs(itParallelBatch);var isPlainObj=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty:hasOwnProperty$3}=Object.prototype,{propertyIsEnumerable:propertyIsEnumerable$1}=Object,defineProperty=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0}),globalThis$2=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=t=>{const e=[];for(const r in t)hasOwnProperty$3.call(t,r)&&e.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(t);for(const n of r)propertyIsEnumerable$1.call(t,n)&&e.push(n)}return e};function clone(t){return Array.isArray(t)?cloneArray(t):isOptionObject(t)?cloneOptionObject(t):t}function cloneArray(t){const e=t.slice(0,0);return getEnumerableOwnPropertyKeys(t).forEach(r=>{defineProperty(e,r,clone(t[r]))}),e}function cloneOptionObject(t){const e=Object.getPrototypeOf(t)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(t).forEach(r=>{defineProperty(e,r,clone(t[r]))}),e}const mergeKeys=(t,e,r,n)=>(r.forEach(o=>{typeof e[o]>"u"&&n.ignoreUndefined||(o in t&&t[o]!==Object.getPrototypeOf(t)?defineProperty(t,o,merge(t[o],e[o],n)):defineProperty(t,o,clone(e[o])))}),t),concatArrays=(t,e,r)=>{let n=t.slice(0,0),o=0;return[t,e].forEach(s=>{const a=[];for(let u=0;u<s.length;u++)hasOwnProperty$3.call(s,u)&&(a.push(String(u)),s===t?defineProperty(n,o++,s[u]):defineProperty(n,o++,clone(s[u])));n=mergeKeys(n,s,getEnumerableOwnPropertyKeys(s).filter(u=>!a.includes(u)),r)}),n};function merge(t,e,r){return r.concatArrays&&Array.isArray(t)&&Array.isArray(e)?concatArrays(t,e,r):!isOptionObject(e)||!isOptionObject(t)?clone(e):mergeKeys(t,e,getEnumerableOwnPropertyKeys(e),r)}var mergeOptions=function(...t){const e=merge(clone(defaultMergeOptions),this!==globalThis$2&&this||{},defaultMergeOptions);let r={_:{}};for(const n of t)if(n!==void 0){if(!isOptionObject(n))throw new TypeError("`"+n+"` is not an Option Object");r=merge(r,{_:n},e)}return r._};const mergeOptions$1=getDefaultExportFromCjs(mergeOptions),equals$5=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},coerce$5=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},fromString$7=t=>new TextEncoder().encode(t),toString$5=t=>new TextDecoder().decode(t);var encode_1$3=encode$h,MSB$4=128,REST$4=127,MSBALL$3=~REST$4,INT$3=Math.pow(2,31);function encode$h(t,e,r){e=e||[],r=r||0;for(var n=r;t>=INT$3;)e[r++]=t&255|MSB$4,t/=128;for(;t&MSBALL$3;)e[r++]=t&255|MSB$4,t>>>=7;return e[r]=t|0,encode$h.bytes=r-n+1,e}var decode$m=read$3,MSB$1$3=128,REST$1$3=127;function read$3(t,n){var r=0,n=n||0,o=0,s=n,a,u=t.length;do{if(s>=u)throw read$3.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=o<28?(a&REST$1$3)<<o:(a&REST$1$3)*Math.pow(2,o),o+=7}while(a>=MSB$1$3);return read$3.bytes=s-n,r}var N1$3=Math.pow(2,7),N2$3=Math.pow(2,14),N3$3=Math.pow(2,21),N4$3=Math.pow(2,28),N5$3=Math.pow(2,35),N6$3=Math.pow(2,42),N7$3=Math.pow(2,49),N8$3=Math.pow(2,56),N9$3=Math.pow(2,63),length$3=function(t){return t<N1$3?1:t<N2$3?2:t<N3$3?3:t<N4$3?4:t<N5$3?5:t<N6$3?6:t<N7$3?7:t<N8$3?8:t<N9$3?9:10},varint$3={encode:encode_1$3,decode:decode$m,encodingLength:length$3},_brrp_varint$3=varint$3;const decode$l=(t,e=0)=>[_brrp_varint$3.decode(t,e),_brrp_varint$3.decode.bytes],encodeTo$3=(t,e,r=0)=>(_brrp_varint$3.encode(t,e,r),e),encodingLength$3=t=>_brrp_varint$3.encodingLength(t),create$9=(t,e)=>{const r=e.byteLength,n=encodingLength$3(t),o=n+encodingLength$3(r),s=new Uint8Array(o+r);return encodeTo$3(t,s,0),encodeTo$3(r,s,n),s.set(e,o),new Digest$3(t,r,e,s)},decode$k=t=>{const e=coerce$5(t),[r,n]=decode$l(e),[o,s]=decode$l(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==o)throw new Error("Incorrect length");return new Digest$3(r,o,a,e)},equals$4=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&equals$5(t.bytes,e.bytes);let Digest$3=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};const from$9=({name:t,code:e,encode:r})=>new Hasher$3(t,e,r);let Hasher$3=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?create$9(this.code,r):r.then(n=>create$9(this.code,n))}else throw Error("Unknown type, must be binary type")}};const sha$2=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sha256$2=from$9({name:"sha2-256",code:18,encode:sha$2("SHA-256")}),empty=new Uint8Array(0),fromHex=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):empty},coerce$4=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var encode_1$2=encode$g,MSB$3=128,REST$3=127,MSBALL$2=~REST$3,INT$2=Math.pow(2,31);function encode$g(t,e,r){e=e||[],r=r||0;for(var n=r;t>=INT$2;)e[r++]=t&255|MSB$3,t/=128;for(;t&MSBALL$2;)e[r++]=t&255|MSB$3,t>>>=7;return e[r]=t|0,encode$g.bytes=r-n+1,e}var decode$j=read$2,MSB$1$2=128,REST$1$2=127;function read$2(t,n){var r=0,n=n||0,o=0,s=n,a,u=t.length;do{if(s>=u)throw read$2.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=o<28?(a&REST$1$2)<<o:(a&REST$1$2)*Math.pow(2,o),o+=7}while(a>=MSB$1$2);return read$2.bytes=s-n,r}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$2=function(t){return t<N1$2?1:t<N2$2?2:t<N3$2?3:t<N4$2?4:t<N5$2?5:t<N6$2?6:t<N7$2?7:t<N8$2?8:t<N9$2?9:10},varint$2={encode:encode_1$2,decode:decode$j,encodingLength:length$2},_brrp_varint$2=varint$2;const encodeTo$2=(t,e,r=0)=>(_brrp_varint$2.encode(t,e,r),e),encodingLength$2=t=>_brrp_varint$2.encodingLength(t),create$8=(t,e)=>{const r=e.byteLength,n=encodingLength$2(t),o=n+encodingLength$2(r),s=new Uint8Array(o+r);return encodeTo$2(t,s,0),encodeTo$2(r,s,n),s.set(e,o),new Digest$2(t,r,e,s)};let Digest$2=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};const from$8=({name:t,code:e,encode:r})=>new Hasher$2(t,e,r);let Hasher$2=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?create$8(this.code,r):r.then(n=>create$8(this.code,n))}else throw Error("Unknown type, must be binary type")}};function base$5(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src$7=base$5,_brrp__multiformats_scope_baseX$5=src$7;let Encoder$5=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$5=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$5(this,e)}},ComposedDecoder$5=class{constructor(e){this.decoders=e}or(e){return or$5(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$5=(t,e)=>new ComposedDecoder$5({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Codec$5=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder$5(e,r,n),this.decoder=new Decoder$5(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$7=({name:t,prefix:e,encode:r,decode:n})=>new Codec$5(t,e,r,n),baseX$5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX$5(r,e);return from$7({prefix:t,name:e,encode:n,decode:s=>coerce$4(o(s))})},decode$i=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$f=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648$5=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$7({prefix:e,name:t,encode(o){return encode$f(o,n,r)},decode(o){return decode$i(o,n,r,t)}});baseX$5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var murmurHash3js={exports:{}};(function(t,e){(function(r,n){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(p){if(!Array.isArray(p)&&!ArrayBuffer.isView(p))return!1;for(var b=0;b<p.length;b++)if(!Number.isInteger(p[b])||p[b]<0||p[b]>255)return!1;return!0}function a(p,b){return(p&65535)*b+(((p>>>16)*b&65535)<<16)}function u(p,b){return p<<b|p>>>32-b}function c(p){return p^=p>>>16,p=a(p,2246822507),p^=p>>>13,p=a(p,3266489909),p^=p>>>16,p}function h(p,b){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],b=[b[0]>>>16,b[0]&65535,b[1]>>>16,b[1]&65535];var w=[0,0,0,0];return w[3]+=p[3]+b[3],w[2]+=w[3]>>>16,w[3]&=65535,w[2]+=p[2]+b[2],w[1]+=w[2]>>>16,w[2]&=65535,w[1]+=p[1]+b[1],w[0]+=w[1]>>>16,w[1]&=65535,w[0]+=p[0]+b[0],w[0]&=65535,[w[0]<<16|w[1],w[2]<<16|w[3]]}function d(p,b){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],b=[b[0]>>>16,b[0]&65535,b[1]>>>16,b[1]&65535];var w=[0,0,0,0];return w[3]+=p[3]*b[3],w[2]+=w[3]>>>16,w[3]&=65535,w[2]+=p[2]*b[3],w[1]+=w[2]>>>16,w[2]&=65535,w[2]+=p[3]*b[2],w[1]+=w[2]>>>16,w[2]&=65535,w[1]+=p[1]*b[3],w[0]+=w[1]>>>16,w[1]&=65535,w[1]+=p[2]*b[2],w[0]+=w[1]>>>16,w[1]&=65535,w[1]+=p[3]*b[1],w[0]+=w[1]>>>16,w[1]&=65535,w[0]+=p[0]*b[3]+p[1]*b[2]+p[2]*b[1]+p[3]*b[0],w[0]&=65535,[w[0]<<16|w[1],w[2]<<16|w[3]]}function m(p,b){return b%=64,b===32?[p[1],p[0]]:b<32?[p[0]<<b|p[1]>>>32-b,p[1]<<b|p[0]>>>32-b]:(b-=32,[p[1]<<b|p[0]>>>32-b,p[0]<<b|p[1]>>>32-b])}function v(p,b){return b%=64,b===0?p:b<32?[p[0]<<b|p[1]>>>32-b,p[1]<<b]:[p[1]<<b-32,0]}function B(p,b){return[p[0]^b[0],p[1]^b[1]]}function $(p){return p=B(p,[0,p[0]>>>1]),p=d(p,[4283543511,3981806797]),p=B(p,[0,p[0]>>>1]),p=d(p,[3301882366,444984403]),p=B(p,[0,p[0]>>>1]),p}o.x86.hash32=function(p,b){if(o.inputValidation&&!s(p))return n;b=b||0;for(var w=p.length%4,A=p.length-w,T=b,E=0,D=3432918353,S=461845907,_=0;_<A;_=_+4)E=p[_]|p[_+1]<<8|p[_+2]<<16|p[_+3]<<24,E=a(E,D),E=u(E,15),E=a(E,S),T^=E,T=u(T,13),T=a(T,5)+3864292196;switch(E=0,w){case 3:E^=p[_+2]<<16;case 2:E^=p[_+1]<<8;case 1:E^=p[_],E=a(E,D),E=u(E,15),E=a(E,S),T^=E}return T^=p.length,T=c(T),T>>>0},o.x86.hash128=function(p,b){if(o.inputValidation&&!s(p))return n;b=b||0;for(var w=p.length%16,A=p.length-w,T=b,E=b,D=b,S=b,_=0,C=0,I=0,N=0,z=597399067,X=2869860233,Z=951274213,J=2716044179,j=0;j<A;j=j+16)_=p[j]|p[j+1]<<8|p[j+2]<<16|p[j+3]<<24,C=p[j+4]|p[j+5]<<8|p[j+6]<<16|p[j+7]<<24,I=p[j+8]|p[j+9]<<8|p[j+10]<<16|p[j+11]<<24,N=p[j+12]|p[j+13]<<8|p[j+14]<<16|p[j+15]<<24,_=a(_,z),_=u(_,15),_=a(_,X),T^=_,T=u(T,19),T+=E,T=a(T,5)+1444728091,C=a(C,X),C=u(C,16),C=a(C,Z),E^=C,E=u(E,17),E+=D,E=a(E,5)+197830471,I=a(I,Z),I=u(I,17),I=a(I,J),D^=I,D=u(D,15),D+=S,D=a(D,5)+2530024501,N=a(N,J),N=u(N,18),N=a(N,z),S^=N,S=u(S,13),S+=T,S=a(S,5)+850148119;switch(_=0,C=0,I=0,N=0,w){case 15:N^=p[j+14]<<16;case 14:N^=p[j+13]<<8;case 13:N^=p[j+12],N=a(N,J),N=u(N,18),N=a(N,z),S^=N;case 12:I^=p[j+11]<<24;case 11:I^=p[j+10]<<16;case 10:I^=p[j+9]<<8;case 9:I^=p[j+8],I=a(I,Z),I=u(I,17),I=a(I,J),D^=I;case 8:C^=p[j+7]<<24;case 7:C^=p[j+6]<<16;case 6:C^=p[j+5]<<8;case 5:C^=p[j+4],C=a(C,X),C=u(C,16),C=a(C,Z),E^=C;case 4:_^=p[j+3]<<24;case 3:_^=p[j+2]<<16;case 2:_^=p[j+1]<<8;case 1:_^=p[j],_=a(_,z),_=u(_,15),_=a(_,X),T^=_}return T^=p.length,E^=p.length,D^=p.length,S^=p.length,T+=E,T+=D,T+=S,E+=T,D+=T,S+=T,T=c(T),E=c(E),D=c(D),S=c(S),T+=E,T+=D,T+=S,E+=T,D+=T,S+=T,("00000000"+(T>>>0).toString(16)).slice(-8)+("00000000"+(E>>>0).toString(16)).slice(-8)+("00000000"+(D>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)},o.x64.hash128=function(p,b){if(o.inputValidation&&!s(p))return n;b=b||0;for(var w=p.length%16,A=p.length-w,T=[0,b],E=[0,b],D=[0,0],S=[0,0],_=[2277735313,289559509],C=[1291169091,658871167],I=0;I<A;I=I+16)D=[p[I+4]|p[I+5]<<8|p[I+6]<<16|p[I+7]<<24,p[I]|p[I+1]<<8|p[I+2]<<16|p[I+3]<<24],S=[p[I+12]|p[I+13]<<8|p[I+14]<<16|p[I+15]<<24,p[I+8]|p[I+9]<<8|p[I+10]<<16|p[I+11]<<24],D=d(D,_),D=m(D,31),D=d(D,C),T=B(T,D),T=m(T,27),T=h(T,E),T=h(d(T,[0,5]),[0,1390208809]),S=d(S,C),S=m(S,33),S=d(S,_),E=B(E,S),E=m(E,31),E=h(E,T),E=h(d(E,[0,5]),[0,944331445]);switch(D=[0,0],S=[0,0],w){case 15:S=B(S,v([0,p[I+14]],48));case 14:S=B(S,v([0,p[I+13]],40));case 13:S=B(S,v([0,p[I+12]],32));case 12:S=B(S,v([0,p[I+11]],24));case 11:S=B(S,v([0,p[I+10]],16));case 10:S=B(S,v([0,p[I+9]],8));case 9:S=B(S,[0,p[I+8]]),S=d(S,C),S=m(S,33),S=d(S,_),E=B(E,S);case 8:D=B(D,v([0,p[I+7]],56));case 7:D=B(D,v([0,p[I+6]],48));case 6:D=B(D,v([0,p[I+5]],40));case 5:D=B(D,v([0,p[I+4]],32));case 4:D=B(D,v([0,p[I+3]],24));case 3:D=B(D,v([0,p[I+2]],16));case 2:D=B(D,v([0,p[I+1]],8));case 1:D=B(D,[0,p[I]]),D=d(D,_),D=m(D,31),D=d(D,C),T=B(T,D)}return T=B(T,[0,p.length]),E=B(E,[0,p.length]),T=h(T,E),E=h(E,T),T=$(T),E=$(E),T=h(T,E),E=h(E,T),("00000000"+(T[0]>>>0).toString(16)).slice(-8)+("00000000"+(T[1]>>>0).toString(16)).slice(-8)+("00000000"+(E[0]>>>0).toString(16)).slice(-8)+("00000000"+(E[1]>>>0).toString(16)).slice(-8)},t.exports&&(e=t.exports=o),e.murmurHash3=o})()})(murmurHash3js,murmurHash3js.exports);var murmurHash3jsExports=murmurHash3js.exports,murmurhash3jsRevisited=murmurHash3jsExports;const mur=getDefaultExportFromCjs(murmurhash3jsRevisited),murmur3128=from$8({name:"murmur3-128",code:34,encode:t=>fromHex(mur.x64.hash128(t))});async function hamtHashFn(t){return(await murmur3128.encode(t)).slice(0,8).reverse()}const defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256$2,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8},defaultOptions$1=(t={})=>mergeOptions$1.bind({ignoreUndefined:!0})(defaultOptions,t);function assign(t,e){for(const r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function createError(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return assign(t,r)}catch{r.message=t.message,r.stack=t.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(t)),assign(new o,r)}}var errCode=createError;const errCode$1=getDefaultExportFromCjs(errCode);var indexMinimal$1={},minimal$3={},aspromise=asPromise;function asPromise(t,e){for(var r=new Array(arguments.length-1),n=0,o=2,s=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise(function(u,c){r[n]=function(d){if(s)if(s=!1,d)c(d);else{for(var m=new Array(arguments.length-1),v=0;v<m.length;)m[v++]=arguments[v];u.apply(null,m)}};try{t.apply(e||null,r)}catch(h){s&&(s=!1,c(h))}})}var base64$8={};(function(t){var e=t;e.length=function(u){var c=u.length;if(!c)return 0;for(var h=0;--c%4>1&&u.charAt(c)==="=";)++h;return Math.ceil(u.length*3)/4-h};for(var r=new Array(64),n=new Array(123),o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;e.encode=function(u,c,h){for(var d=null,m=[],v=0,B=0,$;c<h;){var p=u[c++];switch(B){case 0:m[v++]=r[p>>2],$=(p&3)<<4,B=1;break;case 1:m[v++]=r[$|p>>4],$=(p&15)<<2,B=2;break;case 2:m[v++]=r[$|p>>6],m[v++]=r[p&63],B=0;break}v>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,m)),v=0)}return B&&(m[v++]=r[$],m[v++]=61,B===1&&(m[v++]=61)),d?(v&&d.push(String.fromCharCode.apply(String,m.slice(0,v))),d.join("")):String.fromCharCode.apply(String,m.slice(0,v))};var s="invalid encoding";e.decode=function(u,c,h){for(var d=h,m=0,v,B=0;B<u.length;){var $=u.charCodeAt(B++);if($===61&&m>1)break;if(($=n[$])===void 0)throw Error(s);switch(m){case 0:v=$,m=1;break;case 1:c[h++]=v<<2|($&48)>>4,v=$,m=2;break;case 2:c[h++]=(v&15)<<4|($&60)>>2,v=$,m=3;break;case 3:c[h++]=(v&3)<<6|$,m=0;break}}if(m===1)throw Error(s);return h-d},e.test=function(u){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(u)}})(base64$8);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};EventEmitter.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],o=0;o<n.length;)n[o].fn===r?n.splice(o,1):++o;return this};EventEmitter.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<r.length;)r[o].fn.apply(r[o++].ctx,n)}return this};var float=factory(factory);function factory(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function o(c,h,d){e[0]=c,h[d]=r[0],h[d+1]=r[1],h[d+2]=r[2],h[d+3]=r[3]}function s(c,h,d){e[0]=c,h[d]=r[3],h[d+1]=r[2],h[d+2]=r[1],h[d+3]=r[0]}t.writeFloatLE=n?o:s,t.writeFloatBE=n?s:o;function a(c,h){return r[0]=c[h],r[1]=c[h+1],r[2]=c[h+2],r[3]=c[h+3],e[0]}function u(c,h){return r[3]=c[h],r[2]=c[h+1],r[1]=c[h+2],r[0]=c[h+3],e[0]}t.readFloatLE=n?a:u,t.readFloatBE=n?u:a}():function(){function e(n,o,s,a){var u=o<0?1:0;if(u&&(o=-o),o===0)n(1/o>0?0:2147483648,s,a);else if(isNaN(o))n(2143289344,s,a);else if(o>34028234663852886e22)n((u<<31|2139095040)>>>0,s,a);else if(o<11754943508222875e-54)n((u<<31|Math.round(o/1401298464324817e-60))>>>0,s,a);else{var c=Math.floor(Math.log(o)/Math.LN2),h=Math.round(o*Math.pow(2,-c)*8388608)&8388607;n((u<<31|c+127<<23|h)>>>0,s,a)}}t.writeFloatLE=e.bind(null,writeUintLE),t.writeFloatBE=e.bind(null,writeUintBE);function r(n,o,s){var a=n(o,s),u=(a>>31)*2+1,c=a>>>23&255,h=a&8388607;return c===255?h?NaN:u*(1/0):c===0?u*1401298464324817e-60*h:u*Math.pow(2,c-150)*(h+8388608)}t.readFloatLE=r.bind(null,readUintLE),t.readFloatBE=r.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function o(c,h,d){e[0]=c,h[d]=r[0],h[d+1]=r[1],h[d+2]=r[2],h[d+3]=r[3],h[d+4]=r[4],h[d+5]=r[5],h[d+6]=r[6],h[d+7]=r[7]}function s(c,h,d){e[0]=c,h[d]=r[7],h[d+1]=r[6],h[d+2]=r[5],h[d+3]=r[4],h[d+4]=r[3],h[d+5]=r[2],h[d+6]=r[1],h[d+7]=r[0]}t.writeDoubleLE=n?o:s,t.writeDoubleBE=n?s:o;function a(c,h){return r[0]=c[h],r[1]=c[h+1],r[2]=c[h+2],r[3]=c[h+3],r[4]=c[h+4],r[5]=c[h+5],r[6]=c[h+6],r[7]=c[h+7],e[0]}function u(c,h){return r[7]=c[h],r[6]=c[h+1],r[5]=c[h+2],r[4]=c[h+3],r[3]=c[h+4],r[2]=c[h+5],r[1]=c[h+6],r[0]=c[h+7],e[0]}t.readDoubleLE=n?a:u,t.readDoubleBE=n?u:a}():function(){function e(n,o,s,a,u,c){var h=a<0?1:0;if(h&&(a=-a),a===0)n(0,u,c+o),n(1/a>0?0:2147483648,u,c+s);else if(isNaN(a))n(0,u,c+o),n(2146959360,u,c+s);else if(a>17976931348623157e292)n(0,u,c+o),n((h<<31|2146435072)>>>0,u,c+s);else{var d;if(a<22250738585072014e-324)d=a/5e-324,n(d>>>0,u,c+o),n((h<<31|d/4294967296)>>>0,u,c+s);else{var m=Math.floor(Math.log(a)/Math.LN2);m===1024&&(m=1023),d=a*Math.pow(2,-m),n(d*4503599627370496>>>0,u,c+o),n((h<<31|m+1023<<20|d*1048576&1048575)>>>0,u,c+s)}}}t.writeDoubleLE=e.bind(null,writeUintLE,0,4),t.writeDoubleBE=e.bind(null,writeUintBE,4,0);function r(n,o,s,a,u){var c=n(a,u+o),h=n(a,u+s),d=(h>>31)*2+1,m=h>>>20&2047,v=4294967296*(h&1048575)+c;return m===2047?v?NaN:d*(1/0):m===0?d*5e-324*v:d*Math.pow(2,m-1075)*(v+4503599627370496)}t.readDoubleLE=r.bind(null,readUintLE,0,4),t.readDoubleBE=r.bind(null,readUintBE,4,0)}(),t}function writeUintLE(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function writeUintBE(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function readUintLE(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function readUintBE(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}var utf8$4={};(function(t){var e=t;e.length=function(n){for(var o=0,s=0,a=0;a<n.length;++a)s=n.charCodeAt(a),s<128?o+=1:s<2048?o+=2:(s&64512)===55296&&(n.charCodeAt(a+1)&64512)===56320?(++a,o+=4):o+=3;return o},e.read=function(n,o,s){var a=s-o;if(a<1)return"";for(var u=null,c=[],h=0,d;o<s;)d=n[o++],d<128?c[h++]=d:d>191&&d<224?c[h++]=(d&31)<<6|n[o++]&63:d>239&&d<365?(d=((d&7)<<18|(n[o++]&63)<<12|(n[o++]&63)<<6|n[o++]&63)-65536,c[h++]=55296+(d>>10),c[h++]=56320+(d&1023)):c[h++]=(d&15)<<12|(n[o++]&63)<<6|n[o++]&63,h>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,c)),h=0);return u?(h&&u.push(String.fromCharCode.apply(String,c.slice(0,h))),u.join("")):String.fromCharCode.apply(String,c.slice(0,h))},e.write=function(n,o,s){for(var a=s,u,c,h=0;h<n.length;++h)u=n.charCodeAt(h),u<128?o[s++]=u:u<2048?(o[s++]=u>>6|192,o[s++]=u&63|128):(u&64512)===55296&&((c=n.charCodeAt(h+1))&64512)===56320?(u=65536+((u&1023)<<10)+(c&1023),++h,o[s++]=u>>18|240,o[s++]=u>>12&63|128,o[s++]=u>>6&63|128,o[s++]=u&63|128):(o[s++]=u>>12|224,o[s++]=u>>6&63|128,o[s++]=u&63|128);return s-a}})(utf8$4);var pool_1=pool;function pool(t,e,r){var n=r||8192,o=n>>>1,s=null,a=n;return function(c){if(c<1||c>o)return t(c);a+c>n&&(s=t(n),a=0);var h=e.call(s,a,a+=c);return a&7&&(a=(a|7)+1),h}}var longbits$1,hasRequiredLongbits$1;function requireLongbits$1(){if(hasRequiredLongbits$1)return longbits$1;hasRequiredLongbits$1=1,longbits$1=e;var t=requireMinimal$1();function e(s,a){this.lo=s>>>0,this.hi=a>>>0}var r=e.zero=new e(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var n=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(a){if(a===0)return r;var u=a<0;u&&(a=-a);var c=a>>>0,h=(a-c)/4294967296>>>0;return u&&(h=~h>>>0,c=~c>>>0,++c>4294967295&&(c=0,++h>4294967295&&(h=0))),new e(c,h)},e.from=function(a){if(typeof a=="number")return e.fromNumber(a);if(t.isString(a))if(t.Long)a=t.Long.fromString(a);else return e.fromNumber(parseInt(a,10));return a.low||a.high?new e(a.low>>>0,a.high>>>0):r},e.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var u=~this.lo+1>>>0,c=~this.hi>>>0;return u||(c=c+1>>>0),-(u+c*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(a){return t.Long?new t.Long(this.lo|0,this.hi|0,!!a):{low:this.lo|0,high:this.hi|0,unsigned:!!a}};var o=String.prototype.charCodeAt;return e.fromHash=function(a){return a===n?r:new e((o.call(a,0)|o.call(a,1)<<8|o.call(a,2)<<16|o.call(a,3)<<24)>>>0,(o.call(a,4)|o.call(a,5)<<8|o.call(a,6)<<16|o.call(a,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},e.prototype.zzDecode=function(){var a=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},e.prototype.length=function(){var a=this.lo,u=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?u===0?a<16384?a<128?1:2:a<2097152?3:4:u<16384?u<128?5:6:u<2097152?7:8:c<128?9:10},longbits$1}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(t){var e=t;e.asPromise=aspromise,e.base64=base64$8,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$4,e.pool=pool_1,e.LongBits=requireLongbits$1(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},e.isString=function(s){return typeof s=="string"||s instanceof String},e.isObject=function(s){return s&&typeof s=="object"},e.isset=e.isSet=function(s,a){var u=s[a];return u!=null&&s.hasOwnProperty(a)?typeof u!="object"||(Array.isArray(u)?u.length:Object.keys(u).length)>0:!1},e.Buffer=function(){try{var o=e.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(s){return typeof s=="number"?e.Buffer?e._Buffer_allocUnsafe(s):new e.Array(s):e.Buffer?e._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(s){return s?e.LongBits.from(s).toHash():e.LongBits.zeroHash},e.longFromHash=function(s,a){var u=e.LongBits.fromHash(s);return e.Long?e.Long.fromBits(u.lo,u.hi,a):u.toNumber(!!a)};function r(o,s,a){for(var u=Object.keys(s),c=0;c<u.length;++c)(o[u[c]]===void 0||!a)&&(o[u[c]]=s[u[c]]);return o}e.merge=r,e.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)};function n(o){function s(a,u){if(!(this instanceof s))return new s(a,u);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),u&&r(this,u)}return(s.prototype=Object.create(Error.prototype)).constructor=s,Object.defineProperty(s.prototype,"name",{get:function(){return o}}),s.prototype.toString=function(){return this.name+": "+this.message},s}e.newError=n,e.ProtocolError=n("ProtocolError"),e.oneOfGetter=function(s){for(var a={},u=0;u<s.length;++u)a[s[u]]=1;return function(){for(var c=Object.keys(this),h=c.length-1;h>-1;--h)if(a[c[h]]===1&&this[c[h]]!==void 0&&this[c[h]]!==null)return c[h]}},e.oneOfSetter=function(s){return function(a){for(var u=0;u<s.length;++u)s[u]!==a&&delete this[s[u]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var o=e.Buffer;if(!o){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=o.from!==Uint8Array.from&&o.from||function(a,u){return new o(a,u)},e._Buffer_allocUnsafe=o.allocUnsafe||function(a){return new o(a)}}}(minimal$3)),minimal$3}var writer$1=Writer$3,util$9=requireMinimal$1(),BufferWriter$3,LongBits$3=util$9.LongBits,base64$7=util$9.base64,utf8$3=util$9.utf8;function Op$1(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function noop$1(){}function State$1(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer$3(){this.len=0,this.head=new Op$1(noop$1,0,0),this.tail=this.head,this.states=null}var create$7=function t(){return util$9.Buffer?function(){return(Writer$3.create=function(){return new BufferWriter$3})()}:function(){return new Writer$3}};Writer$3.create=create$7();Writer$3.alloc=function t(e){return new util$9.Array(e)};util$9.Array!==Array&&(Writer$3.alloc=util$9.pool(Writer$3.alloc,util$9.Array.prototype.subarray));Writer$3.prototype._push=function t(e,r,n){return this.tail=this.tail.next=new Op$1(e,r,n),this.len+=r,this};function writeByte$1(t,e,r){e[r]=t&255}function writeVarint32$1(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function VarintOp$1(t,e){this.len=t,this.next=void 0,this.val=e}VarintOp$1.prototype=Object.create(Op$1.prototype);VarintOp$1.prototype.fn=writeVarint32$1;Writer$3.prototype.uint32=function t(e){return this.len+=(this.tail=this.tail.next=new VarintOp$1((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$3.prototype.int32=function t(e){return e<0?this._push(writeVarint64$1,10,LongBits$3.fromNumber(e)):this.uint32(e)};Writer$3.prototype.sint32=function t(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64$1(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Writer$3.prototype.uint64=function t(e){var r=LongBits$3.from(e);return this._push(writeVarint64$1,r.length(),r)};Writer$3.prototype.int64=Writer$3.prototype.uint64;Writer$3.prototype.sint64=function t(e){var r=LongBits$3.from(e).zzEncode();return this._push(writeVarint64$1,r.length(),r)};Writer$3.prototype.bool=function t(e){return this._push(writeByte$1,1,e?1:0)};function writeFixed32$1(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Writer$3.prototype.fixed32=function t(e){return this._push(writeFixed32$1,4,e>>>0)};Writer$3.prototype.sfixed32=Writer$3.prototype.fixed32;Writer$3.prototype.fixed64=function t(e){var r=LongBits$3.from(e);return this._push(writeFixed32$1,4,r.lo)._push(writeFixed32$1,4,r.hi)};Writer$3.prototype.sfixed64=Writer$3.prototype.fixed64;Writer$3.prototype.float=function t(e){return this._push(util$9.float.writeFloatLE,4,e)};Writer$3.prototype.double=function t(e){return this._push(util$9.float.writeDoubleLE,8,e)};var writeBytes$1=util$9.Array.prototype.set?function t(e,r,n){r.set(e,n)}:function t(e,r,n){for(var o=0;o<e.length;++o)r[n+o]=e[o]};Writer$3.prototype.bytes=function t(e){var r=e.length>>>0;if(!r)return this._push(writeByte$1,1,0);if(util$9.isString(e)){var n=Writer$3.alloc(r=base64$7.length(e));base64$7.decode(e,n,0),e=n}return this.uint32(r)._push(writeBytes$1,r,e)};Writer$3.prototype.string=function t(e){var r=utf8$3.length(e);return r?this.uint32(r)._push(utf8$3.write,r,e):this._push(writeByte$1,1,0)};Writer$3.prototype.fork=function t(){return this.states=new State$1(this),this.head=this.tail=new Op$1(noop$1,0,0),this.len=0,this};Writer$3.prototype.reset=function t(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op$1(noop$1,0,0),this.len=0),this};Writer$3.prototype.ldelim=function t(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Writer$3.prototype.finish=function t(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Writer$3._configure=function(t){BufferWriter$3=t,Writer$3.create=create$7(),BufferWriter$3._configure()};var writer_buffer$1=BufferWriter$2,Writer$2=writer$1;(BufferWriter$2.prototype=Object.create(Writer$2.prototype)).constructor=BufferWriter$2;var util$8=requireMinimal$1();function BufferWriter$2(){Writer$2.call(this)}BufferWriter$2._configure=function(){BufferWriter$2.alloc=util$8._Buffer_allocUnsafe,BufferWriter$2.writeBytesBuffer=util$8.Buffer&&util$8.Buffer.prototype instanceof Uint8Array&&util$8.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var o=0;o<e.length;)r[n++]=e[o++]}};BufferWriter$2.prototype.bytes=function t(e){util$8.isString(e)&&(e=util$8._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(BufferWriter$2.writeBytesBuffer,r,e),this};function writeStringBuffer$1(t,e,r){t.length<40?util$8.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}BufferWriter$2.prototype.string=function t(e){var r=util$8.Buffer.byteLength(e);return this.uint32(r),r&&this._push(writeStringBuffer$1,r,e),this};BufferWriter$2._configure();var reader$1=Reader$3,util$7=requireMinimal$1(),BufferReader$3,LongBits$2=util$7.LongBits,utf8$2=util$7.utf8;function indexOutOfRange$1(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Reader$3(t){this.buf=t,this.pos=0,this.len=t.length}var create_array$1=typeof Uint8Array<"u"?function t(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$3(e);throw Error("illegal buffer")}:function t(e){if(Array.isArray(e))return new Reader$3(e);throw Error("illegal buffer")},create$6=function t(){return util$7.Buffer?function(r){return(Reader$3.create=function(o){return util$7.Buffer.isBuffer(o)?new BufferReader$3(o):create_array$1(o)})(r)}:create_array$1};Reader$3.create=create$6();Reader$3.prototype._slice=util$7.Array.prototype.subarray||util$7.Array.prototype.slice;Reader$3.prototype.uint32=function t(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange$1(this,10);return e}}();Reader$3.prototype.int32=function t(){return this.uint32()|0};Reader$3.prototype.sint32=function t(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint$1(){var t=new LongBits$2(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange$1(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange$1(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Reader$3.prototype.bool=function t(){return this.uint32()!==0};function readFixed32_end$1(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Reader$3.prototype.fixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange$1(this,4);return readFixed32_end$1(this.buf,this.pos+=4)};Reader$3.prototype.sfixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange$1(this,4);return readFixed32_end$1(this.buf,this.pos+=4)|0};function readFixed64$1(){if(this.pos+8>this.len)throw indexOutOfRange$1(this,8);return new LongBits$2(readFixed32_end$1(this.buf,this.pos+=4),readFixed32_end$1(this.buf,this.pos+=4))}Reader$3.prototype.float=function t(){if(this.pos+4>this.len)throw indexOutOfRange$1(this,4);var e=util$7.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$3.prototype.double=function t(){if(this.pos+8>this.len)throw indexOutOfRange$1(this,4);var e=util$7.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$3.prototype.bytes=function t(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw indexOutOfRange$1(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Reader$3.prototype.string=function t(){var e=this.bytes();return utf8$2.read(e,0,e.length)};Reader$3.prototype.skip=function t(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange$1(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange$1(this);while(this.buf[this.pos++]&128);return this};Reader$3.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Reader$3._configure=function(t){BufferReader$3=t,Reader$3.create=create$6(),BufferReader$3._configure();var e=util$7.Long?"toLong":"toNumber";util$7.merge(Reader$3.prototype,{int64:function(){return readLongVarint$1.call(this)[e](!1)},uint64:function(){return readLongVarint$1.call(this)[e](!0)},sint64:function(){return readLongVarint$1.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64$1.call(this)[e](!0)},sfixed64:function(){return readFixed64$1.call(this)[e](!1)}})};var reader_buffer$1=BufferReader$2,Reader$2=reader$1;(BufferReader$2.prototype=Object.create(Reader$2.prototype)).constructor=BufferReader$2;var util$6=requireMinimal$1();function BufferReader$2(t){Reader$2.call(this,t)}BufferReader$2._configure=function(){util$6.Buffer&&(BufferReader$2.prototype._slice=util$6.Buffer.prototype.slice)};BufferReader$2.prototype.string=function t(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader$2._configure();var rpc$1={},service$1=Service$1,util$5=requireMinimal$1();(Service$1.prototype=Object.create(util$5.EventEmitter.prototype)).constructor=Service$1;function Service$1(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");util$5.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}Service$1.prototype.rpcCall=function t(e,r,n,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return util$5.asPromise(t,a,e,r,n,o);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(c,h){if(c)return a.emit("error",c,e),s(c);if(h===null){a.end(!0);return}if(!(h instanceof n))try{h=n[a.responseDelimited?"decodeDelimited":"decode"](h)}catch(d){return a.emit("error",d,e),s(d)}return a.emit("data",h,e),s(null,h)})}catch(u){a.emit("error",u,e),setTimeout(function(){s(u)},0);return}};Service$1.prototype.end=function t(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(t){var e=t;e.Service=service$1})(rpc$1);var roots$1={};(function(t){var e=t;e.build="minimal",e.Writer=writer$1,e.BufferWriter=writer_buffer$1,e.Reader=reader$1,e.BufferReader=reader_buffer$1,e.util=requireMinimal$1(),e.rpc=rpc$1,e.roots=roots$1,e.configure=r;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}r()})(indexMinimal$1);var minimal$2=indexMinimal$1;const $protobuf$1=getDefaultExportFromCjs(minimal$2),$Reader$1=$protobuf$1.Reader,$Writer$1=$protobuf$1.Writer,$util$1=$protobuf$1.util,$root$1=$protobuf$1.roots["ipfs-unixfs"]||($protobuf$1.roots["ipfs-unixfs"]={}),Data=$root$1.Data=(()=>{function t(e){if(this.blocksizes=[],e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=$util$1.newBuffer([]),t.prototype.filesize=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,t.prototype.blocksizes=$util$1.emptyArray,t.prototype.hashType=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,t.prototype.fanout=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,t.prototype.mode=0,t.prototype.mtime=null,t.encode=function(r,n){if(n||(n=$Writer$1.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var o=0;o<r.blocksizes.length;++o)n.uint32(32).uint64(r.blocksizes[o]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&$root$1.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},t.decode=function(r,n){r instanceof $Reader$1||(r=$Reader$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root$1.Data;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;case 3:s.filesize=r.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(a&7)===2)for(var u=r.uint32()+r.pos;r.pos<u;)s.blocksizes.push(r.uint64());else s.blocksizes.push(r.uint64());break;case 5:s.hashType=r.uint64();break;case 6:s.fanout=r.uint64();break;case 7:s.mode=r.uint32();break;case 8:s.mtime=$root$1.UnixTime.decode(r,r.uint32());break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw $util$1.ProtocolError("missing required 'Type'",{instance:s});return s},t.fromObject=function(r){if(r instanceof $root$1.Data)return r;var n=new $root$1.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?$util$1.base64.decode(r.Data,n.Data=$util$1.newBuffer($util$1.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&($util$1.Long?(n.filesize=$util$1.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new $util$1.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)$util$1.Long?(n.blocksizes[o]=$util$1.Long.fromValue(r.blocksizes[o])).unsigned=!0:typeof r.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(r.blocksizes[o],10):typeof r.blocksizes[o]=="number"?n.blocksizes[o]=r.blocksizes[o]:typeof r.blocksizes[o]=="object"&&(n.blocksizes[o]=new $util$1.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0))}if(r.hashType!=null&&($util$1.Long?(n.hashType=$util$1.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new $util$1.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&($util$1.Long?(n.fanout=$util$1.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new $util$1.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root$1.UnixTime.fromObject(r.mtime)}return n},t.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=$util$1.newBuffer(o.Data))),$util$1.Long){var s=new $util$1.Long(0,0,!0);o.filesize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.filesize=n.longs===String?"0":0;if($util$1.Long){var s=new $util$1.Long(0,0,!0);o.hashType=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.hashType=n.longs===String?"0":0;if($util$1.Long){var s=new $util$1.Long(0,0,!0);o.fanout=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(o.Type=n.enums===String?$root$1.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(o.Data=n.bytes===String?$util$1.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?o.filesize=n.longs===String?String(r.filesize):r.filesize:o.filesize=n.longs===String?$util$1.Long.prototype.toString.call(r.filesize):n.longs===Number?new $util$1.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){o.blocksizes=[];for(var a=0;a<r.blocksizes.length;++a)typeof r.blocksizes[a]=="number"?o.blocksizes[a]=n.longs===String?String(r.blocksizes[a]):r.blocksizes[a]:o.blocksizes[a]=n.longs===String?$util$1.Long.prototype.toString.call(r.blocksizes[a]):n.longs===Number?new $util$1.LongBits(r.blocksizes[a].low>>>0,r.blocksizes[a].high>>>0).toNumber(!0):r.blocksizes[a]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?o.hashType=n.longs===String?String(r.hashType):r.hashType:o.hashType=n.longs===String?$util$1.Long.prototype.toString.call(r.hashType):n.longs===Number?new $util$1.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?o.fanout=n.longs===String?String(r.fanout):r.fanout:o.fanout=n.longs===String?$util$1.Long.prototype.toString.call(r.fanout):n.longs===Number?new $util$1.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(o.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(o.mtime=$root$1.UnixTime.toObject(r.mtime,n)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$1.util.toJSONOptions)},t.DataType=function(){const e={},r=Object.create(e);return r[e[0]="Raw"]=0,r[e[1]="Directory"]=1,r[e[2]="File"]=2,r[e[3]="Metadata"]=3,r[e[4]="Symlink"]=4,r[e[5]="HAMTShard"]=5,r}(),t})();$root$1.UnixTime=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Seconds=$util$1.Long?$util$1.Long.fromBits(0,0,!1):0,t.prototype.FractionalNanoseconds=0,t.encode=function(r,n){return n||(n=$Writer$1.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},t.decode=function(r,n){r instanceof $Reader$1||(r=$Reader$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root$1.UnixTime;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.Seconds=r.int64();break;case 2:s.FractionalNanoseconds=r.fixed32();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Seconds"))throw $util$1.ProtocolError("missing required 'Seconds'",{instance:s});return s},t.fromObject=function(r){if(r instanceof $root$1.UnixTime)return r;var n=new $root$1.UnixTime;return r.Seconds!=null&&($util$1.Long?(n.Seconds=$util$1.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new $util$1.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},t.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($util$1.Long){var s=new $util$1.Long(0,0,!1);o.Seconds=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?o.Seconds=n.longs===String?String(r.Seconds):r.Seconds:o.Seconds=n.longs===String?$util$1.Long.prototype.toString.call(r.Seconds):n.longs===Number?new $util$1.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=r.FractionalNanoseconds),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$1.util.toJSONOptions)},t})();$root$1.Metadata=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.MimeType="",t.encode=function(r,n){return n||(n=$Writer$1.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},t.decode=function(r,n){r instanceof $Reader$1||(r=$Reader$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root$1.Metadata;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.MimeType=r.string();break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof $root$1.Metadata)return r;var n=new $root$1.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},t.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(o.MimeType=r.MimeType),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf$1.util.toJSONOptions)},t})();const PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode$1(t){if(t!=null)return typeof t=="number"?t&4095:(t=t.toString(),t.substring(0,1)==="0"?parseInt(t,8)&4095:parseInt(t,10)&4095)}function parseMtime$1(t){if(t==null)return;let e;if(t.secs!=null&&(e={secs:t.secs,nsecs:t.nsecs}),t.Seconds!=null&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){const r=t.getTime(),n=Math.floor(r/1e3);e={secs:n,nsecs:(r-n*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}class UnixFS{static unmarshal(e){const r=PBData.decode(e),n=PBData.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),o=new UnixFS({type:types[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return o._originalMode=n.mode||0,o}constructor(e={type:"file"}){const{type:r,data:n,blockSizes:o,hashType:s,fanout:a,mtime:u,mode:c}=e;if(r&&!types.includes(r))throw errCode$1(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=n,this.hashType=s,this.fanout=a,this.blockSizes=o||[],this._originalMode=0,this.mode=parseMode$1(c),u&&(this.mtime=parseMtime$1(u),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;const r=parseMode$1(e);r!==void 0&&(this._mode=r)}get mode(){return this._mode}isDirectory(){return!!(this.type&&dirTypes.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(r=>{e+=r}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=PBData.DataType.Raw;break;case"directory":e=PBData.DataType.Directory;break;case"file":e=PBData.DataType.File;break;case"metadata":e=PBData.DataType.Metadata;break;case"symlink":e=PBData.DataType.Symlink;break;case"hamt-sharded-directory":e=PBData.DataType.HAMTShard;break;default:throw errCode$1(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let r=this.data;(!this.data||!this.data.length)&&(r=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(parseMode$1(this.mode)||0),n===DEFAULT_FILE_MODE&&!this.isDirectory()&&(n=void 0),n===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(n=void 0));let o;if(this.mtime!=null){const a=parseMtime$1(this.mtime);a&&(o={Seconds:a.secs,FractionalNanoseconds:a.nsecs},o.FractionalNanoseconds===0&&delete o.FractionalNanoseconds)}const s={Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:o};return PBData.encode(s).finish()}}function base$4(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src$6=base$4,_brrp__multiformats_scope_baseX$4=src$6;let Encoder$4=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$4=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$4(this,e)}},ComposedDecoder$4=class{constructor(e){this.decoders=e}or(e){return or$4(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$4=(t,e)=>new ComposedDecoder$4({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Codec$4=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder$4(e,r,n),this.decoder=new Decoder$4(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$6=({name:t,prefix:e,encode:r,decode:n})=>new Codec$4(t,e,r,n),baseX$4=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX$4(r,e);return from$6({prefix:t,name:e,encode:n,decode:s=>coerce$5(o(s))})},decode$h=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$e=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648$4=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$6({prefix:e,name:t,encode(o){return encode$e(o,n,r)},decode(o){return decode$h(o,n,r,t)}}),base58btc$3=baseX$4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$2=baseX$4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$2=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$3,base58flickr:base58flickr$2},Symbol.toStringTag,{value:"Module"})),base32$5=rfc4648$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$2=rfc4648$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$2=rfc4648$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$2=rfc4648$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$2=rfc4648$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$2=rfc4648$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$2=rfc4648$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$2=rfc4648$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$2=rfc4648$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$6=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$5,base32hex:base32hex$2,base32hexpad:base32hexpad$2,base32hexpadupper:base32hexpadupper$2,base32hexupper:base32hexupper$2,base32pad:base32pad$2,base32padupper:base32padupper$2,base32upper:base32upper$2,base32z:base32z$2},Symbol.toStringTag,{value:"Module"}));let CID$2=class H{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden$2,byteLength:hidden$2,code:readonly$3,version:readonly$3,multihash:readonly$3,bytes:readonly$3,_baseCache:hidden$2,asCID:hidden$2})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==DAG_PB_CODE$2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE$2)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return H.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=create$9(e,r);return H.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&equals$4(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0$2(r,o,e||base58btc$3.encoder);default:return toStringV1$2(r,o,e||base32$5.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return deprecate$2(/^0\.0/,IS_CID_DEPRECATION$2),!!(e&&(e[cidSymbol$2]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof H)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:o,bytes:s}=e;return new H(r,n,o,s||encodeCID$2(r,n,o.bytes))}else if(e!=null&&e[cidSymbol$2]===!0){const{version:r,multihash:n,code:o}=e,s=decode$k(n);return H.create(r,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==DAG_PB_CODE$2)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$2}) block encoding`);return new H(e,r,n,n.bytes)}case 1:{const o=encodeCID$2(e,r,n.bytes);return new H(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return H.create(0,DAG_PB_CODE$2,e)}static createV1(e,r){return H.create(1,e,r)}static decode(e){const[r,n]=H.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=H.inspectBytes(e),n=r.size-r.multihashSize,o=coerce$5(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),a=new Digest$3(r.multihashCode,r.digestSize,s,o);return[r.version===0?H.createV0(a):H.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[m,v]=decode$l(e.subarray(r));return r+=v,m};let o=n(),s=DAG_PB_CODE$2;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=r,u=n(),c=n(),h=r+c,d=h-a;return{version:o,codec:s,multihashCode:u,digestSize:c,multihashSize:d,size:h}}static parse(e,r){const[n,o]=parseCIDtoBytes$2(e,r),s=H.decode(o);return s._baseCache.set(n,e),s}};const parseCIDtoBytes$2=(t,e)=>{switch(t[0]){case"Q":{const r=e||base58btc$3;return[base58btc$3.prefix,r.decode(`${base58btc$3.prefix}${t}`)]}case base58btc$3.prefix:{const r=e||base58btc$3;return[base58btc$3.prefix,r.decode(t)]}case base32$5.prefix:{const r=e||base32$5;return[base32$5.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},toStringV0$2=(t,e,r)=>{const{prefix:n}=r;if(n!==base58btc$3.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const s=r.encode(t).slice(1);return e.set(n,s),s}else return o},toStringV1$2=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const s=r.encode(t);return e.set(n,s),s}else return o},DAG_PB_CODE$2=112,SHA_256_CODE$2=18,encodeCID$2=(t,e,r)=>{const n=encodingLength$3(t),o=n+encodingLength$3(e),s=new Uint8Array(o+r.byteLength);return encodeTo$3(t,s,0),encodeTo$3(e,s,n),s.set(r,o),s},cidSymbol$2=Symbol.for("@ipld/js-cid/CID"),readonly$3={writable:!1,configurable:!1,enumerable:!0},hidden$2={writable:!1,enumerable:!1,configurable:!1},version$2="0.0.0-dev",deprecate$2=(t,e)=>{if(t.test(version$2))console.warn(e);else throw new Error(e)},IS_CID_DEPRECATION$2=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,textDecoder$1=new TextDecoder;function decodeVarint(t,e){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");const o=t[e++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,e]}function decodeBytes(t,e){let r;[r,e]=decodeVarint(t,e);const n=e+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,n),n]}function decodeKey(t,e){let r;return[r,e]=decodeVarint(t,e),[r&7,r>>3,e]}function decodeLink(t){const e={},r=t.length;let n=0;for(;n<r;){let o,s;if([o,s,n]=decodeKey(t,n),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,n]=decodeBytes(t,n)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,n]=decodeBytes(t,n),e.Name=textDecoder$1.decode(a)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[e.Tsize,n]=decodeVarint(t,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function decodeNode(t){const e=t.length;let r=0,n,o=!1,s;for(;r<e;){let u,c;if([u,c,r]=decodeKey(t,r),u!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${u}`);if(c===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=decodeBytes(t,r),n&&(o=!0)}else if(c===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let h;[h,r]=decodeBytes(t,r),n.push(decodeLink(h))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");const a={};return s&&(a.Data=s),a.Links=n||[],a}const textEncoder$2=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=encodeVarint(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){const n=textEncoder$2.encode(t.Name);r-=n.length,e.set(n,r),r=encodeVarint(e,r,n.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=encodeVarint(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function encodeNode(t){const e=sizeNode(t),r=new Uint8Array(e);let n=e;if(t.Data&&(n-=t.Data.length,r.set(t.Data,n),n=encodeVarint(r,n,t.Data.length)-1,r[n]=10),t.Links)for(let o=t.Links.length-1;o>=0;o--){const s=encodeLink(t.Links[o],r.subarray(0,n));n-=s,n=encodeVarint(r,n,s)-1,r[n]=18}return r}function sizeLink(t){let e=0;if(t.Hash){const r=t.Hash.length;e+=1+r+sov(r)}if(typeof t.Name=="string"){const r=textEncoder$2.encode(t.Name).length;e+=1+r+sov(r)}return typeof t.Tsize=="number"&&(e+=1+sov(t.Tsize)),e}function sizeNode(t){let e=0;if(t.Data){const r=t.Data.length;e+=1+r+sov(r)}if(t.Links)for(const r of t.Links){const n=sizeLink(r);e+=1+n+sov(n)}return e}function encodeVarint(t,e,r){e-=sov(r);const n=e;for(;r>=maxUInt32;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,n}function sov(t){return t%2===0&&t++,Math.floor((len64(t)+6)/7)}function len64(t){let e=0;return t>=maxInt32&&(t=Math.floor(t/maxInt32),e=32),t>=65536&&(t>>>=16,e+=16),t>=256&&(t>>>=8,e+=8),e+len8tab[t]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder$1=new TextEncoder;function linkComparator(t,e){if(t===e)return 0;const r=t.Name?textEncoder$1.encode(t.Name):[],n=e.Name?textEncoder$1.encode(e.Name):[];let o=r.length,s=n.length;for(let a=0,u=Math.min(o,s);a<u;++a)if(r[a]!==n[a]){o=r[a],s=n[a];break}return o<s?-1:s<o?1:0}function hasOnlyProperties(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function asLink(t){if(typeof t.asCID=="object"){const r=CID$2.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Hash){let r=CID$2.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=CID$2.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=CID$2.decode(t.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function prepare(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=textEncoder$1.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(asLink),e.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function validate(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(t,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let e=0;e<t.Links.length;e++){const r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e>0&&linkComparator(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(t,e=[]){return prepare({Data:t,Links:e})}function createLink(t,e,r){return asLink({Hash:r,Name:t,Tsize:e})}const name$2="dag-pb",code$3=112;function encode$d(t){validate(t);const e={};return t.Links&&(e.Links=t.Links.map(r=>{const n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),t.Data&&(e.Data=t.Data),encodeNode(e)}function decode$g(t){const e=decodeNode(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(n=>{const o={};try{o.Hash=CID$2.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}const dagPb=Object.freeze(Object.defineProperty({__proto__:null,code:code$3,createLink,createNode,decode:decode$g,encode:encode$d,name:name$2,prepare,validate},Symbol.toStringTag,{value:"Module"})),persist=async(t,e,r)=>{r.codec||(r.codec=dagPb),r.hasher||(r.hasher=sha256$2),r.cidVersion===void 0&&(r.cidVersion=1),r.codec===dagPb&&r.hasher!==sha256$2&&(r.cidVersion=1);const n=await r.hasher.digest(t),o=CID$2.create(r.cidVersion,r.codec.code,n);return r.onlyHash||await e.put(o,t,{signal:r.signal}),o},dirBuilder=async(t,e,r)=>{const n=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),o=encode$d(prepare({Data:n.marshal()})),s=await persist(o,e,r),a=t.path;return{cid:s,path:a,unixfs:n,size:o.length}},name$1="raw",code$2=85,encode$c=t=>coerce$5(t),decode$f=t=>coerce$5(t),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$2,decode:decode$f,encode:encode$c,name:name$1},Symbol.toStringTag,{value:"Module"})),all$4=async t=>{const e=[];for await(const r of t)e.push(r);return e};var itAll$2=all$4;const all$5=getDefaultExportFromCjs(itAll$2);async function flat(t,e){return e(await all$5(t))}function balanced(t,e,r){return reduceToParents(t,e,r)}async function reduceToParents(t,e,r){const n=[];for await(const o of batch$2(t,r.maxChildrenPerNode))n.push(await e(o));return n.length>1?reduceToParents(n,e,r):n[0]}async function trickleStream(t,e,r){const n=new Root(r.layerRepeat);let o=0,s=1,a=n;for await(const u of batch$2(t,r.maxChildrenPerNode))a.isFull()&&(a!==n&&n.addChild(await a.reduce(e)),o&&o%r.layerRepeat===0&&s++,a=new SubTree(s,r.layerRepeat,o),o++),a.append(u);return a&&a!==n&&n.addChild(await a.reduce(e)),n.reduce(e)}class SubTree{constructor(e,r,n=0){this.maxDepth=e,this.layerRepeat=r,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return e?(this._addNextNodeToParent(e),!1):!0}_addNextNodeToParent(e){this.parent=e;const r={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(r),this.currentDepth=r.depth,this.node=r}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,r){let n=[];return e.children.length&&(n=await Promise.all(e.children.filter(o=>o.data).map(o=>this._reduce(o,r)))),r((e.data||[]).concat(n))}_findParent(e,r){const n=e.parent;if(!(!n||n.depth===0))return n.children.length===n.maxChildren||!n.maxChildren?this._findParent(n,r):n}}class Root extends SubTree{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}async function*bufferImporter(t,e,r){for await(let n of t.content)yield async()=>{r.progress(n.length,t.path);let o;const s={codec:dagPb,cidVersion:r.cidVersion,hasher:r.hasher,onlyHash:r.onlyHash};return r.rawLeaves?(s.codec=raw,s.cidVersion=1):(o=new UnixFS({type:r.leafType,data:n}),n=encode$d({Data:o.marshal(),Links:[]})),{cid:await persist(n,e,s),unixfs:o,size:n.length}}}const dagBuilders={flat,balanced,trickle:trickleStream};async function*buildFileBatch(t,e,r){let n=-1,o,s;typeof r.bufferImporter=="function"?s=r.bufferImporter:s=bufferImporter;for await(const a of parallelBatch$1(s(t,e,r),r.blockWriteConcurrency)){if(n++,n===0){o=a;continue}else n===1&&o&&(yield o,o=null);yield a}o&&(o.single=!0,yield o)}const reduce=(t,e,r)=>{async function n(o){if(o.length===1&&o[0].single&&r.reduceSingleLeafToSelf){const d=o[0];if(t.mtime!==void 0||t.mode!==void 0){let m=await e.get(d.cid);d.unixfs=new UnixFS({type:"file",mtime:t.mtime,mode:t.mode,data:m}),m=encode$d(prepare({Data:d.unixfs.marshal()})),d.cid=await persist(m,e,{...r,codec:dagPb,hasher:r.hasher,cidVersion:r.cidVersion}),d.size=m.length}return{cid:d.cid,path:t.path,unixfs:d.unixfs,size:d.size}}const s=new UnixFS({type:"file",mtime:t.mtime,mode:t.mode}),a=o.filter(d=>d.cid.code===code$2&&d.size||d.unixfs&&!d.unixfs.data&&d.unixfs.fileSize()?!0:!!(d.unixfs&&d.unixfs.data&&d.unixfs.data.length)).map(d=>d.cid.code===code$2?(s.addBlockSize(d.size),{Name:"",Tsize:d.size,Hash:d.cid}):(!d.unixfs||!d.unixfs.data?s.addBlockSize(d.unixfs&&d.unixfs.fileSize()||0):s.addBlockSize(d.unixfs.data.length),{Name:"",Tsize:d.size,Hash:d.cid})),u={Data:s.marshal(),Links:a},c=encode$d(prepare(u));return{cid:await persist(c,e,r),path:t.path,unixfs:s,size:c.length+u.Links.reduce((d,m)=>d+m.Tsize,0)}}return n};function fileBuilder(t,e,r){const n=dagBuilders[r.strategy];if(!n)throw errCode$1(new Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY");return n(buildFileBatch(t,e,r),reduce(t,e,r),r)}var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code$1.length;i<len;++i)lookup[i]=code$1[i],revLookup[code$1.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength(t,e,r){return(e+r)*3/4-r}function toByteArray(t){var e,r=getLens(t),n=r[0],o=r[1],s=new Arr(_byteLength(t,n,o)),a=0,u=o>0?n-4:n,c;for(c=0;c<u;c+=4)e=revLookup[t.charCodeAt(c)]<<18|revLookup[t.charCodeAt(c+1)]<<12|revLookup[t.charCodeAt(c+2)]<<6|revLookup[t.charCodeAt(c+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(c)]<<2|revLookup[t.charCodeAt(c+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup[t.charCodeAt(c)]<<10|revLookup[t.charCodeAt(c+1)]<<4|revLookup[t.charCodeAt(c+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(t){for(var e,r=t.length,n=r%3,o=[],s=16383,a=0,u=r-n;a<u;a+=s)o.push(encodeChunk(t,a,a+s>u?u:a+s));return n===1?(e=t[r-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(t,e,r,n,o){var s,a,u=o*8-n-1,c=(1<<u)-1,h=c>>1,d=-7,m=r?o-1:0,v=r?-1:1,B=t[e+m];for(m+=v,s=B&(1<<-d)-1,B>>=-d,d+=u;d>0;s=s*256+t[e+m],m+=v,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=n;d>0;a=a*256+t[e+m],m+=v,d-=8);if(s===0)s=1-h;else{if(s===c)return a?NaN:(B?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-h}return(B?-1:1)*a*Math.pow(2,s-n)};ieee754.write=function(t,e,r,n,o,s){var a,u,c,h=s*8-o-1,d=(1<<h)-1,m=d>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=n?0:s-1,$=n?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+m>=1?e+=v/c:e+=v*Math.pow(2,1-m),e*c>=2&&(a++,c/=2),a+m>=d?(u=0,a=d):a+m>=1?(u=(e*c-1)*Math.pow(2,o),a=a+m):(u=e*Math.pow(2,m-1)*Math.pow(2,o),a=0));o>=8;t[r+B]=u&255,B+=$,u/=256,o-=8);for(a=a<<o|u,h+=o;h>0;t[r+B]=a&255,B+=$,a/=256,h-=8);t[r+B-$]|=p*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const y=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(y,f),y.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function a(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');const f=new Uint8Array(y);return Object.setPrototypeOf(f,u.prototype),f}function u(y,f,l){if(typeof y=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(y)}return c(y,f,l)}u.poolSize=8192;function c(y,f,l){if(typeof y=="string")return v(y,f);if(ArrayBuffer.isView(y))return $(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(Y(y,ArrayBuffer)||y&&Y(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(y,SharedArrayBuffer)||y&&Y(y.buffer,SharedArrayBuffer)))return p(y,f,l);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=y.valueOf&&y.valueOf();if(g!=null&&g!==y)return u.from(g,f,l);const x=b(y);if(x)return x;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return u.from(y[Symbol.toPrimitive]("string"),f,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}u.from=function(y,f,l){return c(y,f,l)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function h(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function d(y,f,l){return h(y),y<=0?a(y):f!==void 0?typeof l=="string"?a(y).fill(f,l):a(y).fill(f):a(y)}u.alloc=function(y,f,l){return d(y,f,l)};function m(y){return h(y),a(y<0?0:w(y)|0)}u.allocUnsafe=function(y){return m(y)},u.allocUnsafeSlow=function(y){return m(y)};function v(y,f){if((typeof f!="string"||f==="")&&(f="utf8"),!u.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const l=T(y,f)|0;let g=a(l);const x=g.write(y,f);return x!==l&&(g=g.slice(0,x)),g}function B(y){const f=y.length<0?0:w(y.length)|0,l=a(f);for(let g=0;g<f;g+=1)l[g]=y[g]&255;return l}function $(y){if(Y(y,Uint8Array)){const f=new Uint8Array(y);return p(f.buffer,f.byteOffset,f.byteLength)}return B(y)}function p(y,f,l){if(f<0||y.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<f+(l||0))throw new RangeError('"length" is outside of buffer bounds');let g;return f===void 0&&l===void 0?g=new Uint8Array(y):l===void 0?g=new Uint8Array(y,f):g=new Uint8Array(y,f,l),Object.setPrototypeOf(g,u.prototype),g}function b(y){if(u.isBuffer(y)){const f=w(y.length)|0,l=a(f);return l.length===0||y.copy(l,0,0,f),l}if(y.length!==void 0)return typeof y.length!="number"||ae(y.length)?a(0):B(y);if(y.type==="Buffer"&&Array.isArray(y.data))return B(y.data)}function w(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function A(y){return+y!=y&&(y=0),u.alloc(+y)}u.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==u.prototype},u.compare=function(f,l){if(Y(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),Y(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(f)||!u.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===l)return 0;let g=f.length,x=l.length;for(let k=0,R=Math.min(g,x);k<R;++k)if(f[k]!==l[k]){g=f[k],x=l[k];break}return g<x?-1:x<g?1:0},u.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(f,l){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return u.alloc(0);let g;if(l===void 0)for(l=0,g=0;g<f.length;++g)l+=f[g].length;const x=u.allocUnsafe(l);let k=0;for(g=0;g<f.length;++g){let R=f[g];if(Y(R,Uint8Array))k+R.length>x.length?(u.isBuffer(R)||(R=u.from(R)),R.copy(x,k)):Uint8Array.prototype.set.call(x,R,k);else if(u.isBuffer(R))R.copy(x,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=R.length}return x};function T(y,f){if(u.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||Y(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const l=y.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&l===0)return 0;let x=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return se(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return ye(y).length;default:if(x)return g?-1:se(y).length;f=(""+f).toLowerCase(),x=!0}}u.byteLength=T;function E(y,f,l){let g=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,f>>>=0,l<=f))return"";for(y||(y="utf8");;)switch(y){case"hex":return De(this,f,l);case"utf8":case"utf-8":return J(this,f,l);case"ascii":return be(this,f,l);case"latin1":case"binary":return we(this,f,l);case"base64":return Z(this,f,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,f,l);default:if(g)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),g=!0}}u.prototype._isBuffer=!0;function D(y,f,l){const g=y[f];y[f]=y[l],y[l]=g}u.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<f;l+=2)D(this,l,l+1);return this},u.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<f;l+=4)D(this,l,l+3),D(this,l+1,l+2);return this},u.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<f;l+=8)D(this,l,l+7),D(this,l+1,l+6),D(this,l+2,l+5),D(this,l+3,l+4);return this},u.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?J(this,0,f):E.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(f){if(!u.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:u.compare(this,f)===0},u.prototype.inspect=function(){let f="";const l=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(f+=" ... "),"<Buffer "+f+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(f,l,g,x,k){if(Y(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),!u.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(l===void 0&&(l=0),g===void 0&&(g=f?f.length:0),x===void 0&&(x=0),k===void 0&&(k=this.length),l<0||g>f.length||x<0||k>this.length)throw new RangeError("out of range index");if(x>=k&&l>=g)return 0;if(x>=k)return-1;if(l>=g)return 1;if(l>>>=0,g>>>=0,x>>>=0,k>>>=0,this===f)return 0;let R=k-x,O=g-l;const F=Math.min(R,O),P=this.slice(x,k),M=f.slice(l,g);for(let U=0;U<F;++U)if(P[U]!==M[U]){R=P[U],O=M[U];break}return R<O?-1:O<R?1:0};function S(y,f,l,g,x){if(y.length===0)return-1;if(typeof l=="string"?(g=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,ae(l)&&(l=x?0:y.length-1),l<0&&(l=y.length+l),l>=y.length){if(x)return-1;l=y.length-1}else if(l<0)if(x)l=0;else return-1;if(typeof f=="string"&&(f=u.from(f,g)),u.isBuffer(f))return f.length===0?-1:_(y,f,l,g,x);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(y,f,l):Uint8Array.prototype.lastIndexOf.call(y,f,l):_(y,[f],l,g,x);throw new TypeError("val must be string, number or Buffer")}function _(y,f,l,g,x){let k=1,R=y.length,O=f.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(y.length<2||f.length<2)return-1;k=2,R/=2,O/=2,l/=2}function F(M,U){return k===1?M[U]:M.readUInt16BE(U*k)}let P;if(x){let M=-1;for(P=l;P<R;P++)if(F(y,P)===F(f,M===-1?0:P-M)){if(M===-1&&(M=P),P-M+1===O)return M*k}else M!==-1&&(P-=P-M),M=-1}else for(l+O>R&&(l=R-O),P=l;P>=0;P--){let M=!0;for(let U=0;U<O;U++)if(F(y,P+U)!==F(f,U)){M=!1;break}if(M)return P}return-1}u.prototype.includes=function(f,l,g){return this.indexOf(f,l,g)!==-1},u.prototype.indexOf=function(f,l,g){return S(this,f,l,g,!0)},u.prototype.lastIndexOf=function(f,l,g){return S(this,f,l,g,!1)};function C(y,f,l,g){l=Number(l)||0;const x=y.length-l;g?(g=Number(g),g>x&&(g=x)):g=x;const k=f.length;g>k/2&&(g=k/2);let R;for(R=0;R<g;++R){const O=parseInt(f.substr(R*2,2),16);if(ae(O))return R;y[l+R]=O}return R}function I(y,f,l,g){return ie(se(f,y.length-l),y,l,g)}function N(y,f,l,g){return ie(_e(f),y,l,g)}function z(y,f,l,g){return ie(ye(f),y,l,g)}function X(y,f,l,g){return ie(Se(f,y.length-l),y,l,g)}u.prototype.write=function(f,l,g,x){if(l===void 0)x="utf8",g=this.length,l=0;else if(g===void 0&&typeof l=="string")x=l,g=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(g)?(g=g>>>0,x===void 0&&(x="utf8")):(x=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const k=this.length-l;if((g===void 0||g>k)&&(g=k),f.length>0&&(g<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");let R=!1;for(;;)switch(x){case"hex":return C(this,f,l,g);case"utf8":case"utf-8":return I(this,f,l,g);case"ascii":case"latin1":case"binary":return N(this,f,l,g);case"base64":return z(this,f,l,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,f,l,g);default:if(R)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),R=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(y,f,l){return f===0&&l===y.length?e.fromByteArray(y):e.fromByteArray(y.slice(f,l))}function J(y,f,l){l=Math.min(y.length,l);const g=[];let x=f;for(;x<l;){const k=y[x];let R=null,O=k>239?4:k>223?3:k>191?2:1;if(x+O<=l){let F,P,M,U;switch(O){case 1:k<128&&(R=k);break;case 2:F=y[x+1],(F&192)===128&&(U=(k&31)<<6|F&63,U>127&&(R=U));break;case 3:F=y[x+1],P=y[x+2],(F&192)===128&&(P&192)===128&&(U=(k&15)<<12|(F&63)<<6|P&63,U>2047&&(U<55296||U>57343)&&(R=U));break;case 4:F=y[x+1],P=y[x+2],M=y[x+3],(F&192)===128&&(P&192)===128&&(M&192)===128&&(U=(k&15)<<18|(F&63)<<12|(P&63)<<6|M&63,U>65535&&U<1114112&&(R=U))}}R===null?(R=65533,O=1):R>65535&&(R-=65536,g.push(R>>>10&1023|55296),R=56320|R&1023),g.push(R),x+=O}return me(g)}const j=4096;function me(y){const f=y.length;if(f<=j)return String.fromCharCode.apply(String,y);let l="",g=0;for(;g<f;)l+=String.fromCharCode.apply(String,y.slice(g,g+=j));return l}function be(y,f,l){let g="";l=Math.min(y.length,l);for(let x=f;x<l;++x)g+=String.fromCharCode(y[x]&127);return g}function we(y,f,l){let g="";l=Math.min(y.length,l);for(let x=f;x<l;++x)g+=String.fromCharCode(y[x]);return g}function De(y,f,l){const g=y.length;(!f||f<0)&&(f=0),(!l||l<0||l>g)&&(l=g);let x="";for(let k=f;k<l;++k)x+=Ae[y[k]];return x}function Ee(y,f,l){const g=y.slice(f,l);let x="";for(let k=0;k<g.length-1;k+=2)x+=String.fromCharCode(g[k]+g[k+1]*256);return x}u.prototype.slice=function(f,l){const g=this.length;f=~~f,l=l===void 0?g:~~l,f<0?(f+=g,f<0&&(f=0)):f>g&&(f=g),l<0?(l+=g,l<0&&(l=0)):l>g&&(l=g),l<f&&(l=f);const x=this.subarray(f,l);return Object.setPrototypeOf(x,u.prototype),x};function L(y,f,l){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+f>l)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(f,l,g){f=f>>>0,l=l>>>0,g||L(f,l,this.length);let x=this[f],k=1,R=0;for(;++R<l&&(k*=256);)x+=this[f+R]*k;return x},u.prototype.readUintBE=u.prototype.readUIntBE=function(f,l,g){f=f>>>0,l=l>>>0,g||L(f,l,this.length);let x=this[f+--l],k=1;for(;l>0&&(k*=256);)x+=this[f+--l]*k;return x},u.prototype.readUint8=u.prototype.readUInt8=function(f,l){return f=f>>>0,l||L(f,1,this.length),this[f]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(f,l){return f=f>>>0,l||L(f,2,this.length),this[f]|this[f+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(f,l){return f=f>>>0,l||L(f,2,this.length),this[f]<<8|this[f+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(f,l){return f=f>>>0,l||L(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(f,l){return f=f>>>0,l||L(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},u.prototype.readBigUInt64LE=Q(function(f){f=f>>>0,re(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&ne(f,this.length-8);const x=l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,k=this[++f]+this[++f]*2**8+this[++f]*2**16+g*2**24;return BigInt(x)+(BigInt(k)<<BigInt(32))}),u.prototype.readBigUInt64BE=Q(function(f){f=f>>>0,re(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&ne(f,this.length-8);const x=l*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],k=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g;return(BigInt(x)<<BigInt(32))+BigInt(k)}),u.prototype.readIntLE=function(f,l,g){f=f>>>0,l=l>>>0,g||L(f,l,this.length);let x=this[f],k=1,R=0;for(;++R<l&&(k*=256);)x+=this[f+R]*k;return k*=128,x>=k&&(x-=Math.pow(2,8*l)),x},u.prototype.readIntBE=function(f,l,g){f=f>>>0,l=l>>>0,g||L(f,l,this.length);let x=l,k=1,R=this[f+--x];for(;x>0&&(k*=256);)R+=this[f+--x]*k;return k*=128,R>=k&&(R-=Math.pow(2,8*l)),R},u.prototype.readInt8=function(f,l){return f=f>>>0,l||L(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},u.prototype.readInt16LE=function(f,l){f=f>>>0,l||L(f,2,this.length);const g=this[f]|this[f+1]<<8;return g&32768?g|4294901760:g},u.prototype.readInt16BE=function(f,l){f=f>>>0,l||L(f,2,this.length);const g=this[f+1]|this[f]<<8;return g&32768?g|4294901760:g},u.prototype.readInt32LE=function(f,l){return f=f>>>0,l||L(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},u.prototype.readInt32BE=function(f,l){return f=f>>>0,l||L(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},u.prototype.readBigInt64LE=Q(function(f){f=f>>>0,re(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&ne(f,this.length-8);const x=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(g<<24);return(BigInt(x)<<BigInt(32))+BigInt(l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),u.prototype.readBigInt64BE=Q(function(f){f=f>>>0,re(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&ne(f,this.length-8);const x=(l<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(x)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g)}),u.prototype.readFloatLE=function(f,l){return f=f>>>0,l||L(f,4,this.length),r.read(this,f,!0,23,4)},u.prototype.readFloatBE=function(f,l){return f=f>>>0,l||L(f,4,this.length),r.read(this,f,!1,23,4)},u.prototype.readDoubleLE=function(f,l){return f=f>>>0,l||L(f,8,this.length),r.read(this,f,!0,52,8)},u.prototype.readDoubleBE=function(f,l){return f=f>>>0,l||L(f,8,this.length),r.read(this,f,!1,52,8)};function K(y,f,l,g,x,k){if(!u.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>x||f<k)throw new RangeError('"value" argument is out of bounds');if(l+g>y.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(f,l,g,x){if(f=+f,l=l>>>0,g=g>>>0,!x){const O=Math.pow(2,8*g)-1;K(this,f,l,g,O,0)}let k=1,R=0;for(this[l]=f&255;++R<g&&(k*=256);)this[l+R]=f/k&255;return l+g},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(f,l,g,x){if(f=+f,l=l>>>0,g=g>>>0,!x){const O=Math.pow(2,8*g)-1;K(this,f,l,g,O,0)}let k=g-1,R=1;for(this[l+k]=f&255;--k>=0&&(R*=256);)this[l+k]=f/R&255;return l+g},u.prototype.writeUint8=u.prototype.writeUInt8=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,1,255,0),this[l]=f&255,l+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,2,65535,0),this[l]=f&255,this[l+1]=f>>>8,l+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,2,65535,0),this[l]=f>>>8,this[l+1]=f&255,l+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,4,4294967295,0),this[l+3]=f>>>24,this[l+2]=f>>>16,this[l+1]=f>>>8,this[l]=f&255,l+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,4,4294967295,0),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4};function ue(y,f,l,g,x){pe(f,g,x,y,l,7);let k=Number(f&BigInt(4294967295));y[l++]=k,k=k>>8,y[l++]=k,k=k>>8,y[l++]=k,k=k>>8,y[l++]=k;let R=Number(f>>BigInt(32)&BigInt(4294967295));return y[l++]=R,R=R>>8,y[l++]=R,R=R>>8,y[l++]=R,R=R>>8,y[l++]=R,l}function ce(y,f,l,g,x){pe(f,g,x,y,l,7);let k=Number(f&BigInt(4294967295));y[l+7]=k,k=k>>8,y[l+6]=k,k=k>>8,y[l+5]=k,k=k>>8,y[l+4]=k;let R=Number(f>>BigInt(32)&BigInt(4294967295));return y[l+3]=R,R=R>>8,y[l+2]=R,R=R>>8,y[l+1]=R,R=R>>8,y[l]=R,l+8}u.prototype.writeBigUInt64LE=Q(function(f,l=0){return ue(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Q(function(f,l=0){return ce(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(f,l,g,x){if(f=+f,l=l>>>0,!x){const F=Math.pow(2,8*g-1);K(this,f,l,g,F-1,-F)}let k=0,R=1,O=0;for(this[l]=f&255;++k<g&&(R*=256);)f<0&&O===0&&this[l+k-1]!==0&&(O=1),this[l+k]=(f/R>>0)-O&255;return l+g},u.prototype.writeIntBE=function(f,l,g,x){if(f=+f,l=l>>>0,!x){const F=Math.pow(2,8*g-1);K(this,f,l,g,F-1,-F)}let k=g-1,R=1,O=0;for(this[l+k]=f&255;--k>=0&&(R*=256);)f<0&&O===0&&this[l+k+1]!==0&&(O=1),this[l+k]=(f/R>>0)-O&255;return l+g},u.prototype.writeInt8=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,1,127,-128),f<0&&(f=255+f+1),this[l]=f&255,l+1},u.prototype.writeInt16LE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,2,32767,-32768),this[l]=f&255,this[l+1]=f>>>8,l+2},u.prototype.writeInt16BE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,2,32767,-32768),this[l]=f>>>8,this[l+1]=f&255,l+2},u.prototype.writeInt32LE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,4,2147483647,-2147483648),this[l]=f&255,this[l+1]=f>>>8,this[l+2]=f>>>16,this[l+3]=f>>>24,l+4},u.prototype.writeInt32BE=function(f,l,g){return f=+f,l=l>>>0,g||K(this,f,l,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4},u.prototype.writeBigInt64LE=Q(function(f,l=0){return ue(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Q(function(f,l=0){return ce(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(y,f,l,g,x,k){if(l+g>y.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function le(y,f,l,g,x){return f=+f,l=l>>>0,x||fe(y,f,l,4),r.write(y,f,l,g,23,4),l+4}u.prototype.writeFloatLE=function(f,l,g){return le(this,f,l,!0,g)},u.prototype.writeFloatBE=function(f,l,g){return le(this,f,l,!1,g)};function de(y,f,l,g,x){return f=+f,l=l>>>0,x||fe(y,f,l,8),r.write(y,f,l,g,52,8),l+8}u.prototype.writeDoubleLE=function(f,l,g){return de(this,f,l,!0,g)},u.prototype.writeDoubleBE=function(f,l,g){return de(this,f,l,!1,g)},u.prototype.copy=function(f,l,g,x){if(!u.isBuffer(f))throw new TypeError("argument should be a Buffer");if(g||(g=0),!x&&x!==0&&(x=this.length),l>=f.length&&(l=f.length),l||(l=0),x>0&&x<g&&(x=g),x===g||f.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),f.length-l<x-g&&(x=f.length-l+g);const k=x-g;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,g,x):Uint8Array.prototype.set.call(f,this.subarray(g,x),l),k},u.prototype.fill=function(f,l,g,x){if(typeof f=="string"){if(typeof l=="string"?(x=l,l=0,g=this.length):typeof g=="string"&&(x=g,g=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!u.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(f.length===1){const R=f.charCodeAt(0);(x==="utf8"&&R<128||x==="latin1")&&(f=R)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(l<0||this.length<l||this.length<g)throw new RangeError("Out of range index");if(g<=l)return this;l=l>>>0,g=g===void 0?this.length:g>>>0,f||(f=0);let k;if(typeof f=="number")for(k=l;k<g;++k)this[k]=f;else{const R=u.isBuffer(f)?f:u.from(f,x),O=R.length;if(O===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(k=0;k<g-l;++k)this[k+l]=R[k%O]}return this};const te={};function oe(y,f,l){te[y]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(y,f){return`The "${y}" argument must be of type number. Received type ${typeof f}`},TypeError),oe("ERR_OUT_OF_RANGE",function(y,f,l){let g=`The value of "${y}" is out of range.`,x=l;return Number.isInteger(l)&&Math.abs(l)>2**32?x=he(String(l)):typeof l=="bigint"&&(x=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(x=he(x)),x+="n"),g+=` It must be ${f}. Received ${x}`,g},RangeError);function he(y){let f="",l=y.length;const g=y[0]==="-"?1:0;for(;l>=g+4;l-=3)f=`_${y.slice(l-3,l)}${f}`;return`${y.slice(0,l)}${f}`}function ve(y,f,l){re(f,"offset"),(y[f]===void 0||y[f+l]===void 0)&&ne(f,y.length-(l+1))}function pe(y,f,l,g,x,k){if(y>l||y<f){const R=typeof f=="bigint"?"n":"";let O;throw k>3?f===0||f===BigInt(0)?O=`>= 0${R} and < 2${R} ** ${(k+1)*8}${R}`:O=`>= -(2${R} ** ${(k+1)*8-1}${R}) and < 2 ** ${(k+1)*8-1}${R}`:O=`>= ${f}${R} and <= ${l}${R}`,new te.ERR_OUT_OF_RANGE("value",O,y)}ve(g,x,k)}function re(y,f){if(typeof y!="number")throw new te.ERR_INVALID_ARG_TYPE(f,"number",y)}function ne(y,f,l){throw Math.floor(y)!==y?(re(y,l),new te.ERR_OUT_OF_RANGE(l||"offset","an integer",y)):f<0?new te.ERR_BUFFER_OUT_OF_BOUNDS:new te.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${f}`,y)}const Te=/[^+/0-9A-Za-z-_]/g;function xe(y){if(y=y.split("=")[0],y=y.trim().replace(Te,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function se(y,f){f=f||1/0;let l;const g=y.length;let x=null;const k=[];for(let R=0;R<g;++R){if(l=y.charCodeAt(R),l>55295&&l<57344){if(!x){if(l>56319){(f-=3)>-1&&k.push(239,191,189);continue}else if(R+1===g){(f-=3)>-1&&k.push(239,191,189);continue}x=l;continue}if(l<56320){(f-=3)>-1&&k.push(239,191,189),x=l;continue}l=(x-55296<<10|l-56320)+65536}else x&&(f-=3)>-1&&k.push(239,191,189);if(x=null,l<128){if((f-=1)<0)break;k.push(l)}else if(l<2048){if((f-=2)<0)break;k.push(l>>6|192,l&63|128)}else if(l<65536){if((f-=3)<0)break;k.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((f-=4)<0)break;k.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return k}function _e(y){const f=[];for(let l=0;l<y.length;++l)f.push(y.charCodeAt(l)&255);return f}function Se(y,f){let l,g,x;const k=[];for(let R=0;R<y.length&&!((f-=2)<0);++R)l=y.charCodeAt(R),g=l>>8,x=l%256,k.push(x),k.push(g);return k}function ye(y){return e.toByteArray(xe(y))}function ie(y,f,l,g){let x;for(x=0;x<g&&!(x+l>=f.length||x>=y.length);++x)f[x+l]=y[x];return x}function Y(y,f){return y instanceof f||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===f.name}function ae(y){return y!==y}const Ae=function(){const y="0123456789abcdef",f=new Array(256);for(let l=0;l<16;++l){const g=l*16;for(let x=0;x<16;++x)f[g+x]=y[l]+y[x]}return f}();function Q(y){return typeof BigInt>"u"?Ce:y}function Ce(){throw new Error("BigInt not supported")}})(buffer$1);const{Buffer}=buffer$1,symbol=Symbol.for("BufferList");function BufferList(t){if(!(this instanceof BufferList))return new BufferList(t);BufferList._init.call(this,t)}BufferList._init=function t(e){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};BufferList.prototype._new=function t(e){return new BufferList(e)};BufferList.prototype._offset=function t(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){const o=r+this._bufs[n].length;if(e<o||n===this._bufs.length-1)return[n,e-r];r=o}};BufferList.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};BufferList.prototype.get=function t(e){if(e>this.length||e<0)return;const r=this._offset(e);return this._bufs[r[0]][r[1]]};BufferList.prototype.slice=function t(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};BufferList.prototype.copy=function t(e,r,n,o){if((typeof n!="number"||n<0)&&(n=0),(typeof o!="number"||o>this.length)&&(o=this.length),n>=this.length||o<=0)return e||Buffer.alloc(0);const s=!!e,a=this._offset(n),u=o-n;let c=u,h=s&&r||0,d=a[1];if(n===0&&o===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(let m=0;m<this._bufs.length;m++)this._bufs[m].copy(e,h),h+=this._bufs[m].length;return e}if(c<=this._bufs[a[0]].length-d)return s?this._bufs[a[0]].copy(e,r,d,d+c):this._bufs[a[0]].slice(d,d+c);s||(e=Buffer.allocUnsafe(u));for(let m=a[0];m<this._bufs.length;m++){const v=this._bufs[m].length-d;if(c>v)this._bufs[m].copy(e,h,d),h+=v;else{this._bufs[m].copy(e,h,d,d+c),h+=v;break}c-=v,d&&(d=0)}return e.length>h?e.slice(0,h):e};BufferList.prototype.shallowSlice=function t(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();const n=this._offset(e),o=this._offset(r),s=this._bufs.slice(n[0],o[0]+1);return o[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,o[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};BufferList.prototype.toString=function t(e,r,n){return this.slice(r,n).toString(e)};BufferList.prototype.consume=function t(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};BufferList.prototype.duplicate=function t(){const e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};BufferList.prototype.append=function t(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Buffer.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Buffer.from(e));return this};BufferList.prototype._appendBuffer=function t(e){this._bufs.push(e),this.length+=e.length};BufferList.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Buffer.from([t]):typeof t=="string"?t=Buffer.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.isBuffer(t)||(t=Buffer.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;const n=this._offset(e);let o=n[0],s=n[1];for(;o<this._bufs.length;o++){const a=this._bufs[o];for(;s<a.length;)if(a.length-s>=t.length){const c=a.indexOf(t,s);if(c!==-1)return this._reverseOffset([o,c]);s=a.length-t.length+1}else{const c=this._reverseOffset([o,s]);if(this._match(c,t))return c;s++}s=0}return-1};BufferList.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)(function(r){t[r]===null?BufferList.prototype[r]=function(n,o){return this.slice(n,n+o)[r](0,o)}:BufferList.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();BufferList.prototype._isBufferList=function t(e){return e instanceof BufferList||BufferList.isBufferList(e)};BufferList.isBufferList=function t(e){return e!=null&&e[symbol]};var BufferList_1=BufferList;const BufferList$1=getDefaultExportFromCjs(BufferList_1);let Rabin$1=class{constructor(e,r=12,n=8*1024,o=32*1024,s=64,a){this.bits=r,this.min=n,this.max=o,this.asModule=e,this.rabin=new e.Rabin(r,n,o,s,a),this.polynomial=a}fingerprint(e){const{__retain:r,__release:n,__allocArray:o,__getInt32Array:s,Int32Array_ID:a,Uint8Array_ID:u}=this.asModule,c=new Int32Array(Math.ceil(e.length/this.min)),h=r(o(a,c)),d=r(o(u,e)),m=this.rabin.fingerprint(d,h),v=s(m);n(d),n(h);const B=v.indexOf(0);return B>=0?v.subarray(0,B):v}};var rabin$1=Rabin$1,loader={};const ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1,ARRAY=2,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1024,VAL_FLOAT=2048,VAL_MANAGED=8192,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT=typeof BigUint64Array<"u",THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl(t,e){const r=new Uint32Array(t),n=new Uint16Array(t);var o=r[e+SIZE_OFFSET>>>2]>>>1,s=e>>>1;if(o<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(s,s+o));const a=[];do{const u=n[s+CHUNKSIZE-1],c=u>=55296&&u<56320?CHUNKSIZE-1:CHUNKSIZE;a.push(String.fromCharCode.apply(String,n.subarray(s,s+=c))),o-=c}while(o>CHUNKSIZE);return a.join("")+String.fromCharCode.apply(String,n.subarray(s,s+o))}function preInstantiate(t){const e={};function r(o,s){return o?getStringImpl(o.buffer,s):"<yet unknown>"}const n=t.env=t.env||{};return n.abort=n.abort||function(s,a,u,c){const h=e.memory||n.memory;throw Error("abort: "+r(h,s)+" at "+r(h,a)+":"+u+":"+c)},n.trace=n.trace||function(s,a){const u=e.memory||n.memory;console.log("trace: "+r(u,s)+(a?" ":"")+Array.prototype.slice.call(arguments,2,2+a).join(", "))},t.Math=t.Math||Math,t.Date=t.Date||Date,e}function postInstantiate(t,e){const r=e.exports,n=r.memory,o=r.table,s=r.__alloc,a=r.__retain,u=r.__rtti_base||-1;function c(D){const S=new Uint32Array(n.buffer),_=S[u>>>2];if((D>>>=0)>=_)throw Error("invalid id: "+D);return S[(u+4>>>2)+D*2]}function h(D){const S=new Uint32Array(n.buffer),_=S[u>>>2];if((D>>>=0)>=_)throw Error("invalid id: "+D);return S[(u+4>>>2)+D*2+1]}function d(D){return 31-Math.clz32(D>>>VAL_ALIGN_OFFSET&31)}function m(D){const S=D.length,_=s(S<<1,STRING_ID),C=new Uint16Array(n.buffer);for(var I=0,N=_>>>1;I<S;++I)C[N+I]=D.charCodeAt(I);return _}t.__allocString=m;function v(D){const S=n.buffer;if(new Uint32Array(S)[D+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+D);return getStringImpl(S,D)}t.__getString=v;function B(D,S,_){const C=n.buffer;if(_)switch(D){case 2:return new Float32Array(C);case 3:return new Float64Array(C)}else switch(D){case 0:return new(S?Int8Array:Uint8Array)(C);case 1:return new(S?Int16Array:Uint16Array)(C);case 2:return new(S?Int32Array:Uint32Array)(C);case 3:return new(S?BigInt64Array:BigUint64Array)(C)}throw Error("unsupported align: "+D)}function $(D,S){const _=c(D);if(!(_&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+D+" @ "+_);const C=d(_),I=S.length,N=s(I<<C,ARRAYBUFFER_ID),z=s(_&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,D),X=new Uint32Array(n.buffer);X[z+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=a(N),X[z+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=N,X[z+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=I<<C,_&ARRAY&&(X[z+ARRAY_LENGTH_OFFSET>>>2]=I);const Z=B(C,_&VAL_SIGNED,_&VAL_FLOAT);if(_&VAL_MANAGED)for(let J=0;J<I;++J)Z[(N>>>C)+J]=a(S[J]);else Z.set(S,N>>>C);return z}t.__allocArray=$;function p(D){const S=new Uint32Array(n.buffer),_=S[D+ID_OFFSET>>>2],C=c(_);if(!(C&ARRAYBUFFERVIEW))throw Error("not an array: "+_);const I=d(C);var N=S[D+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];const z=C&ARRAY?S[D+ARRAY_LENGTH_OFFSET>>>2]:S[N+SIZE_OFFSET>>>2]>>>I;return B(I,C&VAL_SIGNED,C&VAL_FLOAT).subarray(N>>>=I,N+z)}t.__getArrayView=p;function b(D){const S=p(D),_=S.length,C=new Array(_);for(let I=0;I<_;I++)C[I]=S[I];return C}t.__getArray=b;function w(D){const S=n.buffer,_=new Uint32Array(S)[D+SIZE_OFFSET>>>2];return S.slice(D,D+_)}t.__getArrayBuffer=w;function A(D,S,_){return new D(T(D,S,_))}function T(D,S,_){const C=n.buffer,I=new Uint32Array(C),N=I[_+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new D(C,N,I[N+SIZE_OFFSET>>>2]>>>S)}t.__getInt8Array=A.bind(null,Int8Array,0),t.__getInt8ArrayView=T.bind(null,Int8Array,0),t.__getUint8Array=A.bind(null,Uint8Array,0),t.__getUint8ArrayView=T.bind(null,Uint8Array,0),t.__getUint8ClampedArray=A.bind(null,Uint8ClampedArray,0),t.__getUint8ClampedArrayView=T.bind(null,Uint8ClampedArray,0),t.__getInt16Array=A.bind(null,Int16Array,1),t.__getInt16ArrayView=T.bind(null,Int16Array,1),t.__getUint16Array=A.bind(null,Uint16Array,1),t.__getUint16ArrayView=T.bind(null,Uint16Array,1),t.__getInt32Array=A.bind(null,Int32Array,2),t.__getInt32ArrayView=T.bind(null,Int32Array,2),t.__getUint32Array=A.bind(null,Uint32Array,2),t.__getUint32ArrayView=T.bind(null,Uint32Array,2),BIGINT&&(t.__getInt64Array=A.bind(null,BigInt64Array,3),t.__getInt64ArrayView=T.bind(null,BigInt64Array,3),t.__getUint64Array=A.bind(null,BigUint64Array,3),t.__getUint64ArrayView=T.bind(null,BigUint64Array,3)),t.__getFloat32Array=A.bind(null,Float32Array,2),t.__getFloat32ArrayView=T.bind(null,Float32Array,2),t.__getFloat64Array=A.bind(null,Float64Array,3),t.__getFloat64ArrayView=T.bind(null,Float64Array,3);function E(D,S){const _=new Uint32Array(n.buffer);var C=_[D+ID_OFFSET>>>2];if(C<=_[u>>>2])do if(C==S)return!0;while(C=h(C));return!1}return t.__instanceof=E,t.memory=t.memory||n,t.table=t.table||o,demangle(r,t)}function isResponse(t){return typeof Response<"u"&&t instanceof Response}async function instantiate$1(t,e){return isResponse(t=await t)?instantiateStreaming(t,e):postInstantiate(preInstantiate(e||(e={})),await WebAssembly.instantiate(t instanceof WebAssembly.Module?t:await WebAssembly.compile(t),e))}loader.instantiate=instantiate$1;function instantiateSync(t,e){return postInstantiate(preInstantiate(e||(e={})),new WebAssembly.Instance(t instanceof WebAssembly.Module?t:new WebAssembly.Module(t),e))}loader.instantiateSync=instantiateSync;async function instantiateStreaming(t,e){return WebAssembly.instantiateStreaming?postInstantiate(preInstantiate(e||(e={})),(await WebAssembly.instantiateStreaming(t,e)).instance):instantiate$1(isResponse(t=await t)?t.arrayBuffer():t,e)}loader.instantiateStreaming=instantiateStreaming;function demangle(t,e){var r=e?Object.create(e):{},n=t.__argumentsLength?function(o){t.__argumentsLength.value=o}:t.__setArgumentsLength||t.__setargc||function(){};for(let o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const s=t[o];let a=o.split("."),u=r;for(;a.length>1;){let d=a.shift();Object.prototype.hasOwnProperty.call(u,d)||(u[d]={}),u=u[d]}let c=a[0],h=c.indexOf("#");if(h>=0){let d=c.substring(0,h),m=u[d];if(typeof m>"u"||!m.prototype){let v=function(...B){return v.wrap(v.prototype.constructor(0,...B))};v.prototype={valueOf:function(){return this[THIS]}},v.wrap=function(B){return Object.create(v.prototype,{[THIS]:{value:B,writable:!1}})},m&&Object.getOwnPropertyNames(m).forEach(B=>Object.defineProperty(v,B,Object.getOwnPropertyDescriptor(m,B))),u[d]=v}if(c=c.substring(h+1),u=u[d].prototype,/^(get|set):/.test(c)){if(!Object.prototype.hasOwnProperty.call(u,c=c.substring(4))){let v=t[o.replace("set:","get:")],B=t[o.replace("get:","set:")];Object.defineProperty(u,c,{get:function(){return v(this[THIS])},set:function($){B(this[THIS],$)},enumerable:!0})}}else c==="constructor"?(u[c]=(...v)=>(n(v.length),s(...v))).original=s:(u[c]=function(...v){return n(v.length),s(this[THIS],...v)}).original=s}else/^(get|set):/.test(c)?Object.prototype.hasOwnProperty.call(u,c=c.substring(4))||Object.defineProperty(u,c,{get:t[o.replace("set:","get:")],set:t[o.replace("get:","set:")],enumerable:!0}):typeof s=="function"&&s!==n?(u[c]=(...d)=>(n(d.length),s(...d))).original=s:u[c]=s}return r}loader.demangle=demangle;const{instantiate}=loader;loadWebAssembly.supported=typeof WebAssembly<"u";function loadWebAssembly(t={}){if(!loadWebAssembly.supported)return null;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([e],{type:"application/wasm"})),t)}var rabinWasm=loadWebAssembly;const Rabin=rabin$1,getRabin=rabinWasm,create$5=async(t,e,r,n,o)=>{const s=await getRabin();return new Rabin(s,t,e,r,n,o)};var src$5={Rabin,create:create$5};async function*rabinChunker(t,e){let r,n,o;if(e.minChunkSize&&e.maxChunkSize&&e.avgChunkSize)o=e.avgChunkSize,r=e.minChunkSize,n=e.maxChunkSize;else if(e.avgChunkSize)o=e.avgChunkSize,r=o/3,n=o+o/2;else throw errCode$1(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(r<16)throw errCode$1(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");n<r&&(n=r),o<r&&(o=r);const s=Math.floor(Math.log2(o));for await(const a of rabin(t,{min:r,max:n,bits:s,window:e.window,polynomial:e.polynomial}))yield a}async function*rabin(t,e){const r=await src$5.create(e.bits,e.min,e.max,e.window),n=new BufferList$1;for await(const o of t){n.append(o);const s=r.fingerprint(o);for(let a=0;a<s.length;a++){const u=s[a],c=n.slice(0,u);n.consume(u),yield c}}n.length&&(yield n.slice(0))}async function*fixedSizeChunker(t,e){let r=new BufferList$1,n=0,o=!1;const s=e.maxChunkSize;for await(const a of t)for(r.append(a),n+=a.length;n>=s;)if(yield r.slice(0,s),o=!0,s===r.length)r=new BufferList$1,n=0;else{const u=new BufferList$1;u.append(r.shallowSlice(s)),r=u,n-=s}(!o||n)&&(yield r.slice(0,n))}const identity$2=from$6({prefix:"\0",name:"identity",encode:t=>toString$5(t),decode:t=>fromString$7(t)}),identityBase$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2$4=rfc4648$4({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$5=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$4},Symbol.toStringTag,{value:"Module"})),base8$4=rfc4648$4({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$5=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$4},Symbol.toStringTag,{value:"Module"})),base10$4=baseX$4({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$5=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$4},Symbol.toStringTag,{value:"Module"})),base16$4=rfc4648$4({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$2=rfc4648$4({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$5=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$4,base16upper:base16upper$2},Symbol.toStringTag,{value:"Module"})),base36$4=baseX$4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$2=baseX$4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$5=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$4,base36upper:base36upper$2},Symbol.toStringTag,{value:"Module"})),base64$5=rfc4648$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$2=rfc4648$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$2=rfc4648$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$2=rfc4648$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$6=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$5,base64pad:base64pad$2,base64url:base64url$2,base64urlpad:base64urlpad$2},Symbol.toStringTag,{value:"Module"})),alphabet$2=Array.from(""),alphabetBytesToChars$2=alphabet$2.reduce((t,e,r)=>(t[r]=e,t),[]),alphabetCharsToBytes$2=alphabet$2.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function encode$b(t){return t.reduce((e,r)=>(e+=alphabetBytesToChars$2[r],e),"")}function decode$e(t){const e=[];for(const r of t){const n=alphabetCharsToBytes$2[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const base256emoji$4=from$6({prefix:"",name:"base256emoji",encode:encode$b,decode:decode$e}),base256emoji$5=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$4},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$2={...identityBase$2,...base2$5,...base8$5,...base10$5,...base16$5,...base32$6,...base36$5,...base58$2,...base64$6,...base256emoji$5};function asUint8Array$2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe$2(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array$2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function createCodec$2(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const string$2=createCodec$2("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ascii$2=createCodec$2("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=allocUnsafe$2(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),BASES$2={utf8:string$2,"utf-8":string$2,hex:bases$2.base16,latin1:ascii$2,ascii:ascii$2,binary:ascii$2,...bases$2};function fromString$6(t,e="utf8"){const r=BASES$2[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$2(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}async function*validateChunks(t){for await(const e of t){if(e.length===void 0)throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof e=="string"||e instanceof String)yield fromString$6(e.toString());else if(Array.isArray(e))yield Uint8Array.from(e);else if(e instanceof Uint8Array)yield e;else throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}function isIterable(t){return Symbol.iterator in t}function isAsyncIterable(t){return Symbol.asyncIterator in t}function contentAsAsyncIterable(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(isIterable(t))return async function*(){yield*t}();if(isAsyncIterable(t))return t}catch{throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*dagBuilder(t,e,r){for await(const n of t)if(n.path&&(n.path.substring(0,2)==="./"&&(r.wrapWithDirectory=!0),n.path=n.path.split("/").filter(o=>o&&o!==".").join("/")),n.content){let o;typeof r.chunker=="function"?o=r.chunker:r.chunker==="rabin"?o=rabinChunker:o=fixedSizeChunker;let s;typeof r.chunkValidator=="function"?s=r.chunkValidator:s=validateChunks;const a={path:n.path,mtime:n.mtime,mode:n.mode,content:o(s(contentAsAsyncIterable(n.content),r),r)};yield()=>fileBuilder(a,e,r)}else if(n.path){const o={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>dirBuilder(o,e,r)}else throw new Error("Import candidate must have content or path or both")}class Dir{constructor(e,r){this.options=r||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,r){}get(e){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(e){}}class DirFlat extends Dir{constructor(e,r){super(e,r),this._children={}}async put(e,r){this.cid=void 0,this.size=void 0,this._children[e]=r}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let r=0;r<e.length;r++){const n=e[r];yield{key:n,child:this._children[n]}}}async*flush(e){const r=Object.keys(this._children),n=[];for(let h=0;h<r.length;h++){let d=this._children[r[h]];if(d instanceof Dir)for await(const m of d.flush(e))d=m,yield d;d.size!=null&&d.cid&&n.push({Name:r[h],Tsize:d.size,Hash:d.cid})}const o=new UnixFS({type:"directory",mtime:this.mtime,mode:this.mode}),s={Data:o.marshal(),Links:n},a=encode$d(prepare(s)),u=await persist(a,e,this.options),c=a.length+s.Links.reduce((h,d)=>h+(d.Tsize==null?0:d.Tsize),0);this.cid=u,this.size=c,yield{cid:u,unixfs:o,path:this.path,size:c}}}const BITS_PER_BYTE=7;var sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let n=this._internalPositionFor(e,!1);if(r===void 0)n!==-1&&(this._unsetInternalPos(n),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let o=!1;n===-1?(n=this._data.length,this._setBit(e),this._changedData=!0):o=!0,this._setInternalPos(n,e,r,o),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,n=new Array(this.length);for(;r<this.length;)n[r]=e(this.get(r),r,this),r++;return n}reduce(e,r){let n=0,o=r;for(;n<this.length;){const s=this.get(n);o=e(o,s,n),n++}return o}find(e){let r=0,n,o;for(;r<this.length&&!n;)o=this.get(r),n=e(o),r++;return n?o:void 0}_internalPositionFor(e,r){const n=this._bytePosFor(e,r);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],s=e-n*BITS_PER_BYTE;if(!((o&1<<s)>0))return-1;const u=this._bitArrays.slice(0,n).reduce(popCountReduce,0),c=~(4294967295<<s+1),h=popCount(o&c);return u+h-1}_bytePosFor(e,r){const n=Math.floor(e/BITS_PER_BYTE),o=n+1;for(;!r&&this._bitArrays.length<o;)this._bitArrays.push(0);return n}_setBit(e){const r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*BITS_PER_BYTE}_unsetBit(e){const r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*BITS_PER_BYTE)}_setInternalPos(e,r,n,o){const s=this._data,a=[r,n];if(o)this._sortData(),s[e]=a;else{if(s.length)if(s[s.length-1][0]>=r)s.push(a);else if(s[0][0]<=r)s.unshift(a);else{const u=Math.round(s.length/2);this._data=s.slice(0,u).concat(a).concat(s.slice(u))}else this._data.push(a);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}bitField(){const e=[];let r=8,n=0,o=0,s;const a=this._bitArrays.slice();for(;a.length||n;){n===0&&(s=a.shift(),n=7);const c=Math.min(n,r),h=~(255<<c),d=s&h;o|=d<<8-r,s=s>>>c,n-=c,r-=c,(!r||!n&&!a.length)&&(e.push(o),o=0,r=8)}for(var u=e.length-1;u>0&&e[u]===0;u--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(valueOnly)}};function popCountReduce(t,e){return t+popCount(e)}function popCount(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function sortInternal(t,e){return t[0]-e[0]}function valueOnly(t){return t[1]}function base$3(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src$4=base$3,_brrp__multiformats_scope_baseX$3=src$4;const coerce$3=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},fromString$5=t=>new TextEncoder().encode(t),toString$4=t=>new TextDecoder().decode(t);let Encoder$3=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$3=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$3(this,e)}},ComposedDecoder$3=class{constructor(e){this.decoders=e}or(e){return or$3(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$3=(t,e)=>new ComposedDecoder$3({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Codec$3=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder$3(e,r,n),this.decoder=new Decoder$3(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$5=({name:t,prefix:e,encode:r,decode:n})=>new Codec$3(t,e,r,n),baseX$3=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX$3(r,e);return from$5({prefix:t,name:e,encode:n,decode:s=>coerce$3(o(s))})},decode$d=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$a=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648$3=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$5({prefix:e,name:t,encode(o){return encode$a(o,n,r)},decode(o){return decode$d(o,n,r,t)}}),identity$1=from$5({prefix:"\0",name:"identity",encode:t=>toString$4(t),decode:t=>fromString$5(t)}),identityBase$1=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),base2$2=rfc4648$3({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$3=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$2},Symbol.toStringTag,{value:"Module"})),base8$2=rfc4648$3({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$3=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$2},Symbol.toStringTag,{value:"Module"})),base10$2=baseX$3({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$3=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$2},Symbol.toStringTag,{value:"Module"})),base16$2=rfc4648$3({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$1=rfc4648$3({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$3=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$2,base16upper:base16upper$1},Symbol.toStringTag,{value:"Module"})),base32$3=rfc4648$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$1=rfc4648$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$1=rfc4648$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$1=rfc4648$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$1=rfc4648$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$1=rfc4648$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$1=rfc4648$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$1=rfc4648$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$1=rfc4648$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$4=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$3,base32hex:base32hex$1,base32hexpad:base32hexpad$1,base32hexpadupper:base32hexpadupper$1,base32hexupper:base32hexupper$1,base32pad:base32pad$1,base32padupper:base32padupper$1,base32upper:base32upper$1,base32z:base32z$1},Symbol.toStringTag,{value:"Module"})),base36$2=baseX$3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$1=baseX$3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$3=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$2,base36upper:base36upper$1},Symbol.toStringTag,{value:"Module"})),base58btc$2=baseX$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$1=baseX$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$1=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$2,base58flickr:base58flickr$1},Symbol.toStringTag,{value:"Module"})),base64$3=rfc4648$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$1=rfc4648$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$1=rfc4648$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$1=rfc4648$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$4=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$3,base64pad:base64pad$1,base64url:base64url$1,base64urlpad:base64urlpad$1},Symbol.toStringTag,{value:"Module"})),alphabet$1=Array.from(""),alphabetBytesToChars$1=alphabet$1.reduce((t,e,r)=>(t[r]=e,t),[]),alphabetCharsToBytes$1=alphabet$1.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function encode$9(t){return t.reduce((e,r)=>(e+=alphabetBytesToChars$1[r],e),"")}function decode$c(t){const e=[];for(const r of t){const n=alphabetCharsToBytes$1[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const base256emoji$2=from$5({prefix:"",name:"base256emoji",encode:encode$9,decode:decode$c}),base256emoji$3=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$2},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$1={...identityBase$1,...base2$3,...base8$3,...base10$3,...base16$3,...base32$4,...base36$3,...base58$1,...base64$4,...base256emoji$3};function asUint8Array$1(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe$1(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array$1(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function createCodec$1(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const string$1=createCodec$1("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ascii$1=createCodec$1("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=allocUnsafe$1(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$1.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$1};function fromString$3(t,e="utf8"){const r=BASES$1[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$1(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}const fromString$4=Object.freeze(Object.defineProperty({__proto__:null,fromString:fromString$3},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(fromString$4),SparseArray=sparseArray,{fromString:uint8ArrayFromString}=require$$1$1;let Bucket$1=class ee{constructor(e,r,n=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=n,this._children=new SparseArray,this.key=null}async put(e,r){const n=await this._findNewBucketAndPos(e);await n.bucket._putAt(n,e,r)}async get(e){const r=await this._findChild(e);if(r)return r.value}async del(e){const r=await this._findPlace(e),n=r.bucket._at(r.pos);n&&n.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,n)=>n instanceof ee?r+n.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const r of e)r instanceof ee?yield*r.eachLeafSeries():yield r;return[]}serialize(e,r){const n=[];return r(this._children.reduce((o,s,a)=>(s&&(s instanceof ee?o.push(s.serialize(e,r)):o.push(e(s,a))),o),n))}asyncTransform(e,r){return asyncTransformBucket(this,e,r)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const r=await this._findPlace(e),n=r.bucket._at(r.pos);if(!(n instanceof ee)&&n&&n.key===e)return n}async _findPlace(e){const r=this._options.hash(typeof e=="string"?uint8ArrayFromString(e):e),n=await r.take(this._options.bits),o=this._children.get(n);return o instanceof ee?o._findPlace(r):{bucket:this,pos:n,hash:r,existingChild:o}}async _findNewBucketAndPos(e){const r=await this._findPlace(e);if(r.existingChild&&r.existingChild.key!==e){const n=new ee(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,n);const o=await n._findPlace(r.existingChild.hash);return o.bucket._putAt(o,r.existingChild.key,r.existingChild.value),n._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,n){this._putObjectAt(e.pos,{key:r,value:n,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)||this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const e=this._children.find(exists);if(e&&!(e instanceof ee)){const r=e.hash;r.untake(this._options.bits);const n={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function exists(t){return!!t}function mapNode(t,e){return t.key}function reduceNodes(t){return t}async function asyncTransformBucket(t,e,r){const n=[];for(const o of t._children.compactArray())if(o instanceof Bucket$1)await asyncTransformBucket(o,e,r);else{const s=await e(o);n.push({bitField:t._children.bitField(),children:s})}return r(n)}var bucket=Bucket$1,consumableHash={exports:{}};const START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255];var consumableBuffer=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,n=0;for(;r&&this._haveBits();){const o=this._value[this._currentBytePos],s=this._currentBitPos+1,a=Math.min(s,r),u=byteBitsToInt(o,s-a,a);n=(n<<a)+u,r-=a,this._currentBitPos-=a,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function byteBitsToInt(t,e,r){const n=maskFor(e,r);return(t&n)>>>e}function maskFor(t,e){return START_MASKS[t]&STOP_MASKS[Math.min(e+t-1,7)]}function concat$1(t,e){e||(e=t.reduce((o,s)=>o+s.length,0));const r=allocUnsafe$1(e);let n=0;for(const o of t)r.set(o,n),n+=o.length;return asUint8Array$1(r)}const concat$2=Object.freeze(Object.defineProperty({__proto__:null,concat:concat$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(concat$2),ConsumableBuffer=consumableBuffer,{concat:uint8ArrayConcat}=require$$1;function wrapHash$1(t){function e(r){return r instanceof InfiniteHash?r:new InfiniteHash(r,t)}return e}class InfiniteHash{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let n=0;for(;r>0;){const o=this._buffers[this._currentBufferIndex],s=Math.min(o.availableBits(),r),a=o.take(s);n=(n<<s)+a,r-=s,this._availableBits-=s,o.availableBits()===0&&this._currentBufferIndex++}return n}untake(e){let r=e;for(;r>0;){const n=this._buffers[this._currentBufferIndex],o=Math.min(n.totalBits()-n.availableBits(),r);n.untake(o),r-=o,this._availableBits+=o,this._currentBufferIndex>0&&n.totalBits()===n.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),n=new ConsumableBuffer(r);this._buffers.push(n),this._availableBits+=n.availableBits()}}consumableHash.exports=wrapHash$1;consumableHash.exports.InfiniteHash=InfiniteHash;var consumableHashExports=consumableHash.exports;const Bucket=bucket,wrapHash=consumableHashExports;function createHAMT(t){if(!t||!t.hashFn)throw new Error("please define an options.hashFn");const e={bits:t.bits||8,hash:wrapHash(t.hashFn)};return new Bucket(e)}var src$3={createHAMT,Bucket};class DirSharded extends Dir{constructor(e,r){super(e,r),this._bucket=src$3.createHAMT({hashFn:r.hamtHashFn,bits:r.hamtBucketBits})}async put(e,r){await this._bucket.put(e,r)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}async*flush(e){for await(const r of flush(this._bucket,e,this,this.options))yield{...r,path:this.path}}}async function*flush(t,e,r,n){const o=t._children,s=[];let a=0;for(let B=0;B<o.length;B++){const $=o.get(B);if(!$)continue;const p=B.toString(16).toUpperCase().padStart(2,"0");if($ instanceof src$3.Bucket){let b;for await(const w of await flush($,e,null,n))b=w;if(!b)throw new Error("Could not flush sharded directory, no subshard found");s.push({Name:p,Tsize:b.size,Hash:b.cid}),a+=b.size}else if(typeof $.value.flush=="function"){const b=$.value;let w;for await(const T of b.flush(e))w=T,yield w;const A=p+$.key;s.push({Name:A,Tsize:w.size,Hash:w.cid}),a+=w.size}else{const b=$.value;if(!b.cid)continue;const w=p+$.key,A=b.size;s.push({Name:w,Tsize:A,Hash:b.cid}),a+=A}}const u=Uint8Array.from(o.bitField().reverse()),c=new UnixFS({type:"hamt-sharded-directory",data:u,fanout:t.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode}),h={Data:c.marshal(),Links:s},d=encode$d(prepare(h)),m=await persist(d,e,n),v=d.length+a;yield{cid:m,unixfs:c,size:v}}async function flatToShard(t,e,r,n){let o=e;e instanceof DirFlat&&e.directChildrenCount()>=r&&(o=await convertToShard(e,n));const s=o.parent;if(s){if(o!==e){if(t&&(t.parent=o),!o.parentKey)throw new Error("No parent key found");await s.put(o.parentKey,o)}return flatToShard(o,s,r,n)}return o}async function convertToShard(t,e){const r=new DirSharded({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(const{key:n,child:o}of t.eachChildSeries())await r.put(n,o);return r}const toPathComponents=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);async function addToTree(t,e,r){const n=toPathComponents(t.path||""),o=n.length-1;let s=e,a="";for(let u=0;u<n.length;u++){const c=n[u];a+=`${a?"/":""}${c}`;const h=u===o;if(s.dirty=!0,s.cid=void 0,s.size=void 0,h)await s.put(c,t),e=await flatToShard(null,s,r.shardSplitThreshold,r);else{let d=await s.get(c);(!d||!(d instanceof Dir))&&(d=new DirFlat({root:!1,dir:!0,parent:s,parentKey:c,path:a,dirty:!0,flat:!0,mtime:d&&d.unixfs&&d.unixfs.mtime,mode:d&&d.unixfs&&d.unixfs.mode},r)),await s.put(c,d),s=d}}return e}async function*flushAndYield(t,e){if(!(t instanceof Dir)){t&&t.unixfs&&t.unixfs.isDirectory()&&(yield t);return}yield*t.flush(e)}async function*treeBuilder(t,e,r){let n=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(const o of t)o&&(n=await addToTree(o,n,r),(!o.unixfs||!o.unixfs.isDirectory())&&(yield o));if(r.wrapWithDirectory)yield*flushAndYield(n,e);else for await(const o of n.eachChildSeries())o&&(yield*flushAndYield(o.child,e))}async function*importer(t,e,r={}){const n=defaultOptions$1(r);let o;typeof r.dagBuilder=="function"?o=r.dagBuilder:o=dagBuilder;let s;typeof r.treeBuilder=="function"?s=r.treeBuilder:s=treeBuilder;let a;Symbol.asyncIterator in t||Symbol.iterator in t?a=t:a=[t];for await(const u of s(parallelBatch$1(o(a,e,n),n.fileImportConcurrency),e,n))yield{cid:u.cid,path:u.path,unixfs:u.unixfs,size:u.size}}function base$2(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src$2=base$2,_brrp__multiformats_scope_baseX$2=src$2;const equals$3=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},coerce$2=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},fromString$2=t=>new TextEncoder().encode(t),toString$3=t=>new TextDecoder().decode(t);let Encoder$2=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$2=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$2(this,e)}},ComposedDecoder$2=class{constructor(e){this.decoders=e}or(e){return or$2(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$2=(t,e)=>new ComposedDecoder$2({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Codec$2=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder$2(e,r,n),this.decoder=new Decoder$2(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$4=({name:t,prefix:e,encode:r,decode:n})=>new Codec$2(t,e,r,n),baseX$2=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX$2(r,e);return from$4({prefix:t,name:e,encode:n,decode:s=>coerce$2(o(s))})},decode$b=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$8=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648$2=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$4({prefix:e,name:t,encode(o){return encode$8(o,n,r)},decode(o){return decode$b(o,n,r,t)}}),identity=from$4({prefix:"\0",name:"identity",encode:t=>toString$3(t),decode:t=>fromString$2(t)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648$2({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648$2({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX$2({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648$2({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648$2({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32$1=rfc4648$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$2=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$1,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc$1=baseX$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$1,base58flickr},Symbol.toStringTag,{value:"Module"})),base64$1=rfc4648$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$2=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$1,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((t,e,r)=>(t[r]=e,t),[]),alphabetCharsToBytes=alphabet.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function encode$7(t){return t.reduce((e,r)=>(e+=alphabetBytesToChars[r],e),"")}function decode$a(t){const e=[];for(const r of t){const n=alphabetCharsToBytes[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const base256emoji=from$4({prefix:"",name:"base256emoji",encode:encode$7,decode:decode$a}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));var encode_1$1=encode$6,MSB$2=128,REST$2=127,MSBALL$1=~REST$2,INT$1=Math.pow(2,31);function encode$6(t,e,r){e=e||[],r=r||0;for(var n=r;t>=INT$1;)e[r++]=t&255|MSB$2,t/=128;for(;t&MSBALL$1;)e[r++]=t&255|MSB$2,t>>>=7;return e[r]=t|0,encode$6.bytes=r-n+1,e}var decode$9=read$1,MSB$1$1=128,REST$1$1=127;function read$1(t,n){var r=0,n=n||0,o=0,s=n,a,u=t.length;do{if(s>=u)throw read$1.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=o<28?(a&REST$1$1)<<o:(a&REST$1$1)*Math.pow(2,o),o+=7}while(a>=MSB$1$1);return read$1.bytes=s-n,r}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(t){return t<N1$1?1:t<N2$1?2:t<N3$1?3:t<N4$1?4:t<N5$1?5:t<N6$1?6:t<N7$1?7:t<N8$1?8:t<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$9,encodingLength:length$1},_brrp_varint$1=varint$1;const decode$8=(t,e=0)=>[_brrp_varint$1.decode(t,e),_brrp_varint$1.decode.bytes],encodeTo$1=(t,e,r=0)=>(_brrp_varint$1.encode(t,e,r),e),encodingLength$1=t=>_brrp_varint$1.encodingLength(t),create$4=(t,e)=>{const r=e.byteLength,n=encodingLength$1(t),o=n+encodingLength$1(r),s=new Uint8Array(o+r);return encodeTo$1(t,s,0),encodeTo$1(r,s,n),s.set(e,o),new Digest$1(t,r,e,s)},decode$7=t=>{const e=coerce$2(t),[r,n]=decode$8(e),[o,s]=decode$8(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==o)throw new Error("Incorrect length");return new Digest$1(r,o,a,e)},equals$2=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&equals$3(t.bytes,e.bytes);let Digest$1=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};const from$3=({name:t,code:e,encode:r})=>new Hasher$1(t,e,r);let Hasher$1=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?create$4(this.code,r):r.then(n=>create$4(this.code,n))}else throw Error("Unknown type, must be binary type")}};const sha$1=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sha256$1=from$3({name:"sha2-256",code:18,encode:sha$1("SHA-256")});new TextEncoder;new TextDecoder;let CID$1=class q{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden$1,byteLength:hidden$1,code:readonly$2,version:readonly$2,multihash:readonly$2,bytes:readonly$2,_baseCache:hidden$1,asCID:hidden$1})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return q.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=create$4(e,r);return q.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&equals$2(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0$1(r,o,e||base58btc$1.encoder);default:return toStringV1$1(r,o,e||base32$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return deprecate$1(/^0\.0/,IS_CID_DEPRECATION$1),!!(e&&(e[cidSymbol$1]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof q)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:o,bytes:s}=e;return new q(r,n,o,s||encodeCID$1(r,n,o.bytes))}else if(e!=null&&e[cidSymbol$1]===!0){const{version:r,multihash:n,code:o}=e,s=decode$7(n);return q.create(r,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==DAG_PB_CODE$1)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$1}) block encoding`);return new q(e,r,n,n.bytes)}case 1:{const o=encodeCID$1(e,r,n.bytes);return new q(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return q.create(0,DAG_PB_CODE$1,e)}static createV1(e,r){return q.create(1,e,r)}static decode(e){const[r,n]=q.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=q.inspectBytes(e),n=r.size-r.multihashSize,o=coerce$2(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),a=new Digest$1(r.multihashCode,r.digestSize,s,o);return[r.version===0?q.createV0(a):q.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[m,v]=decode$8(e.subarray(r));return r+=v,m};let o=n(),s=DAG_PB_CODE$1;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=r,u=n(),c=n(),h=r+c,d=h-a;return{version:o,codec:s,multihashCode:u,digestSize:c,multihashSize:d,size:h}}static parse(e,r){const[n,o]=parseCIDtoBytes$1(e,r),s=q.decode(o);return s._baseCache.set(n,e),s}};const parseCIDtoBytes$1=(t,e)=>{switch(t[0]){case"Q":{const r=e||base58btc$1;return[base58btc$1.prefix,r.decode(`${base58btc$1.prefix}${t}`)]}case base58btc$1.prefix:{const r=e||base58btc$1;return[base58btc$1.prefix,r.decode(t)]}case base32$1.prefix:{const r=e||base32$1;return[base32$1.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},toStringV0$1=(t,e,r)=>{const{prefix:n}=r;if(n!==base58btc$1.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const s=r.encode(t).slice(1);return e.set(n,s),s}else return o},toStringV1$1=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const s=r.encode(t);return e.set(n,s),s}else return o},DAG_PB_CODE$1=112,SHA_256_CODE$1=18,encodeCID$1=(t,e,r)=>{const n=encodingLength$1(t),o=n+encodingLength$1(e),s=new Uint8Array(o+r.byteLength);return encodeTo$1(t,s,0),encodeTo$1(e,s,n),s.set(r,o),s},cidSymbol$1=Symbol.for("@ipld/js-cid/CID"),readonly$2={writable:!1,configurable:!1,enumerable:!0},hidden$1={writable:!1,enumerable:!1,configurable:!1},version$1="0.0.0-dev",deprecate$1=(t,e)=>{if(t.test(version$1))console.warn(e);else throw new Error(e)},IS_CID_DEPRECATION$1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$2,...base36$1,...base58,...base64$2,...base256emoji$1};function asUint8Array(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function createCodec(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const string=createCodec("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ascii=createCodec("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=allocUnsafe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString$1(t,e="utf8"){const r=BASES[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}async function*browserReadableStreamToIt$1(t,e={}){const r=t.getReader();try{for(;;){const n=await r.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&r.cancel(),r.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const browserStreamToIt=getDefaultExportFromCjs(browserReadablestreamToIt),browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt(t){return typeof t.stream=="function"?browserReadableStreamToIt(t.stream()):browserReadableStreamToIt(new Response(t).body)}var blobToIt_1=blobToIt;const blobToIt$1=getDefaultExportFromCjs(blobToIt_1);function peekableIterator(t){const[e,r]=t[Symbol.asyncIterator]?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>e.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:e.next(),[r](){return this}}}var itPeekable=peekableIterator;const itPeekable$1=getDefaultExportFromCjs(itPeekable),all$2=async t=>{const e=[];for await(const r of t)e.push(r);return e};var itAll$1=all$2;const all$3=getDefaultExportFromCjs(itAll$1),map=async function*(t,e){for await(const r of t)yield e(r)};var itMap=map;const map$1=getDefaultExportFromCjs(itMap);function isBytes$1(t){return ArrayBuffer.isView(t)||t instanceof ArrayBuffer}function isBlob$2(t){return t.constructor&&(t.constructor.name==="Blob"||t.constructor.name==="File")&&typeof t.stream=="function"}function isFileObject(t){return typeof t=="object"&&(t.path||t.content)}const isReadableStream=t=>t&&typeof t.getReader=="function";async function*toAsyncIterable(t){yield t}async function normaliseContent(t){if(isBytes$1(t))return toAsyncIterable(toBytes(t));if(typeof t=="string"||t instanceof String)return toAsyncIterable(toBytes(t.toString()));if(isBlob$2(t))return blobToIt$1(t);if(isReadableStream(t)&&(t=browserStreamToIt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const e=itPeekable$1(t),{value:r,done:n}=await e.peek();if(n)return toAsyncIterable(new Uint8Array(0));if(e.push(r),Number.isInteger(r))return toAsyncIterable(Uint8Array.from(await all$3(e)));if(isBytes$1(r)||typeof r=="string"||r instanceof String)return map$1(e,toBytes)}throw errCode$1(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT")}function toBytes(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Array.isArray(t)?Uint8Array.from(t):fromString$1(t.toString())}var indexMinimal={},minimal$1={},longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var t=requireMinimal();function e(s,a){this.lo=s>>>0,this.hi=a>>>0}var r=e.zero=new e(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var n=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(a){if(a===0)return r;var u=a<0;u&&(a=-a);var c=a>>>0,h=(a-c)/4294967296>>>0;return u&&(h=~h>>>0,c=~c>>>0,++c>4294967295&&(c=0,++h>4294967295&&(h=0))),new e(c,h)},e.from=function(a){if(typeof a=="number")return e.fromNumber(a);if(t.isString(a))if(t.Long)a=t.Long.fromString(a);else return e.fromNumber(parseInt(a,10));return a.low||a.high?new e(a.low>>>0,a.high>>>0):r},e.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var u=~this.lo+1>>>0,c=~this.hi>>>0;return u||(c=c+1>>>0),-(u+c*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(a){return t.Long?new t.Long(this.lo|0,this.hi|0,!!a):{low:this.lo|0,high:this.hi|0,unsigned:!!a}};var o=String.prototype.charCodeAt;return e.fromHash=function(a){return a===n?r:new e((o.call(a,0)|o.call(a,1)<<8|o.call(a,2)<<16|o.call(a,3)<<24)>>>0,(o.call(a,4)|o.call(a,5)<<8|o.call(a,6)<<16|o.call(a,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},e.prototype.zzDecode=function(){var a=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},e.prototype.length=function(){var a=this.lo,u=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?u===0?a<16384?a<128?1:2:a<2097152?3:4:u<16384?u<128?5:6:u<2097152?7:8:c<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(t){var e=t;e.asPromise=aspromise,e.base64=base64$8,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$4,e.pool=pool_1,e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},e.isString=function(s){return typeof s=="string"||s instanceof String},e.isObject=function(s){return s&&typeof s=="object"},e.isset=e.isSet=function(s,a){var u=s[a];return u!=null&&s.hasOwnProperty(a)?typeof u!="object"||(Array.isArray(u)?u.length:Object.keys(u).length)>0:!1},e.Buffer=function(){try{var o=e.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(s){return typeof s=="number"?e.Buffer?e._Buffer_allocUnsafe(s):new e.Array(s):e.Buffer?e._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(s){return s?e.LongBits.from(s).toHash():e.LongBits.zeroHash},e.longFromHash=function(s,a){var u=e.LongBits.fromHash(s);return e.Long?e.Long.fromBits(u.lo,u.hi,a):u.toNumber(!!a)};function r(o,s,a){for(var u=Object.keys(s),c=0;c<u.length;++c)(o[u[c]]===void 0||!a)&&(o[u[c]]=s[u[c]]);return o}e.merge=r,e.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)};function n(o){function s(a,u){if(!(this instanceof s))return new s(a,u);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),u&&r(this,u)}return(s.prototype=Object.create(Error.prototype)).constructor=s,Object.defineProperty(s.prototype,"name",{get:function(){return o}}),s.prototype.toString=function(){return this.name+": "+this.message},s}e.newError=n,e.ProtocolError=n("ProtocolError"),e.oneOfGetter=function(s){for(var a={},u=0;u<s.length;++u)a[s[u]]=1;return function(){for(var c=Object.keys(this),h=c.length-1;h>-1;--h)if(a[c[h]]===1&&this[c[h]]!==void 0&&this[c[h]]!==null)return c[h]}},e.oneOfSetter=function(s){return function(a){for(var u=0;u<s.length;++u)s[u]!==a&&delete this[s[u]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var o=e.Buffer;if(!o){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=o.from!==Uint8Array.from&&o.from||function(a,u){return new o(a,u)},e._Buffer_allocUnsafe=o.allocUnsafe||function(a){return new o(a)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function noop(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$3=function t(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$3();Writer$1.alloc=function t(e){return new util$4.Array(e)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function t(e,r,n){return this.tail=this.tail.next=new Op(e,r,n),this.len+=r,this};function writeByte(t,e,r){e[r]=t&255}function writeVarint32(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function VarintOp(t,e){this.len=t,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function t(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function t(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function t(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Writer$1.prototype.uint64=function t(e){var r=LongBits$1.from(e);return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function t(e){var r=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.bool=function t(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Writer$1.prototype.fixed32=function t(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function t(e){var r=LongBits$1.from(e);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function t(e){return this._push(util$4.float.writeFloatLE,4,e)};Writer$1.prototype.double=function t(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function t(e,r,n){r.set(e,n)}:function t(e,r,n){for(var o=0;o<e.length;++o)r[n+o]=e[o]};Writer$1.prototype.bytes=function t(e){var r=e.length>>>0;if(!r)return this._push(writeByte,1,0);if(util$4.isString(e)){var n=Writer$1.alloc(r=base64.length(e));base64.decode(e,n,0),e=n}return this.uint32(r)._push(writeBytes,r,e)};Writer$1.prototype.string=function t(e){var r=utf8$1.length(e);return r?this.uint32(r)._push(utf8$1.write,r,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function t(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function t(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function t(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Writer$1.prototype.finish=function t(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Writer$1._configure=function(t){BufferWriter$1=t,Writer$1.create=create$3(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var o=0;o<e.length;)r[n++]=e[o++]}};BufferWriter.prototype.bytes=function t(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(BufferWriter.writeBytesBuffer,r,e),this};function writeStringBuffer(t,e,r){t.length<40?util$3.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}BufferWriter.prototype.string=function t(e){var r=util$3.Buffer.byteLength(e);return this.uint32(r),r&&this._push(writeStringBuffer,r,e),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Reader$1(t){this.buf=t,this.pos=0,this.len=t.length}var create_array=typeof Uint8Array<"u"?function t(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function t(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$2=function t(){return util$2.Buffer?function(r){return(Reader$1.create=function(o){return util$2.Buffer.isBuffer(o)?new BufferReader$1(o):create_array(o)})(r)}:create_array};Reader$1.create=create$2();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function t(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function t(){return this.uint32()|0};Reader$1.prototype.sint32=function t(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var t=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function t(){return this.uint32()!==0};function readFixed32_end(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function t(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function t(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Reader$1.prototype.string=function t(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function t(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Reader$1._configure=function(t){BufferReader$1=t,Reader$1.create=create$2(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(t){Reader.call(this,t)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function t(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}Service.prototype.rpcCall=function t(e,r,n,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return util.asPromise(t,a,e,r,n,o);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(c,h){if(c)return a.emit("error",c,e),s(c);if(h===null){a.end(!0);return}if(!(h instanceof n))try{h=n[a.responseDelimited?"decodeDelimited":"decode"](h)}catch(d){return a.emit("error",d,e),s(d)}return a.emit("data",h,e),s(null,h)})}catch(u){a.emit("error",u,e),setTimeout(function(){s(u)},0);return}};Service.prototype.end=function t(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(t){var e=t;e.Service=service})(rpc);var roots={};(function(t){var e=t;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=r;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}r()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots["ipfs-unixfs"]||($protobuf.roots["ipfs-unixfs"]={});$root.Data=(()=>{function t(e){if(this.blocksizes=[],e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=$util.newBuffer([]),t.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,t.prototype.blocksizes=$util.emptyArray,t.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,t.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,t.prototype.mode=0,t.prototype.mtime=null,t.encode=function(r,n){if(n||(n=$Writer.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var o=0;o<r.blocksizes.length;++o)n.uint32(32).uint64(r.blocksizes[o]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&$root.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},t.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root.Data;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;case 3:s.filesize=r.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(a&7)===2)for(var u=r.uint32()+r.pos;r.pos<u;)s.blocksizes.push(r.uint64());else s.blocksizes.push(r.uint64());break;case 5:s.hashType=r.uint64();break;case 6:s.fanout=r.uint64();break;case 7:s.mode=r.uint32();break;case 8:s.mtime=$root.UnixTime.decode(r,r.uint32());break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:s});return s},t.fromObject=function(r){if(r instanceof $root.Data)return r;var n=new $root.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?$util.base64.decode(r.Data,n.Data=$util.newBuffer($util.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&($util.Long?(n.filesize=$util.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new $util.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)$util.Long?(n.blocksizes[o]=$util.Long.fromValue(r.blocksizes[o])).unsigned=!0:typeof r.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(r.blocksizes[o],10):typeof r.blocksizes[o]=="number"?n.blocksizes[o]=r.blocksizes[o]:typeof r.blocksizes[o]=="object"&&(n.blocksizes[o]=new $util.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0))}if(r.hashType!=null&&($util.Long?(n.hashType=$util.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new $util.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&($util.Long?(n.fanout=$util.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new $util.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root.UnixTime.fromObject(r.mtime)}return n},t.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=$util.newBuffer(o.Data))),$util.Long){var s=new $util.Long(0,0,!0);o.filesize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.filesize=n.longs===String?"0":0;if($util.Long){var s=new $util.Long(0,0,!0);o.hashType=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.hashType=n.longs===String?"0":0;if($util.Long){var s=new $util.Long(0,0,!0);o.fanout=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(o.Type=n.enums===String?$root.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(o.Data=n.bytes===String?$util.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?o.filesize=n.longs===String?String(r.filesize):r.filesize:o.filesize=n.longs===String?$util.Long.prototype.toString.call(r.filesize):n.longs===Number?new $util.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){o.blocksizes=[];for(var a=0;a<r.blocksizes.length;++a)typeof r.blocksizes[a]=="number"?o.blocksizes[a]=n.longs===String?String(r.blocksizes[a]):r.blocksizes[a]:o.blocksizes[a]=n.longs===String?$util.Long.prototype.toString.call(r.blocksizes[a]):n.longs===Number?new $util.LongBits(r.blocksizes[a].low>>>0,r.blocksizes[a].high>>>0).toNumber(!0):r.blocksizes[a]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?o.hashType=n.longs===String?String(r.hashType):r.hashType:o.hashType=n.longs===String?$util.Long.prototype.toString.call(r.hashType):n.longs===Number?new $util.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?o.fanout=n.longs===String?String(r.fanout):r.fanout:o.fanout=n.longs===String?$util.Long.prototype.toString.call(r.fanout):n.longs===Number?new $util.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(o.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(o.mtime=$root.UnixTime.toObject(r.mtime,n)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t.DataType=function(){const e={},r=Object.create(e);return r[e[0]="Raw"]=0,r[e[1]="Directory"]=1,r[e[2]="File"]=2,r[e[3]="Metadata"]=3,r[e[4]="Symlink"]=4,r[e[5]="HAMTShard"]=5,r}(),t})();$root.UnixTime=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,t.prototype.FractionalNanoseconds=0,t.encode=function(r,n){return n||(n=$Writer.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},t.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root.UnixTime;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.Seconds=r.int64();break;case 2:s.FractionalNanoseconds=r.fixed32();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:s});return s},t.fromObject=function(r){if(r instanceof $root.UnixTime)return r;var n=new $root.UnixTime;return r.Seconds!=null&&($util.Long?(n.Seconds=$util.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new $util.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},t.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($util.Long){var s=new $util.Long(0,0,!1);o.Seconds=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?o.Seconds=n.longs===String?String(r.Seconds):r.Seconds:o.Seconds=n.longs===String?$util.Long.prototype.toString.call(r.Seconds):n.longs===Number?new $util.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=r.FractionalNanoseconds),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t})();$root.Metadata=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.MimeType="",t.encode=function(r,n){return n||(n=$Writer.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},t.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root.Metadata;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.MimeType=r.string();break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof $root.Metadata)return r;var n=new $root.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},t.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(o.MimeType=r.MimeType),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t})();function parseMode(t){if(t!=null)return typeof t=="number"?t&4095:(t=t.toString(),t.substring(0,1)==="0"?parseInt(t,8)&4095:parseInt(t,10)&4095)}function parseMtime(t){if(t==null)return;let e;if(t.secs!=null&&(e={secs:t.secs,nsecs:t.nsecs}),t.Seconds!=null&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){const r=t.getTime(),n=Math.floor(r/1e3);e={secs:n,nsecs:(r-n*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}async function*normaliseCandidateSingle(t,e){if(t==null)throw errCode$1(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT");if(typeof t=="string"||t instanceof String){yield toFileObject$1(t.toString(),e);return}if(isBytes$1(t)||isBlob$2(t)){yield toFileObject$1(t,e);return}if(isReadableStream(t)&&(t=browserStreamToIt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const r=itPeekable$1(t),{value:n,done:o}=await r.peek();if(o){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||isBytes$1(n)||typeof n=="string"||n instanceof String){yield toFileObject$1(r,e);return}throw errCode$1(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject(t)){yield toFileObject$1(t,e);return}throw errCode$1(new Error('Unexpected input: cannot convert "'+typeof t+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1(t,e){const{path:r,mode:n,mtime:o,content:s}=t,a={path:r||"",mode:parseMode(n),mtime:parseMtime(o)};return s?a.content=await e(s):r||(a.content=await e(t)),a}function normaliseInput$1(t){return normaliseCandidateSingle(t,normaliseContent)}async function*normaliseCandidateMultiple(t,e){if(typeof t=="string"||t instanceof String||isBytes$1(t)||isBlob$2(t)||t._readableState)throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream(t)&&(t=browserStreamToIt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const r=itPeekable$1(t),{value:n,done:o}=await r.peek();if(o){yield*[];return}if(r.push(n),Number.isInteger(n))throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*map$1(r,s=>toFileObject({content:s},e));return}if(isBytes$1(n)){yield toFileObject({content:r},e);return}if(isFileObject(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||isReadableStream(n)||isBlob$2(n)){yield*map$1(r,s=>toFileObject(s,e));return}}throw isFileObject(t)?errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode$1(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT")}async function toFileObject(t,e){const{path:r,mode:n,mtime:o,content:s}=t,a={path:r||"",mode:parseMode(n),mtime:parseMtime(o)};return s?a.content=await e(s):r||(a.content=await e(t)),a}function normaliseInput(t){return normaliseCandidateMultiple(t,normaliseContent)}function isBytes(t){return ArrayBuffer.isView(t)||t instanceof ArrayBuffer}function isBlob$1(t){return!!t.constructor&&(t.constructor.name==="Blob"||t.constructor.name==="File")&&typeof t.stream=="function"}function isSingle(t){return typeof t=="string"||t instanceof String||isBytes(t)||isBlob$1(t)||"_readableState"in t}function getNormaliser(t){return isSingle(t)?normaliseInput$1(t):normaliseInput(t)}const drain=async t=>{for await(const e of t);};var itDrain=drain;const drain$1=getDefaultExportFromCjs(itDrain),filter=async function*(t,e){for await(const r of t)await e(r)&&(yield r)};var itFilter=filter;const filter$1=getDefaultExportFromCjs(itFilter),take=async function*(t,e){let r=0;if(!(e<1)){for await(const n of t)if(yield n,r++,r===e)return}};var itTake=take;const take$1=getDefaultExportFromCjs(itTake),all=async t=>{const e=[];for await(const r of t)e.push(r);return e};var itAll=all;const all$1=getDefaultExportFromCjs(itAll),sortAll=(t,e)=>async function*(){yield*(await all$1(t)).sort(e)}();class BaseBlockstore{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,r,n){return Promise.reject(new Error(".put is not implemented"))}get(e,r){return Promise.reject(new Error(".get is not implemented"))}has(e,r){return Promise.reject(new Error(".has is not implemented"))}delete(e,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,r={}){for await(const{key:n,value:o}of e)await this.put(n,o,r),yield{key:n,value:o}}async*getMany(e,r={}){for await(const n of e)yield this.get(n,r)}async*deleteMany(e,r={}){for await(const n of e)await this.delete(n,r),yield n}batch(){let e=[],r=[];return{put(n,o){e.push({key:n,value:o})},delete(n){r.push(n)},commit:async n=>{await drain$1(this.putMany(e,n)),e=[],await drain$1(this.deleteMany(r,n)),r=[]}}}async*_all(e,r){throw new Error("._all is not implemented")}async*_allKeys(e,r){throw new Error("._allKeys is not implemented")}query(e,r){let n=this._all(e,r);if(e.prefix!=null&&(n=filter$1(n,o=>o.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((o,s)=>filter$1(o,s),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((o,s)=>sortAll(o,s),n)),e.offset!=null){let o=0;n=filter$1(n,()=>o++>=(e.offset||0))}return e.limit!=null&&(n=take$1(n,e.limit)),n}queryKeys(e,r){let n=this._allKeys(e,r);if(e.prefix!=null&&(n=filter$1(n,o=>o.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((o,s)=>filter$1(o,s),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((o,s)=>sortAll(o,s),n)),e.offset!=null){let o=0;n=filter$1(n,()=>o++>=e.offset)}return e.limit!=null&&(n=take$1(n,e.limit)),n}}function base$1(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src$1=base$1,_brrp__multiformats_scope_baseX$1=src$1;const coerce$1=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$1=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$1(this,e)}},ComposedDecoder$1=class{constructor(e){this.decoders=e}or(e){return or$1(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$1=(t,e)=>new ComposedDecoder$1({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Codec$1=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder$1(e,r,n),this.decoder=new Decoder$1(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$2=({name:t,prefix:e,encode:r,decode:n})=>new Codec$1(t,e,r,n),baseX$1=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX$1(r,e);return from$2({prefix:t,name:e,encode:n,decode:s=>coerce$1(o(s))})},decode$6=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$5=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648$1=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$2({prefix:e,name:t,encode(o){return encode$5(o,n,r)},decode(o){return decode$6(o,n,r,t)}});rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});class MemoryBlockStore extends BaseBlockstore{constructor(){super(),this.store=new Map}async*blocks(){for(const[e,r]of this.store.entries())yield{cid:CID$1.parse(e),bytes:r}}put(e,r){return this.store.set(e.toString(),r),Promise.resolve()}get(e){const r=this.store.get(e.toString());if(!r)throw new Error(`block with cid ${e.toString()} no found`);return Promise.resolve(r)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}const unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256$1,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function pack({input:t,blockstore:e,hasher:r,maxChunkSize:n,maxChildrenPerNode:o,wrapWithDirectory:s,rawLeaves:a}){if(!t||Array.isArray(t)&&!t.length)throw new Error("missing input file(s)");const u=e||new MemoryBlockStore,c=await last$1(pipe$1(getNormaliser(t),b=>importer(b,u,{...unixfsImporterOptionsDefault,hasher:r||unixfsImporterOptionsDefault.hasher,maxChunkSize:n||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:o||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:s===!1?!1:unixfsImporterOptionsDefault.wrapWithDirectory,rawLeaves:a??unixfsImporterOptionsDefault.rawLeaves})));if(!c||!c.cid)throw new Error("given input could not be parsed correctly");const h=c.cid,{writer:d,out:m}=await CarWriter.create([h]),v=m[Symbol.asyncIterator]();let B;const $=async()=>{for await(const b of u.blocks())await d.put(b);await d.close(),e||await u.close()},p={[Symbol.asyncIterator](){if(B!=null)throw new Error("Multiple iterator not supported");return B=$(),{async next(){const b=await v.next();return b.done&&await B,b}}}};return{root:h,out:p}}var encode_1=encode$4,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$4(t,e,r){e=e||[],r=r||0;for(var n=r;t>=INT;)e[r++]=t&255|MSB,t/=128;for(;t&MSBALL;)e[r++]=t&255|MSB,t>>>=7;return e[r]=t|0,encode$4.bytes=r-n+1,e}var decode$5=read,MSB$1=128,REST$1=127;function read(t,n){var r=0,n=n||0,o=0,s=n,a,u=t.length;do{if(s>=u)throw read.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=o<28?(a&REST$1)<<o:(a&REST$1)*Math.pow(2,o),o+=7}while(a>=MSB$1);return read.bytes=s-n,r}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(t){return t<N1?1:t<N2?2:t<N3?3:t<N4?4:t<N5?5:t<N6?6:t<N7?7:t<N8?8:t<N9?9:10},varint={encode:encode_1,decode:decode$5,encodingLength:length},_brrp_varint=varint;const decode$4=(t,e=0)=>[_brrp_varint.decode(t,e),_brrp_varint.decode.bytes],encodeTo=(t,e,r=0)=>(_brrp_varint.encode(t,e,r),e),encodingLength=t=>_brrp_varint.encodingLength(t),equals$1=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},coerce=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},create$1=(t,e)=>{const r=e.byteLength,n=encodingLength(t),o=n+encodingLength(r),s=new Uint8Array(o+r);return encodeTo(t,s,0),encodeTo(r,s,n),s.set(e,o),new Digest(t,r,e,s)},decode$3=t=>{const e=coerce(t),[r,n]=decode$4(e),[o,s]=decode$4(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==o)throw new Error("Incorrect length");return new Digest(r,o,a,e)},equals=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&equals$1(t.bytes,e.bytes);class Digest{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}}function base(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var u=t.length,c=t.charAt(0),h=Math.log(u)/Math.log(256),d=Math.log(256)/Math.log(u);function m($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var p=0,b=0,w=0,A=$.length;w!==A&&$[w]===0;)w++,p++;for(var T=(A-w)*d+1>>>0,E=new Uint8Array(T);w!==A;){for(var D=$[w],S=0,_=T-1;(D!==0||S<b)&&_!==-1;_--,S++)D+=256*E[_]>>>0,E[_]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");b=S,w++}for(var C=T-b;C!==T&&E[C]===0;)C++;for(var I=c.repeat(p);C<T;++C)I+=t.charAt(E[C]);return I}function v($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;var p=0;if($[p]!==" "){for(var b=0,w=0;$[p]===c;)b++,p++;for(var A=($.length-p)*h+1>>>0,T=new Uint8Array(A);$[p];){var E=r[$.charCodeAt(p)];if(E===255)return;for(var D=0,S=A-1;(E!==0||D<w)&&S!==-1;S--,D++)E+=u*T[S]>>>0,T[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=D,p++}if($[p]!==" "){for(var _=A-w;_!==A&&T[_]===0;)_++;for(var C=new Uint8Array(b+(A-_)),I=b;_!==A;)C[I++]=T[_++];return C}}}function B($){var p=v($);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:v,decode:B}}var src=base,_brrp__multiformats_scope_baseX=src;class Encoder{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or(this,e)}}class ComposedDecoder{constructor(e){this.decoders=e}or(e){return or(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(t,e)=>new ComposedDecoder({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Codec{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(e,r,n),this.decoder=new Decoder(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const from$1=({name:t,prefix:e,encode:r,decode:n})=>new Codec(t,e,r,n),baseX=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(r,e);return from$1({prefix:t,name:e,encode:n,decode:s=>coerce(o(s))})},decode$2=(t,e,r,n)=>{const o={};for(let d=0;d<e.length;++d)o[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let u=0,c=0,h=0;for(let d=0;d<s;++d){const m=o[t[d]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,u+=r,u>=8&&(u-=8,a[h++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a},encode$3=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let s="",a=0,u=0;for(let c=0;c<t.length;++c)for(u=u<<8|t[c],a+=8;a>r;)a-=r,s+=e[o&u>>a];if(a&&(s+=e[o&u<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$1({prefix:e,name:t,encode(o){return encode$3(o,n,r)},decode(o){return decode$2(o,n,r,t)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class CID{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=create$1(e,r);return CID.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&equals(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(r,o,e||base58btc.encoder);default:return toStringV1(r,o,e||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(e&&(e[cidSymbol]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof CID)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:o,bytes:s}=e;return new CID(r,n,o,s||encodeCID(r,n,o.bytes))}else if(e!=null&&e[cidSymbol]===!0){const{version:r,multihash:n,code:o}=e,s=decode$3(n);return CID.create(r,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(e,r,n,n.bytes)}case 1:{const o=encodeCID(e,r,n.bytes);return new CID(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return CID.create(0,DAG_PB_CODE,e)}static createV1(e,r){return CID.create(1,e,r)}static decode(e){const[r,n]=CID.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=CID.inspectBytes(e),n=r.size-r.multihashSize,o=coerce(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),a=new Digest(r.multihashCode,r.digestSize,s,o);return[r.version===0?CID.createV0(a):CID.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[m,v]=decode$4(e.subarray(r));return r+=v,m};let o=n(),s=DAG_PB_CODE;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=r,u=n(),c=n(),h=r+c,d=h-a;return{version:o,codec:s,multihashCode:u,digestSize:c,multihashSize:d,size:h}}static parse(e,r){const[n,o]=parseCIDtoBytes(e,r),s=CID.decode(o);return s._baseCache.set(n,e),s}}const parseCIDtoBytes=(t,e)=>{switch(t[0]){case"Q":{const r=e||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${t}`)]}case base58btc.prefix:{const r=e||base58btc;return[base58btc.prefix,r.decode(t)]}case base32.prefix:{const r=e||base32;return[base32.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},toStringV0=(t,e,r)=>{const{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const s=r.encode(t).slice(1);return e.set(n,s),s}else return o},toStringV1=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const s=r.encode(t);return e.set(n,s),s}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(t,e,r)=>{const n=encodingLength(t),o=n+encodingLength(e),s=new Uint8Array(o+r.byteLength);return encodeTo(t,s,0),encodeTo(e,s,n),s.set(r,o),s},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(t,e)=>{if(t.test(version))console.warn(e);else throw new Error(e)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var throttledQueue$1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(n,o,s){s===void 0&&(s=!1),s&&(o=o/n,n=1);var a=[],u=0,c=0,h,d=function(){var m=u+o,v=Date.now();if(v<m){h!==void 0&&clearTimeout(h),h=setTimeout(d,m-v);return}u=v,c=0;for(var B=0,$=a.splice(0,n);B<$.length;B++){var p=$[B];c++,p()}a.length?h=setTimeout(d,o):h=void 0};return function(m){return new Promise(function(v,B){var $=function(){return Promise.resolve().then(m).then(v).catch(B)},p=Date.now();h===void 0&&p-u>o&&(u=p,c=0),c++<n?$():(a.push($),h===void 0&&(h=setTimeout(d,u+o-p)))})}}t.exports=r,e.default=r})(throttledQueue$1,throttledQueue$1.exports);var throttledQueueExports=throttledQueue$1.exports;const throttledQueue=getDefaultExportFromCjs(throttledQueueExports),from=({name:t,code:e,encode:r})=>new Hasher(t,e,r);class Hasher{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?create$1(this.code,r):r.then(n=>create$1(this.code,n))}else throw Error("Unknown type, must be binary type")}}const readonly=({enumerable:t=!0,configurable:e=!1}={})=>({enumerable:t,configurable:e,writable:!1}),links=function*(t,e){if(t!=null&&!(t instanceof Uint8Array))for(const[r,n]of Object.entries(t)){const o=[...e,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[s,a]of n.entries()){const u=[...o,s],c=CID.asCID(a);c?yield[u.join("/"),c]:typeof a=="object"&&(yield*links(a,u))}else{const s=CID.asCID(n);s?yield[o.join("/"),s]:yield*links(n,o)}}},tree=function*(t,e){if(t!=null)for(const[r,n]of Object.entries(t)){const o=[...e,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID.asCID(n))if(Array.isArray(n))for(const[s,a]of n.entries()){const u=[...o,s];yield u.join("/"),typeof a=="object"&&!CID.asCID(a)&&(yield*tree(a,u))}else yield*tree(n,o)}},get=(t,e)=>{let r=t;for(const[n,o]of e.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);const s=CID.asCID(r);if(s)return{value:s,remaining:e.slice(n+1).join("/")}}return{value:r}};class Block{constructor({cid:e,bytes:r,value:n}){if(!e||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(e="/"){return get(this.value,e.split("/").filter(Boolean))}}const encode$2=async({value:t,codec:e,hasher:r})=>{if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");const n=e.encode(t),o=await r.digest(n),s=CID.create(1,e.code,o);return new Block({value:t,bytes:n,cid:s})},sha=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";const e=typeof t;if(typeofs.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(isBuffer$2(t))return"Buffer";const r=getObjectType(t);return r||"Object"}function isBuffer$2(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function getObjectType(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(objectTypeNames.includes(e))return e}class Type{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);let Token$1=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder=new TextDecoder,textEncoder=new TextEncoder;function isBuffer$1(t){return useBuffer&&globalThis.Buffer.isBuffer(t)}function asU8A(t){return t instanceof Uint8Array?isBuffer$1(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const toString$2=useBuffer?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):utf8Slice(t,e,r):(t,e,r)=>r-e>64?textDecoder.decode(t.subarray(e,r)):utf8Slice(t,e,r),fromString=useBuffer?t=>t.length>64?globalThis.Buffer.from(t):utf8ToBytes(t):t=>t.length>64?textEncoder.encode(t):utf8ToBytes(t),fromArray=t=>Uint8Array.from(t),slice=useBuffer?(t,e,r)=>isBuffer$1(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),concat=useBuffer?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A(globalThis.Buffer.concat(t,e))):(t,e)=>{const r=new Uint8Array(e);let n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc=useBuffer?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function compare(t,e){if(isBuffer$1(t)&&isBuffer$1(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function utf8ToBytes(t,e=1/0){let r;const n=t.length;let o=null;const s=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function utf8Slice(t,e,r){const n=[];for(;e<r;){const o=t[e];let s=null,a=o>239?4:o>223?3:o>191?2:1;if(e+a<=r){let u,c,h,d;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[e+1],(u&192)===128&&(d=(o&31)<<6|u&63,d>127&&(s=d));break;case 3:u=t[e+1],c=t[e+2],(u&192)===128&&(c&192)===128&&(d=(o&15)<<12|(u&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:u=t[e+1],c=t[e+2],h=t[e+3],(u&192)===128&&(c&192)===128&&(h&192)===128&&(d=(o&15)<<18|(u&63)<<12|(c&63)<<6|h&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),e+=a}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(t){const e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}const defaultChunkSize=256;class Bl{constructor(e=defaultChunkSize){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice(n,0,this.cursor)}else r=concat(this.chunks,this.cursor);return e&&this.reset(),r}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(t,e,r){if(t.length-e<r)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(t,e,r){assertEnoughData(t,e,1);const n=t[e];if(r.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(t,e,r){assertEnoughData(t,e,2);const n=t[e]<<8|t[e+1];if(r.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(t,e,r){assertEnoughData(t,e,4);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(t,e,r){assertEnoughData(t,e,8);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(t,e,r,n){return new Token$1(Type.uint,readUint8(t,e+1,n),2)}function decodeUint16(t,e,r,n){return new Token$1(Type.uint,readUint16(t,e+1,n),3)}function decodeUint32(t,e,r,n){return new Token$1(Type.uint,readUint32(t,e+1,n),5)}function decodeUint64(t,e,r,n){return new Token$1(Type.uint,readUint64(t,e+1,n),9)}function encodeUint(t,e){return encodeUintValue(t,0,e.value)}function encodeUintValue(t,e,r){if(r<uintBoundaries[0]){const n=Number(r);t.push([e|n])}else if(r<uintBoundaries[1]){const n=Number(r);t.push([e|24,n])}else if(r<uintBoundaries[2]){const n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<uintBoundaries[3]){const n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries[4]){const o=[e|27,0,0,0,0,0,0,0];let s=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,t.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};encodeUintValue.encodedSize=function t(e){return e<uintBoundaries[0]?1:e<uintBoundaries[1]?2:e<uintBoundaries[2]?3:e<uintBoundaries[3]?5:9};encodeUint.compareTokens=function t(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function decodeNegint8(t,e,r,n){return new Token$1(Type.negint,-1-readUint8(t,e+1,n),2)}function decodeNegint16(t,e,r,n){return new Token$1(Type.negint,-1-readUint16(t,e+1,n),3)}function decodeNegint32(t,e,r,n){return new Token$1(Type.negint,-1-readUint32(t,e+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o!="bigint"){const s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new Token$1(Type.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token$1(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(t,e){const r=e.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;encodeUintValue(t,e.type.majorEncoded,n)}encodeNegint.encodedSize=function t(e){const r=e.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function t(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function toToken$3(t,e,r,n){assertEnoughData(t,e,r+n);const o=slice(t,e+r,e+r+n);return new Token$1(Type.bytes,o,r+n)}function decodeBytesCompact(t,e,r,n){return toToken$3(t,e,1,r)}function decodeBytes8(t,e,r,n){return toToken$3(t,e,2,readUint8(t,e+1,n))}function decodeBytes16(t,e,r,n){return toToken$3(t,e,3,readUint16(t,e+1,n))}function decodeBytes32(t,e,r,n){return toToken$3(t,e,5,readUint32(t,e+1,n))}function decodeBytes64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(t,e,9,o)}function tokenBytes(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Type.string?fromString(t.value):t.value),t.encodedBytes}function encodeBytes(t,e){const r=tokenBytes(e);encodeUintValue(t,e.type.majorEncoded,r.length),t.push(r)}encodeBytes.encodedSize=function t(e){const r=tokenBytes(e);return encodeUintValue.encodedSize(r.length)+r.length};encodeBytes.compareTokens=function t(e,r){return compareBytes(tokenBytes(e),tokenBytes(r))};function compareBytes(t,e){return t.length<e.length?-1:t.length>e.length?1:compare(t,e)}function toToken$2(t,e,r,n,o){const s=r+n;assertEnoughData(t,e,s);const a=new Token$1(Type.string,toString$2(t,e+r,e+s),s);return o.retainStringBytes===!0&&(a.byteValue=slice(t,e+r,e+s)),a}function decodeStringCompact(t,e,r,n){return toToken$2(t,e,1,r,n)}function decodeString8(t,e,r,n){return toToken$2(t,e,2,readUint8(t,e+1,n),n)}function decodeString16(t,e,r,n){return toToken$2(t,e,3,readUint16(t,e+1,n),n)}function decodeString32(t,e,r,n){return toToken$2(t,e,5,readUint32(t,e+1,n),n)}function decodeString64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(t,e,9,o,n)}const encodeString=encodeBytes;function toToken$1(t,e,r,n){return new Token$1(Type.array,n,r)}function decodeArrayCompact(t,e,r,n){return toToken$1(t,e,1,r)}function decodeArray8(t,e,r,n){return toToken$1(t,e,2,readUint8(t,e+1,n))}function decodeArray16(t,e,r,n){return toToken$1(t,e,3,readUint16(t,e+1,n))}function decodeArray32(t,e,r,n){return toToken$1(t,e,5,readUint32(t,e+1,n))}function decodeArray64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(t,e,9,o)}function decodeArrayIndefinite(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(t,e,1,1/0)}function encodeArray(t,e){encodeUintValue(t,Type.array.majorEncoded,e.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};function toToken(t,e,r,n){return new Token$1(Type.map,n,r)}function decodeMapCompact(t,e,r,n){return toToken(t,e,1,r)}function decodeMap8(t,e,r,n){return toToken(t,e,2,readUint8(t,e+1,n))}function decodeMap16(t,e,r,n){return toToken(t,e,3,readUint16(t,e+1,n))}function decodeMap32(t,e,r,n){return toToken(t,e,5,readUint32(t,e+1,n))}function decodeMap64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(t,e,9,o)}function decodeMapIndefinite(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(t,e,1,1/0)}function encodeMap(t,e){encodeUintValue(t,Type.map.majorEncoded,e.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};function decodeTagCompact(t,e,r,n){return new Token$1(Type.tag,r,1)}function decodeTag8(t,e,r,n){return new Token$1(Type.tag,readUint8(t,e+1,n),2)}function decodeTag16(t,e,r,n){return new Token$1(Type.tag,readUint16(t,e+1,n),3)}function decodeTag32(t,e,r,n){return new Token$1(Type.tag,readUint32(t,e+1,n),5)}function decodeTag64(t,e,r,n){return new Token$1(Type.tag,readUint64(t,e+1,n),9)}function encodeTag(t,e){encodeUintValue(t,Type.tag.majorEncoded,e.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token$1(Type.null,null,1):new Token$1(Type.undefined,void 0,1)}function decodeBreak(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token$1(Type.break,void 0,1)}function createToken(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token$1(Type.float,t,e)}function decodeFloat16(t,e,r,n){return createToken(readFloat16(t,e+1),3,n)}function decodeFloat32(t,e,r,n){return createToken(readFloat32(t,e+1),5,n)}function decodeFloat64(t,e,r,n){return createToken(readFloat64(t,e+1),9,n)}function encodeFloat(t,e,r){const n=e.value;if(n===!1)t.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)t.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)t.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)t.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,s=!1;(!r||r.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,t.push(ui8a.slice(0,3)),s=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,t.push(ui8a.slice(0,5)),s=!0))),s||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,t.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function t(e,r){const n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16(n);let o=readFloat16(ui8a,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(t){if(t===1/0)dataView.setUint16(0,31744,!1);else if(t===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(t))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,t);const e=dataView.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)dataView.setUint16(0,31744,!1);else if(r===0)dataView.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(t,e){if(t.length-e<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function encodeFloat32(t){dataView.setFloat32(0,t,!1)}function readFloat32(t,e){if(t.length-e<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(t){dataView.setFloat64(0,t,!1)}function readFloat64(t,e){if(t.length-e<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(t,e,r){throw new Error(`${decodeErrPrefix} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function errorer(t){return()=>{throw new Error(`${decodeErrPrefix} ${t}`)}}const jump=[];for(let t=0;t<=23;t++)jump[t]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let t=32;t<=55;t++)jump[t]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let t=64;t<=87;t++)jump[t]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)jump[t]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)jump[t]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let t=160;t<=183;t++)jump[t]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let t=192;t<=215;t++)jump[t]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let t=224;t<=243;t++)jump[t]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let t=0;t<24;t++)quick[t]=new Token$1(Type.uint,t,1);for(let t=-1;t>=-24;t--)quick[31-t]=new Token$1(Type.negint,t,1);quick[64]=new Token$1(Type.bytes,new Uint8Array(0),1);quick[96]=new Token$1(Type.string,"",1);quick[128]=new Token$1(Type.array,0,1);quick[160]=new Token$1(Type.map,0,1);quick[244]=new Token$1(Type.false,!1,1);quick[245]=new Token$1(Type.true,!0,1);quick[246]=new Token$1(Type.null,null,1);function quickEncodeToken(t){switch(t.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return t.value.length?void 0:fromArray([64]);case Type.string:return t.value===""?fromArray([96]):void 0;case Type.array:return t.value===0?fromArray([128]):void 0;case Type.map:return t.value===0?fromArray([160]):void 0;case Type.uint:return t.value<24?fromArray([Number(t.value)]):void 0;case Type.negint:if(t.value>=-24)return fromArray([31-Number(t.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){const t=[];return t[Type.uint.major]=encodeUint,t[Type.negint.major]=encodeNegint,t[Type.bytes.major]=encodeBytes,t[Type.string.major]=encodeString,t[Type.array.major]=encodeArray,t[Type.map.major]=encodeMap,t[Type.tag.major]=encodeTag,t[Type.float.major]=encodeFloat,t}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(r,e)}}const simpleTokens={null:new Token$1(Type.null,null),undefined:new Token$1(Type.undefined,void 0),true:new Token$1(Type.true,!0),false:new Token$1(Type.false,!1),emptyArray:new Token$1(Type.array,0),emptyMap:new Token$1(Type.map,0)},typeEncoders={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Token$1(Type.float,t):t>=0?new Token$1(Type.uint,t):new Token$1(Type.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new Token$1(Type.uint,t):new Token$1(Type.negint,t)},Uint8Array(t,e,r,n){return new Token$1(Type.bytes,t)},string(t,e,r,n){return new Token$1(Type.string,t)},boolean(t,e,r,n){return t?simpleTokens.true:simpleTokens.false},null(t,e,r,n){return simpleTokens.null},undefined(t,e,r,n){return simpleTokens.undefined},ArrayBuffer(t,e,r,n){return new Token$1(Type.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new Token$1(Type.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[simpleTokens.emptyArray,new Token$1(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,t);const o=[];let s=0;for(const a of t)o[s++]=objectToTokens(a,r,n);return r.addBreakTokens?[new Token$1(Type.array,t.length),o,new Token$1(Type.break)]:[new Token$1(Type.array,t.length),o]},Object(t,e,r,n){const o=e!=="Object",s=o?t.keys():Object.keys(t),a=o?t.size:s.length;if(!a)return r.addBreakTokens===!0?[simpleTokens.emptyMap,new Token$1(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,t);const u=[];let c=0;for(const h of s)u[c++]=[objectToTokens(h,r,n),objectToTokens(o?t.get(h):t[h],r,n)];return sortMapEntries(u,r),r.addBreakTokens?[new Token$1(Type.map,a),u,new Token$1(Type.break)]:[new Token$1(Type.map,a),u]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${t}Array`]=typeEncoders.DataView;function objectToTokens(t,e={},r){const n=is(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const a=o(t,n,e,r);if(a!=null)return a}const s=typeEncoders[n];if(!s)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return s(t,n,e,r)}function sortMapEntries(t,e){e.mapSorter&&t.sort(e.mapSorter)}function mapSorter(t,e){const r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,s=cborEncoders[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function tokensToEncoded(t,e,r,n){if(Array.isArray(e))for(const o of e)tokensToEncoded(t,o,r,n);else r[e.type.major](t,e,n)}function encodeCustom(t,e,r){const n=objectToTokens(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const s=e[n.type.major];if(s.encodedSize){const a=s.encodedSize(n,r),u=new Bl(a);if(s(u,n,r),u.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(u.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,e,r),buf.toBytes(!0)}function encode$1(t,e){return e=Object.assign({},defaultEncodeOptions,e),encodeCustom(t,cborEncoders,e)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let r=quick[e];if(r===void 0){const n=jump[e];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=e&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(t,e,r){const n=[];for(let o=0;o<t.value;o++){const s=tokensToObject(e,r);if(s===BREAK){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(s===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${t.value})`);n[o]=s}return n}function tokenToMap(t,e,r){const n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let a=0;a<t.value;a++){const u=tokensToObject(e,r);if(u===BREAK){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(u===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${a} [no key], expected ${t.value})`);if(n!==!0&&typeof u!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof u})`);if(r.rejectDuplicateMapKeys===!0&&(n&&s.has(u)||!n&&u in o))throw new Error(`${decodeErrPrefix} found repeat map key "${u}"`);const c=tokensToObject(e,r);if(c===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${a} [no value], expected ${t.value})`);n?s.set(u,c):o[u]=c}return n?s:o}function tokensToObject(t,e){if(t.done())return DONE;const r=t.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,t,e);if(r.type===Type.map)return tokenToMap(r,t,e);if(r.type===Type.tag){if(e.tags&&typeof e.tags[r.value]=="function"){const n=tokensToObject(t,e);return e.tags[r.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$1(t,e){if(!(t instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);e=Object.assign({},defaultDecodeOptions,e);const r=e.tokenizer||new Tokeniser(t,e),n=tokensToObject(r,e);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG=42;function cidEncoder(t){if(t.asCID!==t)return null;const e=CID.asCID(t);if(!e)return null;const r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Token$1(Type.tag,CID_CBOR_TAG),new Token$1(Type.bytes,r)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(t.subarray(1))}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name="dag-cbor",code=113,encode=t=>encode$1(t,encodeOptions),decode=t=>decode$1(t,decodeOptions),dagCbor=Object.freeze(Object.defineProperty({__proto__:null,code,decode,encode,name},Symbol.toStringTag,{value:"Module"})),fetch=globalThis.fetch,Blob$1=globalThis.Blob,Blockstore=MemoryBlockStore,GATEWAY=new URL("https://nftstorage.link/"),toGatewayURL=(t,e={})=>{const r=e.gateway||GATEWAY;return t=new URL(String(t)),t.protocol==="ipfs:"?new URL(`/ipfs/${t.href.slice(7)}`,r):t};class BlockstoreCarReader{constructor(e,r,n){this._version=e,this._roots=r,this._blockstore=n}get version(){return this._version}get blockstore(){return this._blockstore}async getRoots(){return this._roots}has(e){return this._blockstore.has(e)}async get(e){const r=await this._blockstore.get(e);return{cid:e,bytes:r}}blocks(){return this._blockstore.blocks()}async*cids(){for await(const e of this.blocks())yield e.cid}}class Token{constructor(e,r,n){this.ipnft=e,this.url=r,this.data=n,Object.defineProperties(this,{ipnft:{enumerable:!0,writable:!1},url:{enumerable:!0,writable:!1},data:{enumerable:!1,writable:!1}})}embed(){return Token.embed(this)}static embed({data:e}){return embed(e,{gateway:GATEWAY})}static async encode(e){var h,d;const r=new Blockstore,[n,o]=mapTokenInputBlobs(e),s=JSON.parse(JSON.stringify(o)),a=JSON.parse(JSON.stringify(o));for(const[m,v]of n.entries()){const B=v.name||"blob";let $;parseInt((d=(h=globalThis.process)==null?void 0:h.versions)==null?void 0:d.node)>18?$=new Uint8Array(await v.arrayBuffer()):$=v.stream();const{root:p}=await pack({input:[{path:B,content:$}],blockstore:r,wrapWithDirectory:!0}),b=new URL(`ipfs://${p}/${B}`),w=m.split(".");setIn(s,w,b),setIn(a,w,p)}const{root:u}=await pack({input:[{path:"metadata.json",content:JSON.stringify(s)}],blockstore:r,wrapWithDirectory:!1}),c=await encode$2({value:{...a,"metadata.json":u,type:"nft"},codec:dagCbor,hasher:sha256});return await r.put(c.cid,c.bytes),{cid:c.cid,token:new Token(c.cid.toString(),`ipfs://${c.cid}/metadata.json`,s),car:new BlockstoreCarReader(1,[c.cid],r)}}}const embed=(t,e)=>mapWith(t,isURL,embedURL,e),isURL=t=>t instanceof URL,embedURL=(t,e)=>[t,toGatewayURL(e,t)],isObject$2=t=>typeof t=="object"&&t!=null,encodeBlob=(t,e,r)=>(t.set(r.join("."),e),[t,void 0]),isBlob=t=>t instanceof Blob$1,mapTokenInputBlobs=t=>mapValueWith(t,isBlob,encodeBlob,new Map,[]),mapWith=(t,e,r,n)=>{const[,o]=mapValueWith(t,e,r,n,[]);return o},mapValueWith=(t,e,r,n,o)=>e(t,n,o)?r(n,t,o):Array.isArray(t)?mapArrayWith(t,e,r,n,o):isObject$2(t)?mapObjectWith(t,e,r,n,o):[n,t],mapObjectWith=(t,e,r,n,o)=>{let s=n;const a={};for(const[u,c]of Object.entries(t)){const[h,d]=mapValueWith(c,e,r,s,[...o,u]);a[u]=d,s=h}return[s,a]},mapArrayWith=(t,e,r,n,o)=>{const s=[];let a=n;for(const[u,c]of t.entries()){const[h,d]=mapValueWith(c,e,r,a,[...o,u]);s[u]=d,a=h}return[a,s]},setIn=(t,e,r)=>{const n=e.length-1;let o=t;for(let[s,a]of e.entries())s===n?o[a]=r:o=o[a]},MAX_STORE_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,MAX_CHUNK_SIZE=1024*1024*50,RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=10*1e3;function createRateLimiter(){const t=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return()=>t(()=>{})}const globalRateLimiter=createRateLimiter();class NFTStorage{constructor({token:e,did:r,endpoint:n=new URL("https://api.nft.storage"),rateLimiter:o}){this.token=e,this.endpoint=n,this.rateLimiter=o||createRateLimiter(),this.did=r}static auth({token:e,did:r}){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"nft.storage/js",...r?{"x-agent-did":r}:{}}}static async storeBlob(e,r,n){const o=new Blockstore;let s;try{const{cid:a,car:u}=await NFTStorage.encodeBlob(r,{blockstore:o});await NFTStorage.storeCar(e,u,n),s=a.toString()}finally{await o.close()}return s}static async storeCar({endpoint:e,rateLimiter:r=globalRateLimiter,...n},o,{onStoredChunk:s,maxRetries:a,maxChunkSize:u,decoders:c,signal:h}={}){const d=new URL("upload/",e),m={...NFTStorage.auth(n),"Content-Type":"application/car"},v=u||MAX_CHUNK_SIZE,B=o instanceof Blob$1?await TreewalkCarSplitter.fromBlob(o,v,{decoders:c}):new TreewalkCarSplitter(o,v,{decoders:c}),$=transform$1(MAX_CONCURRENT_UPLOADS,async function(b){var D,S;const w=[];for await(const _ of b)w.push(_);const A=new Blob$1(w,{type:"application/car"});let T=A;parseInt((S=(D=globalThis.process)==null?void 0:D.versions)==null?void 0:S.node)>18&&(T=await T.arrayBuffer());const E=await pRetry$1(async()=>{await r();let _;try{_=await fetch(d.toString(),{method:"POST",headers:m,body:T,signal:h})}catch(I){throw h&&h.aborted?new AbortError_1(I):I}if(_.status===429)throw new Error("rate limited");const C=await _.json();if(!C.ok)throw _.status===401?new AbortError_1(C.error.message):new Error(C.error.message);return C.value.cid},{retries:a??MAX_STORE_RETRIES});return s&&s(A.size),E});let p;for await(const b of $(B.cars()))p=b;return p}static async storeDirectory(e,r,n){const o=new Blockstore;let s;try{const{cid:a,car:u}=await NFTStorage.encodeDirectory(r,{blockstore:o});await NFTStorage.storeCar(e,u,n),s=a.toString()}finally{await o.close()}return s}static async store(e,r,n){const{token:o,car:s}=await NFTStorage.encodeNFT(r);return await NFTStorage.storeCar(e,s,n),o}static async status({endpoint:e,rateLimiter:r=globalRateLimiter,...n},o,s){const a=new URL(`${o}/`,e);await r();const u=await fetch(a.toString(),{method:"GET",headers:NFTStorage.auth(n),signal:s&&s.signal});if(u.status===429)throw new Error("rate limited");const c=await u.json();if(c.ok)return{cid:c.value.cid,deals:decodeDeals(c.value.deals),size:c.value.size,pin:decodePin(c.value.pin),created:new Date(c.value.created)};throw new Error(c.error.message)}static async check({endpoint:e,rateLimiter:r=globalRateLimiter},n,o){const s=new URL(`check/${n}/`,e);await r();const a=await fetch(s.toString(),{signal:o&&o.signal});if(a.status===429)throw new Error("rate limited");const u=await a.json();if(u.ok)return{cid:u.value.cid,deals:decodeDeals(u.value.deals),pin:u.value.pin};throw new Error(u.error.message)}static async delete({endpoint:e,rateLimiter:r=globalRateLimiter,...n},o,s){const a=new URL(`${o}/`,e);await r();const u=await fetch(a.toString(),{method:"DELETE",headers:NFTStorage.auth(n),signal:s&&s.signal});if(u.status===429)throw new Error("rate limited");const c=await u.json();if(!c.ok)throw new Error(c.error.message)}static async encodeNFT(e){return validateERC1155(e),Token.encode(e)}static async encodeBlob(e,{blockstore:r}={}){if(e.size===0)throw new Error("Content size is 0, make sure to provide some content");return packCar([toImportCandidate("blob",e)],{blockstore:r,wrapWithDirectory:!1})}static async encodeDirectory(e,{blockstore:r}={}){let n=0;const o=pipe$1(e,async function*(a){for await(const u of a)yield toImportCandidate(u.name,u),n+=u.size}),s=await packCar(o,{blockstore:r,wrapWithDirectory:!0});if(n===0)throw new Error("Total size of files should exceed 0, make sure to provide some content");return s}storeBlob(e,r){return NFTStorage.storeBlob(this,e,r)}storeCar(e,r){return NFTStorage.storeCar(this,e,r)}storeDirectory(e,r){return NFTStorage.storeDirectory(this,e,r)}status(e,r){return NFTStorage.status(this,e,r)}delete(e,r){return NFTStorage.delete(this,e,r)}check(e,r){return NFTStorage.check(this,e,r)}store(e,r){return NFTStorage.store(this,e,r)}}const validateERC1155=({name:t,description:e,image:r,decimals:n})=>{if(typeof t!="string")throw new TypeError("string property `name` identifying the asset is required");if(typeof e!="string")throw new TypeError("string property `description` describing asset is required");if(r instanceof Blob$1)r.type.startsWith("image/")||console.warn(`According to ERC721 Metadata JSON Schema 'image' must have 'image/*' mime type.

For better interoperability we would highly recommend storing content with different mime type under 'properties' namespace e.g. \`properties: { video: file }\` and using 'image' field for storing a preview image for it instead.

For more context please see ERC-721 specification https://eips.ethereum.org/EIPS/eip-721`);else throw new TypeError("property `image` must be a Blob or File object");if(typeof n<"u"&&typeof n!="number")throw new TypeError("property `decimals` must be an integer value")},packCar=async(t,{blockstore:e,wrapWithDirectory:r}={})=>{e=e||new Blockstore;const{root:n}=await pack({input:t,blockstore:e,wrapWithDirectory:r}),o=new BlockstoreCarReader(1,[n],e);return{cid:n,car:o}},decodeDeals=t=>t.map(e=>{const{dealActivation:r,dealExpiration:n,lastChanged:o}={dealExpiration:null,dealActivation:null,...e};return{...e,lastChanged:new Date(o),...r&&{dealActivation:new Date(r)},...n&&{dealExpiration:new Date(n)}}}),decodePin=t=>({...t,created:new Date(t.created)});function toImportCandidate(t,e){let r;return{path:t,get content(){return r=r||e.stream(),r}}}const NFT_STORAGE_API_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDgzN0ZjNDlFMjAxRjA1MDI2NWMwMkFjMTNmNUMxNDkwZmZiQjM4Y0YiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY5NTcyNzE1ODAzMSwibmFtZSI6Ikhhc0NoYWluIn0.wie03qXMRGqXjpyU-PP4g4ly6WzuEkRoFh7o2A1CXHs";async function storeAsset(t,e,r,n){const s=await new NFTStorage({token:NFT_STORAGE_API_KEY}).store({name:t,description:e,image:r});return console.log("Metadata stored on Filecoin and IPFS with URL:",s.url),s.url}var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange$1(t,e,r,n){for(var o=-1,s=nativeMax(nativeCeil((e-t)/(r||1)),0),a=Array(s);s--;)a[n?s:++o]=t,t+=r;return a}var _baseRange=baseRange$1,reWhitespace=/\s/;function trimmedEndIndex$1(t){for(var e=t.length;e--&&reWhitespace.test(t.charAt(e)););return e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(t){return t&&t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseGetTag$1=_baseGetTag,isObjectLike$1=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$2(t){return typeof t=="symbol"||isObjectLike$1(t)&&baseGetTag$1(t)==symbolTag$1}var isSymbol_1=isSymbol$2,baseTrim=_baseTrim,isObject$1=isObject_1,isSymbol$1=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(t){if(typeof t=="number")return t;if(isSymbol$1(t))return NAN;if(isObject$1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=isObject$1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=baseTrim(t);var r=reIsBinary.test(t);return r||reIsOctal.test(t)?freeParseInt(t.slice(2),r?2:8):reIsBadHex.test(t)?NAN:+t}var toNumber_1=toNumber$2,toNumber$1=toNumber_1,INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(t){if(!t)return t===0?t:0;if(t=toNumber$1(t),t===INFINITY$1||t===-INFINITY$1){var e=t<0?-1:1;return e*MAX_INTEGER}return t===t?t:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(t){return function(e,r,n){return n&&typeof n!="number"&&isIterateeCall(e,r,n)&&(r=n=void 0),e=toFinite$1(e),r===void 0?(r=e,e=0):r=toFinite$1(r),n=n===void 0?e<r?1:-1:toFinite$1(n),baseRange(e,r,n,t)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);var isProduction=!0;function warning(t,e){if(!isProduction){if(t)return;var r="Warning: "+e;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}var getDisplayName$1={};Object.defineProperty(getDisplayName$1,"__esModule",{value:!0});getDisplayName$1.default=getDisplayName;function getDisplayName(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function createThemeProvider(t){var e=function(r){_inheritsLoose(n,r);function n(){for(var s,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return s=r.call.apply(r,[this].concat(u))||this,_defineProperty(_assertThisInitialized(_assertThisInitialized(s)),"cachedTheme",void 0),_defineProperty(_assertThisInitialized(_assertThisInitialized(s)),"lastOuterTheme",void 0),_defineProperty(_assertThisInitialized(_assertThisInitialized(s)),"lastTheme",void 0),_defineProperty(_assertThisInitialized(_assertThisInitialized(s)),"renderProvider",function(h){var d=s.props.children;return React.createElement(t.Provider,{value:s.getTheme(h)},d)}),s}var o=n.prototype;return o.getTheme=function(a){if(this.props.theme!==this.lastTheme||a!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=a,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var u=this.props.theme;this.cachedTheme=u(a)}else{var c=this.props.theme;this.cachedTheme=a?_extends({},a,c):c}return this.cachedTheme},o.render=function(){var a=this.props.children;return a?React.createElement(t.Consumer,null,this.renderProvider):null},n}(React.Component);return e}function createWithTheme(t){return function(r){var n=React.forwardRef(function(o,s){return React.createElement(t.Consumer,null,function(a){return React.createElement(r,_extends({theme:a,ref:s},o))})});return hoistNonReactStatics(n,r),n}}function createUseTheme(t){var e=function(){var n=React.useContext(t);return n};return e}function createTheming(t){return{context:t,withTheme:createWithTheme(t),useTheme:createUseTheme(t),ThemeProvider:createThemeProvider(t)}}var ThemeContext=reactExports.createContext();createTheming(ThemeContext);var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},isBrowser=(typeof window>"u"?"undefined":_typeof(window))==="object"&&(typeof document>"u"?"undefined":_typeof(document))==="object"&&document.nodeType===9,plainObjectConstrurctor={}.constructor;function cloneStyle(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(cloneStyle);if(t.constructor!==plainObjectConstrurctor)return t;var e={};for(var r in t)e[r]=cloneStyle(t[r]);return e}function createRule(t,e,r){t===void 0&&(t="unnamed");var n=r.jss,o=cloneStyle(e),s=n.plugins.onCreateRule(t,o,r);return s||(t[0],null)}var join=function t(e,r){for(var n="",o=0;o<e.length&&e[o]!=="!important";o++)n&&(n+=r),n+=e[o];return n},toCssValue=function t(e){if(!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&e[n]!=="!important";n++)r&&(r+=", "),r+=join(e[n]," ");else r=join(e,", ");return e[e.length-1]==="!important"&&(r+=" !important"),r};function getWhitespaceSymbols(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function indentStr(t,e){for(var r="",n=0;n<e;n++)r+="  ";return r+t}function toCss(t,e,r){r===void 0&&(r={});var n="";if(!e)return n;var o=r,s=o.indent,a=s===void 0?0:s,u=e.fallbacks;r.format===!1&&(a=-1/0);var c=getWhitespaceSymbols(r),h=c.linebreak,d=c.space;if(t&&a++,u)if(Array.isArray(u))for(var m=0;m<u.length;m++){var v=u[m];for(var B in v){var $=v[B];$!=null&&(n&&(n+=h),n+=indentStr(B+":"+d+toCssValue($)+";",a))}}else for(var p in u){var b=u[p];b!=null&&(n&&(n+=h),n+=indentStr(p+":"+d+toCssValue(b)+";",a))}for(var w in e){var A=e[w];A!=null&&w!=="fallbacks"&&(n&&(n+=h),n+=indentStr(w+":"+d+toCssValue(A)+";",a))}return!n&&!r.allowEmpty||!t?n:(a--,n&&(n=""+h+n+h),indentStr(""+t+d+"{"+n,a)+indentStr("}",a))}var escapeRegex=/([[\].#*$><+~=|^:(),"'`\s])/g,nativeEscape=typeof CSS<"u"&&CSS.escape,escape=function(t){return nativeEscape?nativeEscape(t):t.replace(escapeRegex,"\\$1")},BaseStyleRule=function(){function t(r,n,o){this.type="style",this.isProcessed=!1;var s=o.sheet,a=o.Renderer;this.key=r,this.options=o,this.style=n,s?this.renderer=s.renderer:a&&(this.renderer=new a)}var e=t.prototype;return e.prop=function(n,o,s){if(o===void 0)return this.style[n];var a=s?s.force:!1;if(!a&&this.style[n]===o)return this;var u=o;(!s||s.process!==!1)&&(u=this.options.jss.plugins.onChangeValue(o,n,this));var c=u==null||u===!1,h=n in this.style;if(c&&!h&&!a)return this;var d=c&&h;if(d?delete this.style[n]:this.style[n]=u,this.renderable&&this.renderer)return d?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,u),this;var m=this.options.sheet;return m&&m.attached,this},t}(),StyleRule=function(t){_inheritsLoose$1(e,t);function e(n,o,s){var a;a=t.call(this,n,o,s)||this;var u=s.selector,c=s.scoped,h=s.sheet,d=s.generateId;return u?a.selectorText=u:c!==!1&&(a.id=d(_assertThisInitialized$1(_assertThisInitialized$1(a)),h),a.selectorText="."+escape(a.id)),a}var r=e.prototype;return r.applyTo=function(o){var s=this.renderer;if(s){var a=this.toJSON();for(var u in a)s.setProperty(o,u,a[u])}return this},r.toJSON=function(){var o={};for(var s in this.style){var a=this.style[s];typeof a!="object"?o[s]=a:Array.isArray(a)&&(o[s]=toCssValue(a))}return o},r.toString=function(o){var s=this.options.sheet,a=s?s.options.link:!1,u=a?_extends$1({},o,{allowEmpty:!0}):o;return toCss(this.selectorText,this.style,u)},_createClass(e,[{key:"selector",set:function(o){if(o!==this.selectorText){this.selectorText=o;var s=this.renderer,a=this.renderable;if(!(!a||!s)){var u=s.setSelector(a,o);u||s.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),e}(BaseStyleRule),pluginStyleRule={onCreateRule:function t(e,r,n){return e[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new StyleRule(e,r,n)}},defaultToStringOptions={indent:1,children:!0},atRegExp=/@([\w-]+)/,ConditionalRule=function(){function t(r,n,o){this.type="conditional",this.isProcessed=!1,this.key=r;var s=r.match(atRegExp);this.at=s?s[1]:"unknown",this.query=o.name||"@"+this.at,this.options=o,this.rules=new RuleList(_extends$1({},o,{parent:this}));for(var a in n)this.rules.add(a,n[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.indexOf=function(n){return this.rules.indexOf(n)},e.addRule=function(n,o,s){var a=this.rules.add(n,o,s);return a?(this.options.jss.plugins.onProcessRule(a),a):null},e.replaceRule=function(n,o,s){var a=this.rules.replace(n,o,s);return a&&this.options.jss.plugins.onProcessRule(a),a},e.toString=function(n){n===void 0&&(n=defaultToStringOptions);var o=getWhitespaceSymbols(n),s=o.linebreak;if(n.indent==null&&(n.indent=defaultToStringOptions.indent),n.children==null&&(n.children=defaultToStringOptions.children),n.children===!1)return this.query+" {}";var a=this.rules.toString(n);return a?this.query+" {"+s+a+s+"}":""},t}(),keyRegExp=/@container|@media|@supports\s+/,pluginConditionalRule={onCreateRule:function t(e,r,n){return keyRegExp.test(e)?new ConditionalRule(e,r,n):null}},defaultToStringOptions$1={indent:1,children:!0},nameRegExp=/@keyframes\s+([\w-]+)/,KeyframesRule=function(){function t(r,n,o){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var s=r.match(nameRegExp);s&&s[1]?this.name=s[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=o;var a=o.scoped,u=o.sheet,c=o.generateId;this.id=a===!1?this.name:escape(c(this,u)),this.rules=new RuleList(_extends$1({},o,{parent:this}));for(var h in n)this.rules.add(h,n[h],_extends$1({},o,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(n){n===void 0&&(n=defaultToStringOptions$1);var o=getWhitespaceSymbols(n),s=o.linebreak;if(n.indent==null&&(n.indent=defaultToStringOptions$1.indent),n.children==null&&(n.children=defaultToStringOptions$1.children),n.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(n);return a&&(a=""+s+a+s),this.at+" "+this.id+" {"+a+"}"},t}(),keyRegExp$1=/@keyframes\s+/,refRegExp$1=/\$([\w-]+)/g,findReferencedKeyframe=function t(e,r){return typeof e=="string"?e.replace(refRegExp$1,function(n,o){return o in r?r[o]:n}):e},replaceRef=function t(e,r,n){var o=e[r],s=findReferencedKeyframe(o,n);s!==o&&(e[r]=s)},pluginKeyframesRule={onCreateRule:function t(e,r,n){return typeof e=="string"&&keyRegExp$1.test(e)?new KeyframesRule(e,r,n):null},onProcessStyle:function t(e,r,n){return r.type!=="style"||!n||("animation-name"in e&&replaceRef(e,"animation-name",n.keyframes),"animation"in e&&replaceRef(e,"animation",n.keyframes)),e},onChangeValue:function t(e,r,n){var o=n.options.sheet;if(!o)return e;switch(r){case"animation":return findReferencedKeyframe(e,o.keyframes);case"animation-name":return findReferencedKeyframe(e,o.keyframes);default:return e}}},KeyframeRule=function(t){_inheritsLoose$1(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.toString=function(o){var s=this.options.sheet,a=s?s.options.link:!1,u=a?_extends$1({},o,{allowEmpty:!0}):o;return toCss(this.key,this.style,u)},e}(BaseStyleRule),pluginKeyframeRule={onCreateRule:function t(e,r,n){return n.parent&&n.parent.type==="keyframes"?new KeyframeRule(e,r,n):null}},FontFaceRule=function(){function t(r,n,o){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=o}var e=t.prototype;return e.toString=function(n){var o=getWhitespaceSymbols(n),s=o.linebreak;if(Array.isArray(this.style)){for(var a="",u=0;u<this.style.length;u++)a+=toCss(this.at,this.style[u]),this.style[u+1]&&(a+=s);return a}return toCss(this.at,this.style,n)},t}(),keyRegExp$2=/@font-face/,pluginFontFaceRule={onCreateRule:function t(e,r,n){return keyRegExp$2.test(e)?new FontFaceRule(e,r,n):null}},ViewportRule=function(){function t(r,n,o){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=o}var e=t.prototype;return e.toString=function(n){return toCss(this.key,this.style,n)},t}(),pluginViewportRule={onCreateRule:function t(e,r,n){return e==="@viewport"||e==="@-ms-viewport"?new ViewportRule(e,r,n):null}},SimpleRule=function(){function t(r,n,o){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=o}var e=t.prototype;return e.toString=function(n){if(Array.isArray(this.value)){for(var o="",s=0;s<this.value.length;s++)o+=this.key+" "+this.value[s]+";",this.value[s+1]&&(o+=`
`);return o}return this.key+" "+this.value+";"},t}(),keysMap={"@charset":!0,"@import":!0,"@namespace":!0},pluginSimpleRule={onCreateRule:function t(e,r,n){return e in keysMap?new SimpleRule(e,r,n):null}},plugins$1=[pluginStyleRule,pluginConditionalRule,pluginKeyframesRule,pluginKeyframeRule,pluginFontFaceRule,pluginViewportRule,pluginSimpleRule],defaultUpdateOptions={process:!0},forceUpdateOptions={force:!0,process:!0},RuleList=function(){function t(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var e=t.prototype;return e.add=function(n,o,s){var a=this.options,u=a.parent,c=a.sheet,h=a.jss,d=a.Renderer,m=a.generateId,v=a.scoped,B=_extends$1({classes:this.classes,parent:u,sheet:c,jss:h,Renderer:d,generateId:m,scoped:v,name:n,keyframes:this.keyframes,selector:void 0},s),$=n;n in this.raw&&($=n+"-d"+this.counter++),this.raw[$]=o,$ in this.classes&&(B.selector="."+escape(this.classes[$]));var p=createRule($,o,B);if(!p)return null;this.register(p);var b=B.index===void 0?this.index.length:B.index;return this.index.splice(b,0,p),p},e.replace=function(n,o,s){var a=this.get(n),u=this.index.indexOf(a);a&&this.remove(a);var c=s;return u!==-1&&(c=_extends$1({},s,{index:u})),this.add(n,o,c)},e.get=function(n){return this.map[n]},e.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},e.indexOf=function(n){return this.index.indexOf(n)},e.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},e.register=function(n){this.map[n.key]=n,n instanceof StyleRule?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof KeyframesRule&&this.keyframes&&(this.keyframes[n.name]=n.id)},e.unregister=function(n){delete this.map[n.key],n instanceof StyleRule?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof KeyframesRule&&delete this.keyframes[n.name]},e.update=function(){var n,o,s;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],s=arguments.length<=2?void 0:arguments[2]):(o=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),o,s);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],o,s)},e.updateOne=function(n,o,s){s===void 0&&(s=defaultUpdateOptions);var a=this.options,u=a.jss.plugins,c=a.sheet;if(n.rules instanceof t){n.rules.update(o,s);return}var h=n.style;if(u.onUpdate(o,n,c,s),s.process&&h&&h!==n.style){u.onProcessStyle(n.style,n,c);for(var d in n.style){var m=n.style[d],v=h[d];m!==v&&n.prop(d,m,forceUpdateOptions)}for(var B in h){var $=n.style[B],p=h[B];$==null&&$!==p&&n.prop(B,null,forceUpdateOptions)}}},e.toString=function(n){for(var o="",s=this.options.sheet,a=s?s.options.link:!1,u=getWhitespaceSymbols(n),c=u.linebreak,h=0;h<this.index.length;h++){var d=this.index[h],m=d.toString(n);!m&&!a||(o&&(o+=c),o+=m)}return o},t}(),StyleSheet=function(){function t(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=_extends$1({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new RuleList(this.options);for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(n,o,s){var a=this.queue;this.attached&&!a&&(this.queue=[]);var u=this.rules.add(n,o,s);return u?(this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&(a?a.push(u):(this.insertRule(u),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),u):(this.deployed=!1,u)):null},e.replaceRule=function(n,o,s){var a=this.rules.get(n);if(!a)return this.addRule(n,o,s);var u=this.rules.replace(n,o,s);return u&&this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&this.renderer&&(u?a.renderable&&this.renderer.replaceRule(a.renderable,u):this.renderer.deleteRule(a)),u):(this.deployed=!1,u)},e.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},e.addRules=function(n,o){var s=[];for(var a in n){var u=this.addRule(a,n[a],o);u&&s.push(u)}return s},e.getRule=function(n){return this.rules.get(n)},e.deleteRule=function(n){var o=typeof n=="object"?n:this.rules.get(n);return!o||this.attached&&!o.renderable?!1:(this.rules.remove(o),this.attached&&o.renderable&&this.renderer?this.renderer.deleteRule(o.renderable):!0)},e.indexOf=function(n){return this.rules.indexOf(n)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},e.updateOne=function(n,o,s){return this.rules.updateOne(n,o,s),this},e.toString=function(n){return this.rules.toString(n)},t}(),PluginsRegistry=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(n,o,s){for(var a=0;a<this.registry.onCreateRule.length;a++){var u=this.registry.onCreateRule[a](n,o,s);if(u)return u}return null},e.onProcessRule=function(n){if(!n.isProcessed){for(var o=n.options.sheet,s=0;s<this.registry.onProcessRule.length;s++)this.registry.onProcessRule[s](n,o);n.style&&this.onProcessStyle(n.style,n,o),n.isProcessed=!0}},e.onProcessStyle=function(n,o,s){for(var a=0;a<this.registry.onProcessStyle.length;a++)o.style=this.registry.onProcessStyle[a](o.style,o,s)},e.onProcessSheet=function(n){for(var o=0;o<this.registry.onProcessSheet.length;o++)this.registry.onProcessSheet[o](n)},e.onUpdate=function(n,o,s,a){for(var u=0;u<this.registry.onUpdate.length;u++)this.registry.onUpdate[u](n,o,s,a)},e.onChangeValue=function(n,o,s){for(var a=n,u=0;u<this.registry.onChangeValue.length;u++)a=this.registry.onChangeValue[u](a,o,s);return a},e.use=function(n,o){o===void 0&&(o={queue:"external"});var s=this.plugins[o.queue];s.indexOf(n)===-1&&(s.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,u){for(var c in u)c in a&&a[c].push(u[c]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),SheetsRegistry=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(n){var o=this.registry,s=n.options.index;if(o.indexOf(n)===-1){if(o.length===0||s>=this.index){o.push(n);return}for(var a=0;a<o.length;a++)if(o[a].options.index>s){o.splice(a,0,n);return}}},e.reset=function(){this.registry=[]},e.remove=function(n){var o=this.registry.indexOf(n);this.registry.splice(o,1)},e.toString=function(n){for(var o=n===void 0?{}:n,s=o.attached,a=_objectWithoutPropertiesLoose(o,["attached"]),u=getWhitespaceSymbols(a),c=u.linebreak,h="",d=0;d<this.registry.length;d++){var m=this.registry[d];s!=null&&m.attached!==s||(h&&(h+=c),h+=m.toString(a))}return h},_createClass(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),sheets=new SheetsRegistry,globalThis$1=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),ns="2f1acc6c3a606b082e5eef5e54414ffb";globalThis$1[ns]==null&&(globalThis$1[ns]=0);var moduleId=globalThis$1[ns]++,createGenerateId=function t(e){e===void 0&&(e={});var r=0,n=function(s,a){r+=1;var u="",c="";return a&&(a.options.classNamePrefix&&(c=a.options.classNamePrefix),a.options.jss.id!=null&&(u=String(a.options.jss.id))),e.minify?""+(c||"c")+moduleId+u+r:c+s.key+"-"+moduleId+(u?"-"+u:"")+"-"+r};return n},memoize=function t(e){var r;return function(){return r||(r=e()),r}},getPropertyValue=function t(e,r){try{return e.attributeStyleMap?e.attributeStyleMap.get(r):e.style.getPropertyValue(r)}catch{return""}},setProperty=function t(e,r,n){try{var o=n;if(Array.isArray(n)&&(o=toCssValue(n)),e.attributeStyleMap)e.attributeStyleMap.set(r,o);else{var s=o?o.indexOf("!important"):-1,a=s>-1?o.substr(0,s-1):o;e.style.setProperty(r,a,s>-1?"important":"")}}catch{return!1}return!0},removeProperty=function t(e,r){try{e.attributeStyleMap?e.attributeStyleMap.delete(r):e.style.removeProperty(r)}catch{}},setSelector=function t(e,r){return e.selectorText=r,e.selectorText===r},getHead=memoize(function(){return document.querySelector("head")});function findHigherSheet(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.attached&&n.options.index>e.index&&n.options.insertionPoint===e.insertionPoint)return n}return null}function findHighestSheet(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.attached&&n.options.insertionPoint===e.insertionPoint)return n}return null}function findCommentNode(t){for(var e=getHead(),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===t)return n}return null}function findPrevNode(t){var e=sheets.registry;if(e.length>0){var r=findHigherSheet(e,t);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=findHighestSheet(e,t),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=t.insertionPoint;if(n&&typeof n=="string"){var o=findCommentNode(n);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}function insertStyle(t,e){var r=e.insertionPoint,n=findPrevNode(e);if(n!==!1&&n.parent){n.parent.insertBefore(t,n.node);return}if(r&&typeof r.nodeType=="number"){var o=r,s=o.parentNode;s&&s.insertBefore(t,o.nextSibling);return}getHead().appendChild(t)}var getNonce=memoize(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),_insertRule=function t(e,r,n){try{"insertRule"in e?e.insertRule(r,n):"appendRule"in e&&e.appendRule(r)}catch{return!1}return e.cssRules[n]},getValidRuleInsertionIndex=function t(e,r){var n=e.cssRules.length;return r===void 0||r>n?n:r},createStyle=function t(){var e=document.createElement("style");return e.textContent=`
`,e},DomRenderer=function(){function t(r){this.getPropertyValue=getPropertyValue,this.setProperty=setProperty,this.removeProperty=removeProperty,this.setSelector=setSelector,this.hasInsertedRules=!1,this.cssRules=[],r&&sheets.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},o=n.media,s=n.meta,a=n.element;this.element=a||createStyle(),this.element.setAttribute("data-jss",""),o&&this.element.setAttribute("media",o),s&&this.element.setAttribute("data-meta",s);var u=getNonce();u&&this.element.setAttribute("nonce",u)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){insertStyle(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},e.insertRules=function(n,o){for(var s=0;s<n.index.length;s++)this.insertRule(n.index[s],s,o)},e.insertRule=function(n,o,s){if(s===void 0&&(s=this.element.sheet),n.rules){var a=n,u=s;if(n.type==="conditional"||n.type==="keyframes"){var c=getValidRuleInsertionIndex(s,o);if(u=_insertRule(s,a.toString({children:!1}),c),u===!1)return!1;this.refCssRule(n,c,u)}return this.insertRules(a.rules,u),u}var h=n.toString();if(!h)return!1;var d=getValidRuleInsertionIndex(s,o),m=_insertRule(s,h,d);return m===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,d,m),m)},e.refCssRule=function(n,o,s){n.renderable=s,n.options.parent instanceof StyleSheet&&this.cssRules.splice(o,0,s)},e.deleteRule=function(n){var o=this.element.sheet,s=this.indexOf(n);return s===-1?!1:(o.deleteRule(s),this.cssRules.splice(s,1),!0)},e.indexOf=function(n){return this.cssRules.indexOf(n)},e.replaceRule=function(n,o){var s=this.indexOf(n);return s===-1?!1:(this.element.sheet.deleteRule(s),this.cssRules.splice(s,1),this.insertRule(o,s))},e.getRules=function(){return this.element.sheet.cssRules},t}(),instanceCounter=0,Jss=function(){function t(r){this.id=instanceCounter++,this.version="10.10.0",this.plugins=new PluginsRegistry,this.options={id:{minify:!1},createGenerateId,Renderer:isBrowser?DomRenderer:null,plugins:[]},this.generateId=createGenerateId({minify:!1});for(var n=0;n<plugins$1.length;n++)this.plugins.use(plugins$1[n],{queue:"internal"});this.setup(r)}var e=t.prototype;return e.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=_extends$1({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},e.createStyleSheet=function(n,o){o===void 0&&(o={});var s=o,a=s.index;typeof a!="number"&&(a=sheets.index===0?0:sheets.index+1);var u=new StyleSheet(n,_extends$1({},o,{jss:this,generateId:o.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(u),u},e.removeStyleSheet=function(n){return n.detach(),sheets.remove(n),this},e.createRule=function(n,o,s){if(o===void 0&&(o={}),s===void 0&&(s={}),typeof n=="object")return this.createRule(void 0,n,o);var a=_extends$1({},s,{name:n,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var u=createRule(n,o,a);return u&&this.plugins.onProcessRule(u),u},e.use=function(){for(var n=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return s.forEach(function(u){n.plugins.use(u)}),this},t}(),createJss=function t(e){return new Jss(e)},SheetsManager=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(n){var o=this.sheets.get(n);return o&&o.sheet},e.add=function(n,o){this.sheets.has(n)||(this.length++,this.sheets.set(n,{sheet:o,refs:0}))},e.manage=function(n){var o=this.sheets.get(n);if(o)return o.refs===0&&o.sheet.attach(),o.refs++,o.sheet;warning(!1,"[JSS] SheetsManager: can't find sheet to manage")},e.unmanage=function(n){var o=this.sheets.get(n);o?o.refs>0&&(o.refs--,o.refs===0&&o.sheet.detach()):warning(!1,"SheetsManager: can't find sheet to unmanage")},_createClass(t,[{key:"size",get:function(){return this.length}}]),t}(),hasCSSTOMSupport=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function getDynamicStyles(t){var e=null;for(var r in t){var n=t[r],o=typeof n;if(o==="function")e||(e={}),e[r]=n;else if(o==="object"&&n!==null&&!Array.isArray(n)){var s=getDynamicStyles(n);s&&(e||(e={}),e[r]=s)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */createJss();var now=Date.now(),fnValuesNs="fnValues"+now,fnRuleNs="fnStyle"+ ++now,functionPlugin=function t(){return{onCreateRule:function(r,n,o){if(typeof n!="function")return null;var s=createRule(r,{},o);return s[fnRuleNs]=n,s},onProcessStyle:function(r,n){if(fnValuesNs in n||fnRuleNs in n)return r;var o={};for(var s in r){var a=r[s];typeof a=="function"&&(delete r[s],o[s]=a)}return n[fnValuesNs]=o,r},onUpdate:function(r,n,o,s){var a=n,u=a[fnRuleNs];u&&(a.style=u(r)||{});var c=a[fnValuesNs];if(c)for(var h in c)a.prop(h,c[h](r),s)}}};const functions=functionPlugin;function symbolObservablePonyfill(t){var e,r=t.Symbol;return typeof r=="function"?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var root$5;typeof self<"u"?root$5=self:typeof window<"u"?root$5=window:typeof global<"u"?root$5=global:typeof module<"u"?root$5=module:root$5=Function("return this")();var result=symbolObservablePonyfill(root$5),isObservable=function t(e){return e&&e[result]&&e===e[result]()},observablePlugin=function t(e){return{onCreateRule:function(n,o,s){if(!isObservable(o))return null;var a=o,u=createRule(n,{},s);return a.subscribe(function(c){for(var h in c)u.prop(h,c[h],e)}),u},onProcessRule:function(n){if(!(n&&n.type!=="style")){var o=n,s=o.style,a=function(d){var m=s[d];if(!isObservable(m))return"continue";delete s[d],m.subscribe({next:function(B){o.prop(d,B,e)}})};for(var u in s)var c=a(u)}}}};const observable=observablePlugin;var semiWithNl=/;\n/,parse=function t(e){for(var r={},n=e.split(semiWithNl),o=0;o<n.length;o++){var s=(n[o]||"").trim();if(s){var a=s.indexOf(":");if(a!==-1){var u=s.substr(0,a).trim(),c=s.substr(a+1).trim();r[u]=c}}}return r},onProcessRule=function t(e){typeof e.style=="string"&&(e.style=parse(e.style))};function templatePlugin(){return{onProcessRule}}var at="@global",atPrefix="@global ",GlobalContainerRule=function(){function t(r,n,o){this.type="global",this.at=at,this.isProcessed=!1,this.key=r,this.options=o,this.rules=new RuleList(_extends$1({},o,{parent:this}));for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.addRule=function(n,o,s){var a=this.rules.add(n,o,s);return a&&this.options.jss.plugins.onProcessRule(a),a},e.replaceRule=function(n,o,s){var a=this.rules.replace(n,o,s);return a&&this.options.jss.plugins.onProcessRule(a),a},e.indexOf=function(n){return this.rules.indexOf(n)},e.toString=function(n){return this.rules.toString(n)},t}(),GlobalPrefixedRule=function(){function t(r,n,o){this.type="global",this.at=at,this.isProcessed=!1,this.key=r,this.options=o;var s=r.substr(atPrefix.length);this.rule=o.jss.createRule(s,n,_extends$1({},o,{parent:this}))}var e=t.prototype;return e.toString=function(n){return this.rule?this.rule.toString(n):""},t}(),separatorRegExp$1=/\s*,\s*/g;function addScope(t,e){for(var r=t.split(separatorRegExp$1),n="",o=0;o<r.length;o++)n+=e+" "+r[o].trim(),r[o+1]&&(n+=", ");return n}function handleNestedGlobalContainerRule(t,e){var r=t.options,n=t.style,o=n?n[at]:null;if(o){for(var s in o)e.addRule(s,o[s],_extends$1({},r,{selector:addScope(s,t.selector)}));delete n[at]}}function handlePrefixedGlobalRule(t,e){var r=t.options,n=t.style;for(var o in n)if(!(o[0]!=="@"||o.substr(0,at.length)!==at)){var s=addScope(o.substr(at.length),t.selector);e.addRule(s,n[o],_extends$1({},r,{selector:s})),delete n[o]}}function jssGlobal(){function t(r,n,o){if(!r)return null;if(r===at)return new GlobalContainerRule(r,n,o);if(r[0]==="@"&&r.substr(0,atPrefix.length)===atPrefix)return new GlobalPrefixedRule(r,n,o);var s=o.parent;return s&&(s.type==="global"||s.options.parent&&s.options.parent.type==="global")&&(o.scoped=!1),!o.selector&&o.scoped===!1&&(o.selector=r),null}function e(r,n){r.type!=="style"||!n||(handleNestedGlobalContainerRule(r,n),handlePrefixedGlobalRule(r,n))}return{onCreateRule:t,onProcessRule:e}}var isObject=function t(e){return e&&typeof e=="object"&&!Array.isArray(e)},valueNs="extendCurrValue"+Date.now();function mergeExtend(t,e,r,n){var o=typeof t.extend;if(o==="string"){if(!r)return;var s=r.getRule(t.extend);if(!s||s===e)return;var a=s.options.parent;if(a){var u=a.rules.raw[t.extend];extend(u,e,r,n)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var h=t.extend[c],d=typeof h=="string"?_extends$1({},t,{extend:h}):t.extend[c];extend(d,e,r,n)}return}for(var m in t.extend){if(m==="extend"){extend(t.extend.extend,e,r,n);continue}if(isObject(t.extend[m])){m in n||(n[m]={}),extend(t.extend[m],e,r,n[m]);continue}n[m]=t.extend[m]}}function mergeRest(t,e,r,n){for(var o in t)if(o!=="extend"){if(isObject(n[o])&&isObject(t[o])){extend(t[o],e,r,n[o]);continue}if(isObject(t[o])){n[o]=extend(t[o],e,r);continue}n[o]=t[o]}}function extend(t,e,r,n){return n===void 0&&(n={}),mergeExtend(t,e,r,n),mergeRest(t,e,r,n),n}function jssExtend(){function t(r,n,o){return"extend"in r?extend(r,n,o):r}function e(r,n,o){if(n!=="extend")return r;if(r==null||r===!1){for(var s in o[valueNs])o.prop(s,null);return o[valueNs]=null,null}if(typeof r=="object"){for(var a in r)o.prop(a,r[a]);o[valueNs]=r}return null}return{onProcessStyle:t,onChangeValue:e}}var separatorRegExp=/\s*,\s*/g,parentRegExp=/&/g,refRegExp=/\$([\w-]+)/g;function jssNested(){function t(o,s){return function(a,u){var c=o.getRule(u)||s&&s.getRule(u);return c?c.selector:u}}function e(o,s){for(var a=s.split(separatorRegExp),u=o.split(separatorRegExp),c="",h=0;h<a.length;h++)for(var d=a[h],m=0;m<u.length;m++){var v=u[m];c&&(c+=", "),c+=v.indexOf("&")!==-1?v.replace(parentRegExp,d):d+" "+v}return c}function r(o,s,a){if(a)return _extends$1({},a,{index:a.index+1});var u=o.options.nestingLevel;u=u===void 0?1:u+1;var c=_extends$1({},o.options,{nestingLevel:u,index:s.indexOf(o)+1});return delete c.name,c}function n(o,s,a){if(s.type!=="style")return o;var u=s,c=u.options.parent,h,d;for(var m in o){var v=m.indexOf("&")!==-1,B=m[0]==="@";if(!(!v&&!B)){if(h=r(u,c,h),v){var $=e(m,u.selector);d||(d=t(c,a)),$=$.replace(refRegExp,d);var p=u.key+"-"+m;"replaceRule"in c?c.replaceRule(p,o[m],_extends$1({},h,{selector:$})):c.addRule(p,o[m],_extends$1({},h,{selector:$}))}else B&&c.addRule(m,{},h).addRule(u.key,o[m],{selector:u.selector});delete o[m]}}return o}return{onProcessStyle:n}}function registerClass(t,e){if(!e)return!0;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var n=registerClass(t,e[r]);if(!n)return!1}return!0}if(e.indexOf(" ")>-1)return registerClass(t,e.split(" "));var o=t.options.parent;if(e[0]==="$"){var s=o.getRule(e.substr(1));return!s||s===t?!1:(o.classes[t.key]+=" "+o.classes[s.key],!0)}return o.classes[t.key]+=" "+e,!0}function jssCompose(){function t(e,r){return"composes"in e&&(registerClass(r,e.composes),delete e.composes),e}return{onProcessStyle:t}}var uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache$2={};function toHyphenLower(t){return"-"+t.toLowerCase()}function hyphenateStyleName(t){if(cache$2.hasOwnProperty(t))return cache$2[t];var e=t.replace(uppercasePattern,toHyphenLower);return cache$2[t]=msPattern.test(e)?"-"+e:e}function convertCase(t){var e={};for(var r in t){var n=r.indexOf("--")===0?r:hyphenateStyleName(r);e[n]=t[r]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(convertCase):e.fallbacks=convertCase(t.fallbacks)),e}function camelCase(){function t(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=convertCase(r[n]);return r}return convertCase(r)}function e(r,n,o){if(n.indexOf("--")===0)return r;var s=hyphenateStyleName(n);return n===s?r:(o.prop(s,r),null)}return{onProcessStyle:t,onChangeValue:e}}var px=hasCSSTOMSupport&&CSS?CSS.px:"px",ms=hasCSSTOMSupport&&CSS?CSS.ms:"ms",percent=hasCSSTOMSupport&&CSS?CSS.percent:"%",defaultUnits={"animation-delay":ms,"animation-duration":ms,"background-position":px,"background-position-x":px,"background-position-y":px,"background-size":px,border:px,"border-bottom":px,"border-bottom-left-radius":px,"border-bottom-right-radius":px,"border-bottom-width":px,"border-left":px,"border-left-width":px,"border-radius":px,"border-right":px,"border-right-width":px,"border-top":px,"border-top-left-radius":px,"border-top-right-radius":px,"border-top-width":px,"border-width":px,"border-block":px,"border-block-end":px,"border-block-end-width":px,"border-block-start":px,"border-block-start-width":px,"border-block-width":px,"border-inline":px,"border-inline-end":px,"border-inline-end-width":px,"border-inline-start":px,"border-inline-start-width":px,"border-inline-width":px,"border-start-start-radius":px,"border-start-end-radius":px,"border-end-start-radius":px,"border-end-end-radius":px,margin:px,"margin-bottom":px,"margin-left":px,"margin-right":px,"margin-top":px,"margin-block":px,"margin-block-end":px,"margin-block-start":px,"margin-inline":px,"margin-inline-end":px,"margin-inline-start":px,padding:px,"padding-bottom":px,"padding-left":px,"padding-right":px,"padding-top":px,"padding-block":px,"padding-block-end":px,"padding-block-start":px,"padding-inline":px,"padding-inline-end":px,"padding-inline-start":px,"mask-position-x":px,"mask-position-y":px,"mask-size":px,height:px,width:px,"min-height":px,"max-height":px,"min-width":px,"max-width":px,bottom:px,left:px,top:px,right:px,inset:px,"inset-block":px,"inset-block-end":px,"inset-block-start":px,"inset-inline":px,"inset-inline-end":px,"inset-inline-start":px,"box-shadow":px,"text-shadow":px,"column-gap":px,"column-rule":px,"column-rule-width":px,"column-width":px,"font-size":px,"font-size-delta":px,"letter-spacing":px,"text-decoration-thickness":px,"text-indent":px,"text-stroke":px,"text-stroke-width":px,"word-spacing":px,motion:px,"motion-offset":px,outline:px,"outline-offset":px,"outline-width":px,perspective:px,"perspective-origin-x":percent,"perspective-origin-y":percent,"transform-origin":percent,"transform-origin-x":percent,"transform-origin-y":percent,"transform-origin-z":percent,"transition-delay":ms,"transition-duration":ms,"vertical-align":px,"flex-basis":px,"shape-margin":px,size:px,gap:px,grid:px,"grid-gap":px,"row-gap":px,"grid-row-gap":px,"grid-column-gap":px,"grid-template-rows":px,"grid-template-columns":px,"grid-auto-rows":px,"grid-auto-columns":px,"box-shadow-x":px,"box-shadow-y":px,"box-shadow-blur":px,"box-shadow-spread":px,"font-line-height":px,"text-shadow-x":px,"text-shadow-y":px,"text-shadow-blur":px};function addCamelCasedVersion(t){var e=/(-[a-z])/g,r=function(a){return a[1].toUpperCase()},n={};for(var o in t)n[o]=t[o],n[o.replace(e,r)]=t[o];return n}var units=addCamelCasedVersion(defaultUnits);function iterate(t,e,r){if(e==null)return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=iterate(t,e[n],r);else if(typeof e=="object")if(t==="fallbacks")for(var o in e)e[o]=iterate(o,e[o],r);else for(var s in e)e[s]=iterate(t+"-"+s,e[s],r);else if(typeof e=="number"&&isNaN(e)===!1){var a=r[t]||units[t];return a&&!(e===0&&a===px)?typeof a=="function"?a(e).toString():""+e+a:e.toString()}return e}function defaultUnit(t){t===void 0&&(t={});var e=addCamelCasedVersion(t);function r(o,s){if(s.type!=="style")return o;for(var a in o)o[a]=iterate(a,o[a],e);return o}function n(o,s){return iterate(s,o,e)}return{onProcessStyle:r,onChangeValue:n}}var propArray={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},propArrayInObj={position:!0,size:!0},propObj={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},customPropObj={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function mapValuesByProp(t,e,r){return t.map(function(n){return objectToArray(n,e,r,!1,!0)})}function processArray(t,e,r,n){return r[e]==null?t:t.length===0?[]:Array.isArray(t[0])?processArray(t[0],e,r,n):typeof t[0]=="object"?mapValuesByProp(t,e,n):[t]}function objectToArray(t,e,r,n,o){if(!(propObj[e]||customPropObj[e]))return[];var s=[];if(customPropObj[e]&&(t=customPropsToStyle(t,r,customPropObj[e],n)),Object.keys(t).length)for(var a in propObj[e]){if(t[a]){Array.isArray(t[a])?s.push(propArrayInObj[a]===null?t[a]:t[a].join(" ")):s.push(t[a]);continue}propObj[e][a]!=null&&s.push(propObj[e][a])}return!s.length||o?s:[s]}function customPropsToStyle(t,e,r,n){for(var o in r){var s=r[o];if(typeof t[o]<"u"&&(n||!e.prop(s))){var a,u=styleDetector((a={},a[s]=t[o],a),e)[s];n?e.style.fallbacks[s]=u:e.style[s]=u}delete t[o]}return t}function styleDetector(t,e,r){for(var n in t){var o=t[n];if(Array.isArray(o)){if(!Array.isArray(o[0])){if(n==="fallbacks"){for(var s=0;s<t.fallbacks.length;s++)t.fallbacks[s]=styleDetector(t.fallbacks[s],e,!0);continue}t[n]=processArray(o,n,propArray,e),t[n].length||delete t[n]}}else if(typeof o=="object"){if(n==="fallbacks"){t.fallbacks=styleDetector(t.fallbacks,e,!0);continue}t[n]=objectToArray(o,n,e,r),t[n].length||delete t[n]}else t[n]===""&&delete t[n]}return t}function jssExpand(){function t(e,r){if(!e||r.type!=="style")return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=styleDetector(e[n],r);return e}return styleDetector(e,r)}return{onProcessStyle:t}}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}var js="",css="",vendor="",browser="",isTouch=isBrowser&&"ontouchstart"in document.documentElement;if(isBrowser){var jsCssMap={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},_document$createEleme=document.createElement("p"),style=_document$createEleme.style,testProp="Transform";for(var key in jsCssMap)if(key+testProp in style){js=key,css=jsCssMap[key];break}js==="Webkit"&&"msHyphens"in style&&(js="ms",css=jsCssMap.ms,browser="edge"),js==="Webkit"&&"-apple-trailing-word"in style&&(vendor="apple")}var prefix={js,css,vendor,browser,isTouch};function supportedKeyframes(t){return t[1]==="-"||prefix.js==="ms"?t:"@"+prefix.css+"keyframes"+t.substr(10)}var appearence={noPrefill:["appearance"],supportedProperty:function t(e){return e!=="appearance"?!1:prefix.js==="ms"?"-webkit-"+e:prefix.css+e}},colorAdjust={noPrefill:["color-adjust"],supportedProperty:function t(e){return e!=="color-adjust"?!1:prefix.js==="Webkit"?prefix.css+"print-"+e:e}},regExp=/[-\s]+(.)?/g;function toUpper(t,e){return e?e.toUpperCase():""}function camelize(t){return t.replace(regExp,toUpper)}function pascalize(t){return camelize("-"+t)}var mask={noPrefill:["mask"],supportedProperty:function t(e,r){if(!/^mask/.test(e))return!1;if(prefix.js==="Webkit"){var n="mask-image";if(camelize(n)in r)return e;if(prefix.js+pascalize(n)in r)return prefix.css+e}return e}},textOrientation={noPrefill:["text-orientation"],supportedProperty:function t(e){return e!=="text-orientation"?!1:prefix.vendor==="apple"&&!prefix.isTouch?prefix.css+e:e}},transform={noPrefill:["transform"],supportedProperty:function t(e,r,n){return e!=="transform"?!1:n.transform?e:prefix.css+e}},transition={noPrefill:["transition"],supportedProperty:function t(e,r,n){return e!=="transition"?!1:n.transition?e:prefix.css+e}},writingMode={noPrefill:["writing-mode"],supportedProperty:function t(e){return e!=="writing-mode"?!1:prefix.js==="Webkit"||prefix.js==="ms"&&prefix.browser!=="edge"?prefix.css+e:e}},userSelect={noPrefill:["user-select"],supportedProperty:function t(e){return e!=="user-select"?!1:prefix.js==="Moz"||prefix.js==="ms"||prefix.vendor==="apple"?prefix.css+e:e}},breakPropsOld={supportedProperty:function t(e,r){if(!/^break-/.test(e))return!1;if(prefix.js==="Webkit"){var n="WebkitColumn"+pascalize(e);return n in r?prefix.css+"column-"+e:!1}if(prefix.js==="Moz"){var o="page"+pascalize(e);return o in r?"page-"+e:!1}return!1}},inlineLogicalOld={supportedProperty:function t(e,r){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(prefix.js==="Moz")return e;var n=e.replace("-inline","");return prefix.js+pascalize(n)in r?prefix.css+n:!1}},unprefixed={supportedProperty:function t(e,r){return camelize(e)in r?e:!1}},prefixed={supportedProperty:function t(e,r){var n=pascalize(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:prefix.js+n in r?prefix.css+e:prefix.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+e:!1}},scrollSnap={supportedProperty:function t(e){return e.substring(0,11)!=="scroll-snap"?!1:prefix.js==="ms"?""+prefix.css+e:e}},overscrollBehavior={supportedProperty:function t(e){return e!=="overscroll-behavior"?!1:prefix.js==="ms"?prefix.css+"scroll-chaining":e}},propMap={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},flex2012={supportedProperty:function t(e,r){var n=propMap[e];return n&&prefix.js+pascalize(n)in r?prefix.css+n:!1}},propMap$1={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},propKeys=Object.keys(propMap$1),prefixCss=function t(e){return prefix.css+e},flex2009={supportedProperty:function t(e,r,n){var o=n.multiple;if(propKeys.indexOf(e)>-1){var s=propMap$1[e];if(!Array.isArray(s))return prefix.js+pascalize(s)in r?prefix.css+s:!1;if(!o)return!1;for(var a=0;a<s.length;a++)if(!(prefix.js+pascalize(s[0])in r))return!1;return s.map(prefixCss)}return!1}},plugins=[appearence,colorAdjust,mask,textOrientation,transform,transition,writingMode,userSelect,breakPropsOld,inlineLogicalOld,unprefixed,prefixed,scrollSnap,overscrollBehavior,flex2012,flex2009],propertyDetectors=plugins.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),noPrefill=plugins.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,_toConsumableArray(e.noPrefill)),t},[]),el,cache={};if(isBrowser){el=document.createElement("p");var computed=window.getComputedStyle(document.documentElement,"");for(var key$1 in computed)isNaN(key$1)||(cache[computed[key$1]]=computed[key$1]);noPrefill.forEach(function(t){return delete cache[t]})}function supportedProperty(t,e){if(e===void 0&&(e={}),!el)return t;if(cache[t]!=null)return cache[t];(t==="transition"||t==="transform")&&(e[t]=t in el.style);for(var r=0;r<propertyDetectors.length&&(cache[t]=propertyDetectors[r](t,el.style,e),!cache[t]);r++);try{el.style[t]=""}catch{return!1}return cache[t]}var cache$1={},transitionProperties={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},transPropsRegExp=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,el$1;function prefixTransitionCallback(t,e,r){if(e==="var")return"var";if(e==="all")return"all";if(r==="all")return", all";var n=e?supportedProperty(e):", "+supportedProperty(r);return n||e||r}isBrowser&&(el$1=document.createElement("p"));function supportedValue(t,e){var r=e;if(!el$1||t==="content")return e;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=t+r;if(cache$1[n]!=null)return cache$1[n];try{el$1.style[t]=r}catch{return cache$1[n]=!1,!1}if(transitionProperties[t])r=r.replace(transPropsRegExp,prefixTransitionCallback);else if(el$1.style[t]===""&&(r=prefix.css+r,r==="-ms-flex"&&(el$1.style[t]="-ms-flexbox"),el$1.style[t]=r,el$1.style[t]===""))return cache$1[n]=!1,!1;return el$1.style[t]="",cache$1[n]=r,cache$1[n]}function jssVendorPrefixer(){function t(o){if(o.type==="keyframes"){var s=o;s.at=supportedKeyframes(s.at)}}function e(o){for(var s in o){var a=o[s];if(s==="fallbacks"&&Array.isArray(a)){o[s]=a.map(e);continue}var u=!1,c=supportedProperty(s);c&&c!==s&&(u=!0);var h=!1,d=supportedValue(c,toCssValue(a));d&&d!==a&&(h=!0),(u||h)&&(u&&delete o[s],o[c||s]=d||a)}return o}function r(o,s){return s.type!=="style"?o:e(o)}function n(o,s){return supportedValue(s,toCssValue(o))||o}return{onProcessRule:t,onProcessStyle:r,onChangeValue:n}}function jssPropsSort(){var t=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var o={},s=Object.keys(r).sort(t),a=0;a<s.length;a++)o[s[a]]=r[s[a]];return o}}}var create=function t(e){return e===void 0&&(e={}),{plugins:[functions(),observable(e.observable),templatePlugin(),jssGlobal(),jssExtend(),jssNested(),jssCompose(),camelCase(),defaultUnit(e.defaultUnit),jssExpand(),jssVendorPrefixer(),jssPropsSort()]}};const preset=create;var index=Number.MIN_SAFE_INTEGER||-1e9,getSheetIndex=function t(){return index++},JssContext=reactExports.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!isBrowser}),defaultManagers=new Map,getManager=function t(e,r){var n=e.managers;if(n)return n[r]||(n[r]=new SheetsManager),n[r];var o=defaultManagers.get(r);return o||(o=new SheetsManager,defaultManagers.set(r,o)),o},manageSheet=function t(e){var r=e.sheet,n=e.context,o=e.index,s=e.theme;if(r){var a=getManager(n,o);a.manage(s),n.registry&&n.registry.add(r)}},unmanageSheet=function t(e){if(e.sheet){var r=getManager(e.context,e.index);r.unmanage(e.theme)}},defaultJss=createJss(preset()),sheetsMeta=new WeakMap,getMeta=function t(e){return sheetsMeta.get(e)},addMeta=function t(e,r){sheetsMeta.set(e,r)},getStyles=function t(e){var r=e.styles;return typeof r!="function"?r:r(e.theme)};function getSheetOptions(t,e){var r;t.context.id&&t.context.id.minify!=null&&(r=t.context.id.minify);var n=t.context.classNamePrefix||"";t.name&&!r&&(n+=t.name.replace(/\s/g,"-")+"-");var o="";return t.name&&(o=t.name+", "),o+=typeof t.styles=="function"?"Themed":"Unthemed",_extends$1({},t.sheetOptions,{index:t.index,meta:o,classNamePrefix:n,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var createStyleSheet=function t(e){if(!e.context.disableStylesGeneration){var r=getManager(e.context,e.index),n=r.get(e.theme);if(n)return n;var o=e.context.jss||defaultJss,s=getStyles(e),a=getDynamicStyles(s),u=o.createStyleSheet(s,getSheetOptions(e,a!==null));return addMeta(u,{dynamicStyles:a,styles:s}),r.add(e.theme,u),u}},removeDynamicRules=function t(e,r){for(var n in r)e.deleteRule(r[n])},updateDynamicRules=function t(e,r,n){for(var o in n)r.updateOne(n[o],e)},addDynamicRules=function t(e,r){var n=getMeta(e);if(n){var o={};for(var s in n.dynamicStyles)for(var a=e.rules.index.length,u=e.addRule(s,n.dynamicStyles[s]),c=a;c<e.rules.index.length;c++){var h=e.rules.index[c];e.updateOne(h,r),o[u===h?s:h.key]=h}return o}},getSheetClasses=function t(e,r){if(!r)return e.classes;var n=getMeta(e);if(!n)return e.classes;var o={};for(var s in n.styles)o[s]=e.classes[s],s in r&&(o[s]+=" "+e.classes[r[s].key]);return o};function getUseInsertionEffect(t){return t?reactExports.useEffect:React.useInsertionEffect||reactExports.useLayoutEffect}var noTheme={},createUseStyles=function t(e,r){r===void 0&&(r={});var n=r,o=n.index,s=o===void 0?getSheetIndex():o,a=n.theming,u=n.name,c=_objectWithoutPropertiesLoose(n,["index","theming","name"]),h=a&&a.context||ThemeContext,d=function(B){return typeof e=="function"&&(B||reactExports.useContext(h))||noTheme},m={};return function(B){var $=reactExports.useRef(!0),p=reactExports.useContext(JssContext),b=d(B&&B.theme),w=reactExports.useMemo(function(){var D=createStyleSheet({context:p,styles:e,name:u,theme:b,index:s,sheetOptions:c});return D&&p.isSSR&&manageSheet({index:s,context:p,sheet:D,theme:b}),[D,D?addDynamicRules(D,B):null]},[p,b]),A=w[0],T=w[1];getUseInsertionEffect(p.isSSR)(function(){A&&T&&!$.current&&updateDynamicRules(B,A,T)},[B]),getUseInsertionEffect(p.isSSR)(function(){return A&&manageSheet({index:s,context:p,sheet:A,theme:b}),function(){A&&(unmanageSheet({index:s,context:p,sheet:A,theme:b}),T&&removeDynamicRules(A,T))}},[A]);var E=reactExports.useMemo(function(){return A&&T?getSheetClasses(A,T):m},[A,T]);return reactExports.useDebugValue(E),reactExports.useDebugValue(b===noTheme?"No theme":b),reactExports.useEffect(function(){$.current=!1}),E}},toFinite=toFinite_1;function toInteger$1(t){var e=toFinite(t),r=e%1;return e===e?r?e-r:e:0}var toInteger_1=toInteger$1;function arrayMap$1(t,e){for(var r=-1,n=t==null?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var _arrayMap=arrayMap$1,Symbol$2=_Symbol,arrayMap=_arrayMap,isArray$2=isArray_1,isSymbol=isSymbol_1,INFINITY=1/0,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(t){if(typeof t=="string")return t;if(isArray$2(t))return arrayMap(t,baseToString$1)+"";if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return e=="0"&&1/t==-INFINITY?"-0":e}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$1(t){return t==null?"":baseToString(t)}var toString_1=toString$1,root$4=_root,toInteger=toInteger_1,toNumber=toNumber_1,toString=toString_1,nativeIsFinite=root$4.isFinite,nativeMin=Math.min;function createRound$1(t){var e=Math[t];return function(r,n){if(r=toNumber(r),n=n==null?0:nativeMin(toInteger(n),292),n&&nativeIsFinite(r)){var o=(toString(r)+"e").split("e"),s=e(o[0]+"e"+(+o[1]+n));return o=(toString(s)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return e(r)}}var _createRound=createRound$1,createRound=_createRound,round=createRound("round"),round_1=round;const round$1=getDefaultExportFromCjs(round_1);var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(t){return this.__data__.set(t,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(t){return this.__data__.has(t)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new MapCache;++e<r;)this.add(t[e])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(t,e){return t.has(e)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays$2(t,e,r,n,o,s){var a=r&COMPARE_PARTIAL_FLAG$3,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var m=-1,v=!0,B=r&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(s.set(t,e),s.set(e,t);++m<u;){var $=t[m],p=e[m];if(n)var b=a?n(p,$,m,e,t,s):n($,p,m,t,e,s);if(b!==void 0){if(b)continue;v=!1;break}if(B){if(!arraySome(e,function(w,A){if(!cacheHas(B,A)&&($===w||o($,w,r,n,s)))return B.push(A)})){v=!1;break}}else if(!($===p||o($,p,r,n,s))){v=!1;break}}return s.delete(t),s.delete(e),v}var _equalArrays=equalArrays$2;function mapToArray$1(t){var e=-1,r=Array(t.size);return t.forEach(function(n,o){r[++e]=[o,n]}),r}var _mapToArray=mapToArray$1;function setToArray$1(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(t,e,r,n,o,s,a){switch(r){case dataViewTag$1:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag:return!(t.byteLength!=e.byteLength||!s(new Uint8Array$1(t),new Uint8Array$1(e)));case boolTag:case dateTag:case numberTag:return eq(+t,+e);case errorTag:return t.name==e.name&&t.message==e.message;case regexpTag:case stringTag:return t==e+"";case mapTag$1:var u=mapToArray;case setTag$1:var c=n&COMPARE_PARTIAL_FLAG$2;if(u||(u=setToArray),t.size!=e.size&&!c)return!1;var h=a.get(t);if(h)return h==e;n|=COMPARE_UNORDERED_FLAG,a.set(t,e);var d=equalArrays$1(u(t),u(e),n,o,s,a);return a.delete(t),d;case symbolTag:if(symbolValueOf)return symbolValueOf.call(t)==symbolValueOf.call(e)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var _arrayPush=arrayPush$1,arrayPush=_arrayPush,isArray$1=isArray_1;function baseGetAllKeys$1(t,e,r){var n=e(t);return isArray$1(t)?n:arrayPush(n,r(t))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(t,e){for(var r=-1,n=t==null?0:t.length,o=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[o++]=a)}return s}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(t){return t==null?[]:(t=Object(t),arrayFilter(nativeGetSymbols(t),function(e){return propertyIsEnumerable.call(t,e)}))}:stubArray,_getSymbols=getSymbols$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(t){if(!isPrototype(t))return nativeKeys(t);var e=[];for(var r in Object(t))hasOwnProperty$2.call(t,r)&&r!="constructor"&&e.push(r);return e}var _baseKeys=baseKeys$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys$1(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}var keys_1=keys$1,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys=keys_1;function getAllKeys$1(t){return baseGetAllKeys(t,keys,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(t,e,r,n,o,s){var a=r&COMPARE_PARTIAL_FLAG$1,u=getAllKeys(t),c=u.length,h=getAllKeys(e),d=h.length;if(c!=d&&!a)return!1;for(var m=c;m--;){var v=u[m];if(!(a?v in e:hasOwnProperty$1.call(e,v)))return!1}var B=s.get(t),$=s.get(e);if(B&&$)return B==e&&$==t;var p=!0;s.set(t,e),s.set(e,t);for(var b=a;++m<c;){v=u[m];var w=t[v],A=e[v];if(n)var T=a?n(A,w,v,e,t,s):n(w,A,v,t,e,s);if(!(T===void 0?w===A||o(w,A,r,n,s):T)){p=!1;break}b||(b=v=="constructor")}if(p&&!b){var E=t.constructor,D=e.constructor;E!=D&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof D=="function"&&D instanceof D)&&(p=!1)}return s.delete(t),s.delete(e),p}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$3=_root,DataView$2=getNative$3(root$3,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$2=_root,Promise$2=getNative$2(root$2,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$1=_root,Set$2=getNative$1(root$1,"Set"),_Set=Set$2,getNative=_getNative,root=_root,WeakMap$2=getNative(root,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(t){var e=baseGetTag(t),r=e==objectTag$1?t.constructor:void 0,n=r?toSource(r):"";if(n)switch(n){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return e});var _getTag=getTag$1,Stack=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(t,e,r,n,o,s){var a=isArray(t),u=isArray(e),c=a?arrayTag:getTag(t),h=u?arrayTag:getTag(e);c=c==argsTag?objectTag:c,h=h==argsTag?objectTag:h;var d=c==objectTag,m=h==objectTag,v=c==h;if(v&&isBuffer(t)){if(!isBuffer(e))return!1;a=!0,d=!1}if(v&&!d)return s||(s=new Stack),a||isTypedArray(t)?equalArrays(t,e,r,n,o,s):equalByTag(t,e,c,r,n,o,s);if(!(r&COMPARE_PARTIAL_FLAG)){var B=d&&hasOwnProperty.call(t,"__wrapped__"),$=m&&hasOwnProperty.call(e,"__wrapped__");if(B||$){var p=B?t.value():t,b=$?e.value():e;return s||(s=new Stack),o(p,b,r,n,s)}}return v?(s||(s=new Stack),equalObjects(t,e,r,n,o,s)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$1(t,e,r,n,o){return t===e?!0:t==null||e==null||!isObjectLike(t)&&!isObjectLike(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,r,n,baseIsEqual$1,o)}var _baseIsEqual=baseIsEqual$1,baseIsEqual=_baseIsEqual;function isEqual(t,e){return baseIsEqual(t,e)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var __assign=function(){return __assign=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},__assign.apply(this,arguments)};function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}var mapRange=function(t,e,r,n,o){return(t-e)*(o-n)/(r-e)+n},rotate=function(t,e){var r=t+e;return r>360?r-360:r},coinFlip=function(){return Math.random()>.5},zAxisRotation=[0,0,1],rotationTransforms=[[1,1,0],[1,0,1],[0,1,1],[1,0,0],[0,1,0],zAxisRotation],shouldBeCircle=function(t){return!isEqual$1(rotationTransforms[t],zAxisRotation)&&coinFlip()},ROTATION_SPEED_MIN=200,ROTATION_SPEED_MAX=800,CRAZY_PARTICLES_FREQUENCY=.1,CRAZY_PARTICLE_CRAZINESS=.25,BEZIER_MEDIAN=.5,rotationKeyframes=rotationTransforms.reduce(function(t,e,r){var n;return __assign(__assign({},t),(n={},n["@keyframes rotation-".concat(r)]={"50%":{transform:"rotate3d(".concat(e.map(function(o){return o/2}).join(),", 180deg)")},"100%":{transform:"rotate3d(".concat(e.join(),", 360deg)")}},n))},{}),confettiKeyframes=function(t,e,r){var n=typeof e=="string"?e:"".concat(e,"px"),o=t.reduce(function(s,a,u){var c,h=mapRange(Math.abs(rotate(a,90)-180),0,180,-r/2,r/2);return __assign(__assign({},s),(c={},c["@keyframes x-axis-".concat(u)]={to:{transform:"translateX(".concat(h,"px)")}},c))},{});return __assign({"@keyframes y-axis":{to:{transform:"translateY(".concat(n,")")}}},o)},confettoStyle=function(t,e,r,n,o){var s,a=Math.round(Math.random()*(ROTATION_SPEED_MAX-ROTATION_SPEED_MIN)+ROTATION_SPEED_MIN),u=Math.round(Math.random()*(rotationTransforms.length-1)),c=e-Math.round(Math.random()*1e3),h=Math.random()<CRAZY_PARTICLES_FREQUENCY,d=shouldBeCircle(u),m=h?round$1(Math.random()*CRAZY_PARTICLE_CRAZINESS,2):0,v=m*-1,B=m,$=round$1(Math.abs(mapRange(Math.abs(rotate(t.degree,90)-180),0,180,-1,1)),4),p=round$1(Math.random()*BEZIER_MEDIAN,4),b=round$1(Math.random()*r*(coinFlip()?1:-1),4),w=BEZIER_MEDIAN,A=round$1(Math.max(mapRange(Math.abs(t.degree-180),0,180,r,-r),0),4);return s={},s["&#confetti-particle-".concat(o)]={animation:"$x-axis-".concat(o," ").concat(c,"ms forwards cubic-bezier(").concat(m,", ").concat(v,", ").concat(B,", ").concat($,")"),"& > div":{width:d?n:Math.round(Math.random()*4)+n/2,height:d?n:Math.round(Math.random()*2)+n,animation:"$y-axis ".concat(c,"ms forwards cubic-bezier(").concat(p,", ").concat(b,", ").concat(w,", ").concat(A,")"),"&:after":__assign({backgroundColor:t.color,animation:"$rotation-".concat(u," ").concat(a,"ms infinite linear")},d?{borderRadius:"50%"}:{})}},s},useStyles=function(t){var e=t.particles,r=t.duration,n=t.height,o=t.width,s=t.force,a=t.particleSize,u=e.reduce(function(c,h,d){return __assign(__assign({},c),confettoStyle(h,r,s,a,d))},{});return createUseStyles(__assign(__assign(__assign({},rotationKeyframes),confettiKeyframes(e.map(function(c){return c.degree}),n,o)),{container:{width:0,height:0,position:"relative"},screen:{position:"fixed",top:0,left:0,right:0,bottom:0,overflow:"hidden",pointerEvents:"none"},particle:__assign(__assign({},u),{"& > div":{position:"absolute",left:0,top:0,"&:after":{content:"''",display:"block",width:"100%",height:"100%"}}})}),{name:"confetti-explosion"})},FORCE=.5,SIZE=12,HEIGHT="120vh",WIDTH=1e3,PARTICLE_COUNT=100,DURATION=2200,COLORS=["#FFC700","#FF0000","#2E3191","#41BBC7"],createParticles=function(t,e){var r=360/t;return range$1(t).map(function(n){return{color:e[n%e.length],degree:r*n}})};function ConfettiExplosion(t){var e=t.particleCount,r=e===void 0?PARTICLE_COUNT:e,n=t.duration,o=n===void 0?DURATION:n,s=t.colors,a=s===void 0?COLORS:s,u=t.particleSize,c=u===void 0?SIZE:u,h=t.force,d=h===void 0?FORCE:h,m=t.height,v=m===void 0?HEIGHT:m,B=t.width,$=B===void 0?WIDTH:B,p=t.zIndex,b=t.onComplete,w=__rest(t,["particleCount","duration","colors","particleSize","force","height","width","zIndex","onComplete"]),A=reactExports.useState(),T=A[0],E=A[1],D=createParticles(r,a),S=useStyles({particles:D,duration:o,particleSize:c,force:d,width:$,height:v})(),_=reactExports.useCallback(function(C){if(C){var I=C.getBoundingClientRect(),N=I.top,z=I.left;E({top:N,left:z})}},[]);return reactExports.useEffect(function(){if(typeof b=="function"){var C=setTimeout(b,o);return function(){return clearTimeout(C)}}},[o,b]),jsxRuntimeExports.jsx("div",__assign({ref:_,className:S.container},w,{children:T&&reactDomExports.createPortal(jsxRuntimeExports.jsx("div",__assign({className:S.screen},p?{style:{zIndex:p}}:null,{children:jsxRuntimeExports.jsx("div",__assign({style:{position:"absolute",top:T.top,left:T.left}},{children:D.map(function(C,I){return jsxRuntimeExports.jsx("div",__assign({id:"confetti-particle-".concat(I),className:S.particle},{children:jsxRuntimeExports.jsx("div",{})}),C.degree)})}))})),document.body)}))}async function listNFTForSale(t,e,r,n){const s=await new BrowserProvider(window.ethereum).getSigner();e=parseUnits(String(e),"ether");let a=new Contract(MARKETPLACE_CONTRACT_ADDRESS,NFTMarketplace.abi,s),u=await a.getListingPrice();u=u.toString();const h=await(await a.createToken(t,e,{value:u})).wait();let d=null;try{const v=await axios.get(`${BACKEND_API_URL}/cpu-metrics`);d=v.data,console.log("cpu temperature",v.data)}catch(v){console.error("error in getting cpu metric",v)}console.log("chain details inside mint nft func",n);let m={receipt:JSON.stringify(h),transaction_type:"Mint",block_difficulty:n.blockDifficulty,created_at:new Date,...d};console.log("this is data",m);try{const v=await axios.post(`${BACKEND_API_URL}/create-cpu-temperature-transaction/`,m);console.log("POST response",v)}catch(v){console.error("error in posting txn",v)}console.log("receipt",h),console.log("string receipt",JSON.stringify(h))}const NFTFormFields=({loading:t,setLoading:e})=>{useTheme();const r=useRouter(),{enqueueSnackbar:n}=useSnackbar(),{chainDetails:o}=useChainDetails(),{nftFormData:s,updateNftFormData:a}=useCreateNFT(),[u,c]=reactExports.useState(""),[h,d]=reactExports.useState(""),[m,v]=reactExports.useState(""),[B,$]=reactExports.useState(!1),p=E=>{const S=E.target.value.replace(/[^0-9.]/g,"");v(S),a({...s,price:S})},b=E=>{c(E.target.value),a({...s,title:E.target.value})},w=E=>{d(E.target.value),a({...s,description:E.target.value})},A=()=>{c(""),d(""),v(""),a({...s,base64Image:"",title:"",description:"",price:""})},T=async()=>{console.log("Form present in context:",s),e(!0);const E=await storeAsset(s.title,s.description,s.imageFile);await listNFTForSale(E,m,h,o),console.log("IPFS URL",E),e(!1),$(!0),n("NFT Minted Successfully",{variant:"success",autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}}),r.push("/marketplace")};return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Stack$1,{spacing:2,children:[jsxRuntimeExports.jsx(TextField,{label:"Title",fullWidth:!0,value:u,onChange:b}),jsxRuntimeExports.jsx(TextField,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:h,onChange:w}),jsxRuntimeExports.jsx(TextField,{label:"Price",fullWidth:!0,type:"text",value:m,onChange:p,InputProps:{endAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"end",children:jsxRuntimeExports.jsx(Chip,{avatar:jsxRuntimeExports.jsx(Avatar,{alt:"Ethereum",src:"/assets/ethereum.png"}),label:"ETH"})})}}),jsxRuntimeExports.jsxs(Stack$1,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:{xs:"flex-start",sm:"flex-end"},children:[jsxRuntimeExports.jsx(Button,{variant:"contained",color:"warning",onClick:A,sx:{width:100},children:"Reset"}),jsxRuntimeExports.jsx(Button,{variant:"contained",color:"success",onClick:T,sx:{width:100},children:"Mint"})]})]}),B&&jsxRuntimeExports.jsx(ConfettiExplosion,{})]})},CreateNFTForm=()=>{const[t,e]=reactExports.useState(!1);return jsxRuntimeExports.jsx(Box,{children:t?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx(CircularProgress,{})})}):jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:6,md:6,sm:12,children:jsxRuntimeExports.jsx(ImageUpload,{})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:6,md:6,sm:12,children:jsxRuntimeExports.jsx(NFTFormFields,{loading:t,setLoading:e})})]})})},MintNFTView=()=>jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsx(Stack$1,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:jsxRuntimeExports.jsx(Typography,{variant:"h4",children:"Mint NFTs"})}),jsxRuntimeExports.jsx(CreateNFTForm,{})]}),MintNFTView$1=MintNFTView;function MintNFT(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(W,{children:jsxRuntimeExports.jsx("title",{children:" Mint NFT | Minimal UI "})}),jsxRuntimeExports.jsx(MintNFTView$1,{})]})}export{MintNFT as default};
