import{j as e,r as l,T as t,I as P,aN as R,S as _,B as E,W as F}from"./index-c1be743a.js";import{J as H}from"./index-fbe56cf4.js";import{r as N,i as L}from"./createSvgIcon-3b5f10c6.js";import{C}from"./Card-3aa4196d.js";import{C as T}from"./CardContent-1f5ce5ed.js";import{C as U}from"./Container-c4415724.js";import{G as h}from"./Grid-5556d8af.js";import{c as G,d as M,b as d,a as n}from"./TableRow-11bc06b9.js";import"./isMuiElement-3683e2a8.js";var u={},O=L;Object.defineProperty(u,"__esModule",{value:!0});var B=u.default=void 0,W=O(N()),q=e,z=(0,W.default)((0,q.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");B=u.default=z;function J({blockData:r}){var j,m,p,f,y,v,g,S;const[s,x]=l.useState(!1),o=()=>{x(!s)},c=((j=r==null?void 0:r.result)==null?void 0:j.transactions)||[],i=a=>parseInt(a,16).toString(),I=a=>new Date(a*1e3).toLocaleString();return e.jsx(C,{sx:{width:"90%",margin:"auto"},children:e.jsxs(T,{children:[e.jsx(t,{variant:"h6",children:"Transaction Details"}),e.jsxs(t,{variant:"subtitle2",color:"textSecondary",children:["Timestamp: ",I(i((m=r==null?void 0:r.result)==null?void 0:m.timestamp))]}),e.jsxs(t,{variant:"subtitle2",color:"textSecondary",children:["Hash: ",(p=r==null?void 0:r.result)==null?void 0:p.hash]}),e.jsxs(t,{variant:"subtitle2",color:"textSecondary",children:["Parent Hash: ",(f=r==null?void 0:r.result)==null?void 0:f.parentHash]}),e.jsxs(t,{variant:"subtitle2",color:"textSecondary",children:["Nonce: ",i((y=r==null?void 0:r.result)==null?void 0:y.nonce)]}),e.jsxs(t,{variant:"subtitle2",color:"textSecondary",children:["Number: ",i((v=r==null?void 0:r.result)==null?void 0:v.number)]}),e.jsxs(t,{variant:"subtitle2",color:"textSecondary",children:["Gas Used: ",i((g=r==null?void 0:r.result)==null?void 0:g.gasUsed)]}),e.jsxs(t,{variant:"subtitle2",color:"textSecondary",children:["Size: ",i((S=r==null?void 0:r.result)==null?void 0:S.size)]}),e.jsx("hr",{})," ",c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"subtitle2",color:"textSecondary",children:"Transactions:"}),e.jsx(P,{"aria-label":"expand more",onClick:o,sx:{marginLeft:"auto",transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:e.jsx(B,{})}),s&&e.jsx("div",{children:c.map((a,w)=>e.jsxs("div",{children:[e.jsxs(t,{variant:"body1",children:["From: ",a.from]}),e.jsxs(t,{variant:"body2",color:"textSecondary",sx:{overflowWrap:"break-word",wordBreak:"break-all"},children:["Gas Price: ",i(a.gasPrice)]}),e.jsxs(t,{variant:"body1",sx:{overflowWrap:"break-word",wordBreak:"break-all"},children:["Value: ",i(a.value)]}),e.jsxs(t,{variant:"body2",color:"textSecondary",sx:{overflowWrap:"break-word",wordBreak:"break-all"},children:["Input: ",a.input]}),e.jsx("hr",{})]},w))})]}),c.length===0&&e.jsx(t,{variant:"body2",color:"textSecondary",children:"No transactions happened."})]})})}const V=()=>{var o;const{hash:r}=R(),[s,x]=l.useState({});return l.useState({}),l.useState({}),l.useEffect(()=>{fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBlockByHash",params:[r,!0],id:1})}).then(i=>i.json()).then(i=>{x(i)}).catch(i=>{console.log(i)})},[r]),s.result?e.jsxs(U,{children:[e.jsx(_,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsxs(t,{variant:"h4",children:["Block #",parseInt((o=s.result)==null?void 0:o.number,16)]})}),e.jsxs(h,{container:!0,sx:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[s.result?e.jsx(e.Fragment,{children:e.jsx(h,{item:!0,sx:{justifyContent:"flex-end"},children:e.jsx(C,{sx:{width:"100%"},children:e.jsxs(T,{children:[e.jsx(t,{variant:"h5",children:"Block Details"}),e.jsx(G,{children:e.jsxs(M,{children:[e.jsxs(d,{children:[e.jsx(n,{children:"Block Hash"}),e.jsx(n,{children:s.result.hash})]}),e.jsxs(d,{children:[e.jsx(n,{children:"Block Parent Hash"}),e.jsx(n,{children:s.result.parentHash})]}),e.jsxs(d,{children:[e.jsx(n,{children:"Time"}),e.jsx(n,{children:new Date(parseInt(s.result.timestamp,16)*1e3).toLocaleString()})]}),e.jsxs(d,{children:[e.jsx(n,{children:"Nonce"}),e.jsx(n,{children:s.result.nonce})]}),e.jsxs(d,{children:[e.jsx(n,{children:"Difficulty"}),e.jsx(n,{children:parseInt(s.result.difficulty,16)})]}),e.jsxs(d,{children:[e.jsx(n,{children:"Gas Limit"}),e.jsx(n,{children:parseInt(s.result.gasLimit,16)})]}),e.jsxs(d,{children:[e.jsx(n,{children:"Total Difficulty"}),e.jsx(n,{children:parseInt(s.result.totalDifficulty,16)})]})]})})]})})})}):e.jsx(e.Fragment,{}),s.result?e.jsx(e.Fragment,{children:e.jsx(h,{item:!0,children:e.jsx(E,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(J,{blockData:s})})})}):e.jsx(e.Fragment,{})]})]}):e.jsx(e.Fragment,{})},$=V;function ee(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{children:e.jsx("title",{children:" Product Detail | Minimal UI "})}),e.jsx($,{})]})}export{ee as default};
